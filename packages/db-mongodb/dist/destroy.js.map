{"version":3,"sources":["../src/destroy.ts"],"sourcesContent":["import type { Destroy } from 'payload'\n\nimport mongoose from 'mongoose'\n\nimport type { MongooseAdapter } from './index.js'\n\nexport const destroy: Destroy = async function destroy(this: MongooseAdapter) {\n  if (this.mongoMemoryServer) {\n    await this.mongoMemoryServer.stop()\n  } else {\n    await mongoose.disconnect()\n  }\n\n  Object.keys(mongoose.models).map((model) => mongoose.deleteModel(model))\n}\n"],"names":["mongoose","destroy","mongoMemoryServer","stop","disconnect","Object","keys","models","map","model","deleteModel"],"mappings":"AAEA,OAAOA,cAAc,WAAU;AAI/B,OAAO,MAAMC,UAAmB,eAAeA;IAC7C,IAAI,IAAI,CAACC,iBAAiB,EAAE;QAC1B,MAAM,IAAI,CAACA,iBAAiB,CAACC,IAAI;IACnC,OAAO;QACL,MAAMH,SAASI,UAAU;IAC3B;IAEAC,OAAOC,IAAI,CAACN,SAASO,MAAM,EAAEC,GAAG,CAAC,CAACC,QAAUT,SAASU,WAAW,CAACD;AACnE,EAAC"}