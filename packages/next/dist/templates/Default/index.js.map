{"version":3,"file":"index.js","names":["ActionsProvider","AppHeader","BulkUploadProvider","EntityVisibilityProvider","NavToggler","RenderServerComponent","React","DefaultNav","NavHamburger","Wrapper","baseClass","DefaultTemplate","children","className","collectionSlug","docID","documentSubViewType","globalSlug","i18n","locale","params","payload","permissions","searchParams","user","viewActions","viewType","visibleEntities","admin","avatar","components","header","CustomHeader","Nav","CustomNav","undefined","config","clientProps","useMemo","serverProps","Actions","reduce","acc","action","path","Component","importMap","NavComponent","Fallback","_jsx","_jsxs","style","position","id","CustomAvatar","CustomIcon","graphics","Icon"],"sources":["../../../src/templates/Default/index.tsx"],"sourcesContent":["import type {\n  CustomComponent,\n  DocumentSubViewTypes,\n  ServerProps,\n  ViewTypes,\n  VisibleEntities,\n} from 'payload'\n\nimport {\n  ActionsProvider,\n  AppHeader,\n  BulkUploadProvider,\n  EntityVisibilityProvider,\n  NavToggler,\n} from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\n\nimport './index.scss'\n\nimport React from 'react'\n\nimport { DefaultNav } from '../../elements/Nav/index.js'\nimport { NavHamburger } from './NavHamburger/index.js'\nimport { Wrapper } from './Wrapper/index.js'\n\nconst baseClass = 'template-default'\n\nexport type DefaultTemplateProps = {\n  children?: React.ReactNode\n  className?: string\n  collectionSlug?: string\n  docID?: number | string\n  documentSubViewType?: DocumentSubViewTypes\n  globalSlug?: string\n  viewActions?: CustomComponent[]\n  viewType?: ViewTypes\n  visibleEntities: VisibleEntities\n} & ServerProps\n\nexport const DefaultTemplate: React.FC<DefaultTemplateProps> = ({\n  children,\n  className,\n  collectionSlug,\n  docID,\n  documentSubViewType,\n  globalSlug,\n  i18n,\n  locale,\n  params,\n  payload,\n  permissions,\n  searchParams,\n  user,\n  viewActions,\n  viewType,\n  visibleEntities,\n}) => {\n  const {\n    admin: {\n      avatar,\n      components,\n      components: { header: CustomHeader, Nav: CustomNav } = {\n        header: undefined,\n        Nav: undefined,\n      },\n    } = {},\n  } = payload.config || {}\n\n  const clientProps = React.useMemo(() => {\n    return {\n      documentSubViewType,\n      viewType,\n      visibleEntities,\n    }\n  }, [documentSubViewType, viewType, visibleEntities])\n\n  const serverProps = React.useMemo<ServerProps>(\n    () => ({\n      collectionSlug,\n      docID,\n      globalSlug,\n      i18n,\n      locale,\n      params,\n      payload,\n      permissions,\n      searchParams,\n      user,\n    }),\n    [\n      i18n,\n      locale,\n      params,\n      payload,\n      permissions,\n      searchParams,\n      user,\n      globalSlug,\n      collectionSlug,\n      docID,\n    ],\n  )\n\n  const { Actions } = React.useMemo<{\n    Actions: Record<string, React.ReactNode>\n  }>(() => {\n    return {\n      Actions: viewActions\n        ? viewActions.reduce((acc, action) => {\n            if (action) {\n              if (typeof action === 'object') {\n                acc[action.path] = RenderServerComponent({\n                  clientProps,\n                  Component: action,\n                  importMap: payload.importMap,\n                  serverProps,\n                })\n              } else {\n                acc[action] = RenderServerComponent({\n                  clientProps,\n                  Component: action,\n                  importMap: payload.importMap,\n                  serverProps,\n                })\n              }\n            }\n\n            return acc\n          }, {})\n        : undefined,\n    }\n  }, [payload, serverProps, viewActions, clientProps])\n\n  const NavComponent = RenderServerComponent({\n    clientProps,\n    Component: CustomNav,\n    Fallback: DefaultNav,\n    importMap: payload.importMap,\n    serverProps,\n  })\n\n  return (\n    <EntityVisibilityProvider visibleEntities={visibleEntities}>\n      <BulkUploadProvider>\n        <ActionsProvider Actions={Actions}>\n          {RenderServerComponent({\n            clientProps,\n            Component: CustomHeader,\n            importMap: payload.importMap,\n            serverProps,\n          })}\n          <div style={{ position: 'relative' }}>\n            <div className={`${baseClass}__nav-toggler-wrapper`} id=\"nav-toggler\">\n              <div className={`${baseClass}__nav-toggler-container`} id=\"nav-toggler\">\n                <NavToggler className={`${baseClass}__nav-toggler`}>\n                  <NavHamburger />\n                </NavToggler>\n              </div>\n            </div>\n            <Wrapper baseClass={baseClass} className={className}>\n              {NavComponent}\n              <div className={`${baseClass}__wrap`}>\n                <AppHeader\n                  CustomAvatar={\n                    avatar !== 'gravatar' && avatar !== 'default'\n                      ? RenderServerComponent({\n                          Component: avatar.Component,\n                          importMap: payload.importMap,\n                          serverProps,\n                        })\n                      : undefined\n                  }\n                  CustomIcon={\n                    components?.graphics?.Icon\n                      ? RenderServerComponent({\n                          Component: components.graphics.Icon,\n                          importMap: payload.importMap,\n                          serverProps,\n                        })\n                      : undefined\n                  }\n                />\n                {children}\n              </div>\n            </Wrapper>\n          </div>\n        </ActionsProvider>\n      </BulkUploadProvider>\n    </EntityVisibilityProvider>\n  )\n}\n"],"mappings":"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","ignoreList":[]}