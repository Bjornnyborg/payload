{"version":3,"file":"index.js","names":["RenderServerComponent","Fragment","DocumentTabLink","baseClass","DocumentTab","props","apiURL","collectionConfig","condition","globalConfig","href","tabHref","i18n","isActive","tabIsActive","label","newTab","payload","permissions","Pill","Pill_Component","config","routes","collection","global","meetsCondition","Boolean","labelToRender","t","_jsx","adminRoute","admin","ariaLabel","isCollection","_jsxs","className","Component","Fallback","importMap","serverProps"],"sources":["../../../../../src/elements/DocumentHeader/Tabs/Tab/index.tsx"],"sourcesContent":["import type { DocumentTabConfig, DocumentTabServerProps, ServerProps } from 'payload'\nimport type React from 'react'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { Fragment } from 'react'\n\nimport { DocumentTabLink } from './TabLink.js'\nimport './index.scss'\n\nexport const baseClass = 'doc-tab'\n\nexport const DocumentTab: React.FC<\n  { readonly Pill_Component?: React.FC } & DocumentTabConfig & DocumentTabServerProps\n> = (props) => {\n  const {\n    apiURL,\n    collectionConfig,\n    condition,\n    globalConfig,\n    href: tabHref,\n    i18n,\n    isActive: tabIsActive,\n    label,\n    newTab,\n    payload,\n    permissions,\n    Pill,\n    Pill_Component,\n  } = props\n\n  const { config } = payload\n  const { routes } = config\n\n  let href = typeof tabHref === 'string' ? tabHref : ''\n  let isActive = typeof tabIsActive === 'boolean' ? tabIsActive : false\n\n  if (typeof tabHref === 'function') {\n    href = tabHref({\n      apiURL,\n      collection: collectionConfig,\n      global: globalConfig,\n      routes,\n    })\n  }\n\n  if (typeof tabIsActive === 'function') {\n    isActive = tabIsActive({\n      href,\n    })\n  }\n\n  const meetsCondition =\n    !condition ||\n    (condition && Boolean(condition({ collectionConfig, config, globalConfig, permissions })))\n\n  if (meetsCondition) {\n    const labelToRender =\n      typeof label === 'function'\n        ? label({\n            t: i18n.t,\n          })\n        : label\n\n    return (\n      <DocumentTabLink\n        adminRoute={routes.admin}\n        ariaLabel={labelToRender}\n        baseClass={baseClass}\n        href={href}\n        isActive={isActive}\n        isCollection={!!collectionConfig && !globalConfig}\n        newTab={newTab}\n      >\n        <span className={`${baseClass}__label`}>\n          {labelToRender}\n          {Pill || Pill_Component ? (\n            <Fragment>\n              &nbsp;\n              {RenderServerComponent({\n                Component: Pill,\n                Fallback: Pill_Component,\n                importMap: payload.importMap,\n                serverProps: {\n                  i18n,\n                  payload,\n                  permissions,\n                } satisfies ServerProps,\n              })}\n            </Fragment>\n          ) : null}\n        </span>\n      </DocumentTabLink>\n    )\n  }\n\n  return null\n}\n"],"mappings":";AAGA,SAASA,qBAAqB,QAAQ;AACtC,SAASC,QAAQ,QAAQ;AAEzB,SAASC,eAAe,QAAQ;AAGhC,OAAO,MAAMC,SAAA,GAAY;AAEzB,OAAO,MAAMC,WAAA,GAERC,KAAA;EACH,MAAM;IACJC,MAAM;IACNC,gBAAgB;IAChBC,SAAS;IACTC,YAAY;IACZC,IAAA,EAAMC,OAAO;IACbC,IAAI;IACJC,QAAA,EAAUC,WAAW;IACrBC,KAAK;IACLC,MAAM;IACNC,OAAO;IACPC,WAAW;IACXC,IAAI;IACJC;EAAc,CACf,GAAGf,KAAA;EAEJ,MAAM;IAAEgB;EAAM,CAAE,GAAGJ,OAAA;EACnB,MAAM;IAAEK;EAAM,CAAE,GAAGD,MAAA;EAEnB,IAAIX,IAAA,GAAO,OAAOC,OAAA,KAAY,WAAWA,OAAA,GAAU;EACnD,IAAIE,QAAA,GAAW,OAAOC,WAAA,KAAgB,YAAYA,WAAA,GAAc;EAEhE,IAAI,OAAOH,OAAA,KAAY,YAAY;IACjCD,IAAA,GAAOC,OAAA,CAAQ;MACbL,MAAA;MACAiB,UAAA,EAAYhB,gBAAA;MACZiB,MAAA,EAAQf,YAAA;MACRa;IACF;EACF;EAEA,IAAI,OAAOR,WAAA,KAAgB,YAAY;IACrCD,QAAA,GAAWC,WAAA,CAAY;MACrBJ;IACF;EACF;EAEA,MAAMe,cAAA,GACJ,CAACjB,SAAA,IACAA,SAAA,IAAakB,OAAA,CAAQlB,SAAA,CAAU;IAAED,gBAAA;IAAkBc,MAAA;IAAQZ,YAAA;IAAcS;EAAY;EAExF,IAAIO,cAAA,EAAgB;IAClB,MAAME,aAAA,GACJ,OAAOZ,KAAA,KAAU,aACbA,KAAA,CAAM;MACJa,CAAA,EAAGhB,IAAA,CAAKgB;IACV,KACAb,KAAA;IAEN,oBACEc,IAAA,CAAC3B,eAAA;MACC4B,UAAA,EAAYR,MAAA,CAAOS,KAAK;MACxBC,SAAA,EAAWL,aAAA;MACXxB,SAAA,EAAWA,SAAA;MACXO,IAAA,EAAMA,IAAA;MACNG,QAAA,EAAUA,QAAA;MACVoB,YAAA,EAAc,CAAC,CAAC1B,gBAAA,IAAoB,CAACE,YAAA;MACrCO,MAAA,EAAQA,MAAA;gBAER,aAAAkB,KAAA,CAAC;QAAKC,SAAA,EAAW,GAAGhC,SAAA,SAAkB;mBACnCwB,aAAA,EACAR,IAAA,IAAQC,cAAA,gBACPc,KAAA,CAACjC,QAAA;qBAAS,KAEPD,qBAAA,CAAsB;YACrBoC,SAAA,EAAWjB,IAAA;YACXkB,QAAA,EAAUjB,cAAA;YACVkB,SAAA,EAAWrB,OAAA,CAAQqB,SAAS;YAC5BC,WAAA,EAAa;cACX3B,IAAA;cACAK,OAAA;cACAC;YACF;UACF;aAEA;;;EAIZ;EAEA,OAAO;AACT","ignoreList":[]}