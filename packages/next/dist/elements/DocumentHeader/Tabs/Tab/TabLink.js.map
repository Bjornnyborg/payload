{"version":3,"file":"TabLink.js","names":["c","_c","Link","useParams","usePathname","useSearchParams","formatAdminURL","React","DocumentTabLink","t0","$","adminRoute","ariaLabel","baseClass","children","href","hrefFromProps","isActive","isActiveFromProps","newTab","pathname","params","searchParams","locale","get","entityType","entitySlug","segmentThree","segments","isCollection","t1","t2","path","docPath","hrefWithLocale","t3","startsWith","t4","t5","filter","Boolean","t6","join","t7","t8","t9","rel","target","t10","t11","_jsx","className","prefetch","tabIndex"],"sources":["../../../../../src/elements/DocumentHeader/Tabs/Tab/TabLink.tsx"],"sourcesContent":["'use client'\nimport type { SanitizedConfig } from 'payload'\n\nimport { Link } from '@payloadcms/ui'\nimport { useParams, usePathname, useSearchParams } from 'next/navigation.js'\nimport { formatAdminURL } from 'payload/shared'\nimport React from 'react'\n\nexport const DocumentTabLink: React.FC<{\n  adminRoute: SanitizedConfig['routes']['admin']\n  ariaLabel?: string\n  baseClass: string\n  children?: React.ReactNode\n  href: string\n  isActive?: boolean\n  isCollection?: boolean\n  newTab?: boolean\n}> = ({\n  adminRoute,\n  ariaLabel,\n  baseClass,\n  children,\n  href: hrefFromProps,\n  isActive: isActiveFromProps,\n  newTab,\n}) => {\n  const pathname = usePathname()\n  const params = useParams()\n\n  const searchParams = useSearchParams()\n\n  const locale = searchParams.get('locale')\n\n  const [entityType, entitySlug, segmentThree, segmentFour, ...rest] = params.segments || []\n  const isCollection = entityType === 'collections'\n\n  let docPath = formatAdminURL({\n    adminRoute,\n    path: `/${isCollection ? 'collections' : 'globals'}/${entitySlug}`,\n  })\n\n  if (isCollection && segmentThree) {\n    // doc ID\n    docPath += `/${segmentThree}`\n  }\n\n  const href = `${docPath}${hrefFromProps}`\n  // separated the two so it doesn't break checks against pathname\n  const hrefWithLocale = `${href}${locale ? `?locale=${locale}` : ''}`\n\n  const isActive =\n    (href === docPath && pathname === docPath) ||\n    (href !== docPath && pathname.startsWith(href)) ||\n    isActiveFromProps\n\n  return (\n    <li\n      aria-label={ariaLabel}\n      className={[baseClass, isActive && `${baseClass}--active`].filter(Boolean).join(' ')}\n    >\n      <Link\n        className={`${baseClass}__link`}\n        href={!isActive || href !== pathname ? hrefWithLocale : ''}\n        prefetch={false}\n        {...(newTab && { rel: 'noopener noreferrer', target: '_blank' })}\n        tabIndex={isActive ? -1 : 0}\n      >\n        {children}\n      </Link>\n    </li>\n  )\n}\n"],"mappings":"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","ignoreList":[]}