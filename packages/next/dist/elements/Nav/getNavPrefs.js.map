{"version":3,"file":"getNavPrefs.js","names":["cache","getNavPrefs","payload","userID","userSlug","find","collection","depth","limit","pagination","where","and","key","equals","then","res","docs","value"],"sources":["../../../src/elements/Nav/getNavPrefs.ts"],"sourcesContent":["import type { DefaultDocumentIDType, NavPreferences, Payload, User } from 'payload'\n\nimport { cache } from 'react'\n\nexport const getNavPrefs = cache(\n  async (\n    payload: Payload,\n    userID: DefaultDocumentIDType,\n    userSlug: string,\n  ): Promise<NavPreferences> => {\n    return userSlug\n      ? await payload\n          .find({\n            collection: 'payload-preferences',\n            depth: 0,\n            limit: 1,\n            pagination: false,\n            where: {\n              and: [\n                {\n                  key: {\n                    equals: 'nav',\n                  },\n                },\n                {\n                  'user.relationTo': {\n                    equals: userSlug,\n                  },\n                },\n                {\n                  'user.value': {\n                    equals: userID,\n                  },\n                },\n              ],\n            },\n          })\n          ?.then((res) => res?.docs?.[0]?.value)\n      : null\n  },\n)\n"],"mappings":"AAEA,SAASA,KAAK,QAAQ;AAEtB,OAAO,MAAMC,WAAA,GAAcD,KAAA,CACzB,OACEE,OAAA,EACAC,MAAA,EACAC,QAAA;EAEA,OAAOA,QAAA,GACH,MAAMF,OAAA,CACHG,IAAI,CAAC;IACJC,UAAA,EAAY;IACZC,KAAA,EAAO;IACPC,KAAA,EAAO;IACPC,UAAA,EAAY;IACZC,KAAA,EAAO;MACLC,GAAA,EAAK,CACH;QACEC,GAAA,EAAK;UACHC,MAAA,EAAQ;QACV;MACF,GACA;QACE,mBAAmB;UACjBA,MAAA,EAAQT;QACV;MACF,GACA;QACE,cAAc;UACZS,MAAA,EAAQV;QACV;MACF;IAEJ;EACF,IACEW,IAAA,CAAMC,GAAA,IAAQA,GAAA,EAAKC,IAAA,GAAO,EAAE,EAAEC,KAAA,IAClC;AACN","ignoreList":[]}