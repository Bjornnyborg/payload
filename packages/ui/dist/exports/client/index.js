"use client";
// Workaround for react-datepicker and other cjs dependencies potentially inserting require("react") statements
import * as requireReact from 'react';
import * as requireReactDom from 'react-dom';

function require(m) {
 if (m === 'react') return requireReact;
 if (m === 'react-dom') return requireReactDom;
 throw new Error(`Unknown module ${m}`);
}
// Workaround end

import{a as Wf,b as H,c as Hf,d as St,e as SD,f as ID,g as zf,h as RD,i as _D}from"./chunk-QPA2ZA5J.js";import{a as ft,b as ol,c as Gf,d as k,e as Li,f as dv,g as mv,h as Fs,i as Cu,j as wD,k as fv,l as DD,m as FD,n as AD}from"./chunk-OA4JPMVI.js";import{c as Cr,d as uv,e as Ds}from"./chunk-5LKBKI4T.js";var Sv=Cr(gt=>{"use strict";function Zf(t,e){var o=t.length;t.push(e);e:for(;0<o;){var n=o-1>>>1,r=t[n];if(0<wu(r,e))t[n]=e,t[o]=r,o=n;else break e}}function wr(t){return t.length===0?null:t[0]}function Iu(t){if(t.length===0)return null;var e=t[0],o=t.pop();if(o!==e){t[0]=o;e:for(var n=0,r=t.length,s=r>>>1;n<s;){var i=2*(n+1)-1,l=t[i],a=i+1,c=t[a];if(0>wu(l,o))a<r&&0>wu(c,l)?(t[n]=c,t[a]=o,n=a):(t[n]=l,t[i]=o,n=i);else if(a<r&&0>wu(c,o))t[n]=c,t[a]=o,n=a;else break e}}return e}function wu(t,e){var o=t.sortIndex-e.sortIndex;return o!==0?o:t.id-e.id}gt.unstable_now=void 0;typeof performance=="object"&&typeof performance.now=="function"?(pv=performance,gt.unstable_now=function(){return pv.now()}):(Xf=Date,hv=Xf.now(),gt.unstable_now=function(){return Xf.now()-hv});var pv,Xf,hv,Ur=[],Wn=[],TD=1,ir=null,yo=3,Ru=!1,As=!1,nl=!1,vv=typeof setTimeout=="function"?setTimeout:null,xv=typeof clearTimeout=="function"?clearTimeout:null,gv=typeof setImmediate<"u"?setImmediate:null;function Su(t){for(var e=wr(Wn);e!==null;){if(e.callback===null)Iu(Wn);else if(e.startTime<=t)Iu(Wn),e.sortIndex=e.expirationTime,Zf(Ur,e);else break;e=wr(Wn)}}function Jf(t){if(nl=!1,Su(t),!As)if(wr(Ur)!==null)As=!0,qf();else{var e=wr(Wn);e!==null&&Qf(Jf,e.startTime-t)}}var _u=!1,sl=-1,yv=5,Cv=-1;function wv(){return!(gt.unstable_now()-Cv<yv)}function Uf(){if(_u){var t=gt.unstable_now();Cv=t;var e=!0;try{e:{As=!1,nl&&(nl=!1,xv(sl),sl=-1),Ru=!0;var o=yo;try{t:{for(Su(t),ir=wr(Ur);ir!==null&&!(ir.expirationTime>t&&wv());){var n=ir.callback;if(typeof n=="function"){ir.callback=null,yo=ir.priorityLevel;var r=n(ir.expirationTime<=t);if(t=gt.unstable_now(),typeof r=="function"){ir.callback=r,Su(t),e=!0;break t}ir===wr(Ur)&&Iu(Ur),Su(t)}else Iu(Ur);ir=wr(Ur)}if(ir!==null)e=!0;else{var s=wr(Wn);s!==null&&Qf(Jf,s.startTime-t),e=!1}}break e}finally{ir=null,yo=o,Ru=!1}e=void 0}}finally{e?rl():_u=!1}}}var rl;typeof gv=="function"?rl=function(){gv(Uf)}:typeof MessageChannel<"u"?(Yf=new MessageChannel,bv=Yf.port2,Yf.port1.onmessage=Uf,rl=function(){bv.postMessage(null)}):rl=function(){vv(Uf,0)};var Yf,bv;function qf(){_u||(_u=!0,rl())}function Qf(t,e){sl=vv(function(){t(gt.unstable_now())},e)}gt.unstable_IdlePriority=5;gt.unstable_ImmediatePriority=1;gt.unstable_LowPriority=4;gt.unstable_NormalPriority=3;gt.unstable_Profiling=null;gt.unstable_UserBlockingPriority=2;gt.unstable_cancelCallback=function(t){t.callback=null};gt.unstable_continueExecution=function(){As||Ru||(As=!0,qf())};gt.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):yv=0<t?Math.floor(1e3/t):5};gt.unstable_getCurrentPriorityLevel=function(){return yo};gt.unstable_getFirstCallbackNode=function(){return wr(Ur)};gt.unstable_next=function(t){switch(yo){case 1:case 2:case 3:var e=3;break;default:e=yo}var o=yo;yo=e;try{return t()}finally{yo=o}};gt.unstable_pauseExecution=function(){};gt.unstable_requestPaint=function(){};gt.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var o=yo;yo=t;try{return e()}finally{yo=o}};gt.unstable_scheduleCallback=function(t,e,o){var n=gt.unstable_now();switch(typeof o=="object"&&o!==null?(o=o.delay,o=typeof o=="number"&&0<o?n+o:n):o=n,t){case 1:var r=-1;break;case 2:r=250;break;case 5:r=1073741823;break;case 4:r=1e4;break;default:r=5e3}return r=o+r,t={id:TD++,callback:e,priorityLevel:t,startTime:o,expirationTime:r,sortIndex:-1},o>n?(t.sortIndex=o,Zf(Wn,t),wr(Ur)===null&&t===wr(Wn)&&(nl?(xv(sl),sl=-1):nl=!0,Qf(Jf,o-n))):(t.sortIndex=r,Zf(Ur,t),As||Ru||(As=!0,qf())),t};gt.unstable_shouldYield=wv;gt.unstable_wrapCallback=function(t){var e=yo;return function(){var o=yo;yo=e;try{return t.apply(this,arguments)}finally{yo=o}}}});var Rv=Cr((ZW,Iv)=>{"use strict";Iv.exports=Sv()});var yC=Cr(dt=>{"use strict";var ao=typeof Symbol=="function"&&Symbol.for,Ah=ao?Symbol.for("react.element"):60103,Th=ao?Symbol.for("react.portal"):60106,jd=ao?Symbol.for("react.fragment"):60107,Od=ao?Symbol.for("react.strict_mode"):60108,Md=ao?Symbol.for("react.profiler"):60114,Bd=ao?Symbol.for("react.provider"):60109,Vd=ao?Symbol.for("react.context"):60110,Eh=ao?Symbol.for("react.async_mode"):60111,Gd=ao?Symbol.for("react.concurrent_mode"):60111,Wd=ao?Symbol.for("react.forward_ref"):60112,Hd=ao?Symbol.for("react.suspense"):60113,d6=ao?Symbol.for("react.suspense_list"):60120,zd=ao?Symbol.for("react.memo"):60115,Xd=ao?Symbol.for("react.lazy"):60116,m6=ao?Symbol.for("react.block"):60121,f6=ao?Symbol.for("react.fundamental"):60117,p6=ao?Symbol.for("react.responder"):60118,h6=ao?Symbol.for("react.scope"):60119;function Ko(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ah:switch(t=t.type,t){case Eh:case Gd:case jd:case Md:case Od:case Hd:return t;default:switch(t=t&&t.$$typeof,t){case Vd:case Wd:case Xd:case zd:case Bd:return t;default:return e}}case Th:return e}}}function xC(t){return Ko(t)===Gd}dt.AsyncMode=Eh;dt.ConcurrentMode=Gd;dt.ContextConsumer=Vd;dt.ContextProvider=Bd;dt.Element=Ah;dt.ForwardRef=Wd;dt.Fragment=jd;dt.Lazy=Xd;dt.Memo=zd;dt.Portal=Th;dt.Profiler=Md;dt.StrictMode=Od;dt.Suspense=Hd;dt.isAsyncMode=function(t){return xC(t)||Ko(t)===Eh};dt.isConcurrentMode=xC;dt.isContextConsumer=function(t){return Ko(t)===Vd};dt.isContextProvider=function(t){return Ko(t)===Bd};dt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ah};dt.isForwardRef=function(t){return Ko(t)===Wd};dt.isFragment=function(t){return Ko(t)===jd};dt.isLazy=function(t){return Ko(t)===Xd};dt.isMemo=function(t){return Ko(t)===zd};dt.isPortal=function(t){return Ko(t)===Th};dt.isProfiler=function(t){return Ko(t)===Md};dt.isStrictMode=function(t){return Ko(t)===Od};dt.isSuspense=function(t){return Ko(t)===Hd};dt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===jd||t===Gd||t===Md||t===Od||t===Hd||t===d6||typeof t=="object"&&t!==null&&(t.$$typeof===Xd||t.$$typeof===zd||t.$$typeof===Bd||t.$$typeof===Vd||t.$$typeof===Wd||t.$$typeof===f6||t.$$typeof===p6||t.$$typeof===h6||t.$$typeof===m6)};dt.typeOf=Ko});var wC=Cr((Mse,CC)=>{"use strict";CC.exports=yC()});var AC=Cr((Bse,FC)=>{"use strict";var Ph=wC(),g6={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},b6={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},v6={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_C={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Nh={};Nh[Ph.ForwardRef]=v6;Nh[Ph.Memo]=_C;function SC(t){return Ph.isMemo(t)?_C:Nh[t.$$typeof]||g6}var x6=Object.defineProperty,y6=Object.getOwnPropertyNames,IC=Object.getOwnPropertySymbols,C6=Object.getOwnPropertyDescriptor,w6=Object.getPrototypeOf,RC=Object.prototype;function DC(t,e,o){if(typeof e!="string"){if(RC){var n=w6(e);n&&n!==RC&&DC(t,n,o)}var r=y6(e);IC&&(r=r.concat(IC(e)));for(var s=SC(t),i=SC(e),l=0;l<r.length;++l){var a=r[l];if(!b6[a]&&!(o&&o[a])&&!(i&&i[a])&&!(s&&s[a])){var c=C6(e,a);try{x6(t,a,c)}catch{}}}}return t}FC.exports=DC});var fg=Cr((wue,W2)=>{var mg=Math.floor(Math.random()*16777215),O2=pt.index=parseInt(Math.random()*16777215,10),M2=(typeof process>"u"||typeof process.pid!="number"?Math.floor(Math.random()*1e5):process.pid)%65535,B2=(()=>{try{return _Buffer}catch{try{return Buffer}catch{return null}}})(),lm=function(t){return!!(t!=null&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))},G2=[];for(Vo=0;Vo<256;Vo++)G2[Vo]=(Vo<=15?"0":"")+Vo.toString(16);var Vo,V2=new RegExp("^[0-9a-fA-F]{24}$"),rc=[];Vo=0;for(;Vo<10;)rc[48+Vo]=Vo++;for(;Vo<16;)rc[55+Vo]=rc[87+Vo]=Vo++;function pt(t){if(!(this instanceof pt))return new pt(t);if(t&&(t instanceof pt||t._bsontype==="ObjectID"))return t;if(this._bsontype="ObjectID",t==null||typeof t=="number"){this.id=this.generate(t);return}var e=pt.isValid(t);if(!e&&t!=null)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(e&&typeof t=="string"&&t.length===24)return pt.createFromHexString(t);if(t!=null&&t.length===12)this.id=t;else{if(t!=null&&typeof t.toHexString=="function")return t;throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}W2.exports=pt;pt.default=pt;pt.createFromTime=function(t){return t=parseInt(t,10)%4294967295,new pt(g9(8,t)+"0000000000000000")};pt.createFromHexString=function(t){if(typeof t>"u"||t!=null&&t.length!==24)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var e="",o=0;o<24;)e+=String.fromCharCode(rc[t.charCodeAt(o++)]<<4|rc[t.charCodeAt(o++)]);return new pt(e)};pt.isValid=function(t){return t==null?!1:typeof t=="number"?!0:typeof t=="string"?t.length===12||t.length===24&&V2.test(t):t instanceof pt?!0:lm(t)?pt.isValid(t.toString("hex")):typeof t.toHexString=="function"&&B2&&(t.id instanceof B2||typeof t.id=="string")?t.id.length===12||t.id.length===24&&V2.test(t.id):!1};pt.prototype={constructor:pt,toHexString:function(){if(!this.id||!this.id.length)throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id.length===24)return this.id;if(lm(this.id))return this.id.toString("hex");for(var t="",e=0;e<this.id.length;e++)t+=G2[this.id.charCodeAt(e)];return t},equals:function(t){return t instanceof pt?this.toString()===t.toString():typeof t=="string"&&pt.isValid(t)&&t.length===12&&lm(this.id)?t===this.id.toString("binary"):typeof t=="string"&&pt.isValid(t)&&t.length===24?t.toLowerCase()===this.toHexString():typeof t=="string"&&pt.isValid(t)&&t.length===12?t===this.id:t!=null&&(t instanceof pt||t.toHexString)?t.toHexString()===this.toHexString():!1},getTimestamp:function(){var t=new Date,e;return lm(this.id)?e=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:e=this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(Math.floor(e)*1e3),t},generate:function(t){typeof t!="number"&&(t=~~(Date.now()/1e3)),t=parseInt(t,10)%4294967295;var e=h9();return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255,mg>>16&255,mg>>8&255,mg&255,M2>>8&255,M2&255,e>>16&255,e>>8&255,e&255)}};function h9(){return O2=(O2+1)%16777215}function g9(t,e){return e=e.toString(16),e.length===t?e:"00000000".substring(e.length,t)+e}var b9=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";pt.prototype[b9]=function(){return"ObjectID("+this+")"};pt.prototype.toJSON=pt.prototype.toHexString;pt.prototype.toString=pt.prototype.toHexString});var eb=Cr((kve,yS)=>{function Kg(t){return t===void 0}function pk(t){return t===null}function hk(t){return typeof t=="boolean"}function Pm(t){return t===Object(t)}function vS(t){return Array.isArray(t)}function gk(t){return t instanceof Date}function xS(t,e){return e?Pm(t)&&!Kg(t.uri):Pm(t)&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.slice=="function"}function bk(t,e){return xS(t,e)&&typeof t.name=="string"&&(Pm(t.lastModifiedDate)||typeof t.lastModified=="number")}function ci(t){return Kg(t)?!1:t}function Qg(t,e,o,n){e=e||{},o=o||new FormData,e.indices=ci(e.indices),e.nullsAsUndefineds=ci(e.nullsAsUndefineds),e.booleansAsIntegers=ci(e.booleansAsIntegers),e.allowEmptyArrays=ci(e.allowEmptyArrays),e.noAttributesWithArrayNotation=ci(e.noAttributesWithArrayNotation),e.noFilesWithArrayNotation=ci(e.noFilesWithArrayNotation),e.dotsForObjectNotation=ci(e.dotsForObjectNotation);let r=typeof o.getParts=="function";return Kg(t)||(pk(t)?e.nullsAsUndefineds||o.append(n,""):hk(t)?e.booleansAsIntegers?o.append(n,t?1:0):o.append(n,t):vS(t)?t.length?t.forEach((s,i)=>{let l=n+"["+(e.indices?i:"")+"]";(e.noAttributesWithArrayNotation||e.noFilesWithArrayNotation&&bk(s,r))&&(l=n),Qg(s,e,o,l)}):e.allowEmptyArrays&&o.append(e.noAttributesWithArrayNotation?n:n+"[]",""):gk(t)?o.append(n,t.toISOString()):Pm(t)&&!xS(t,r)?Object.keys(t).forEach(s=>{let i=t[s];if(vS(i))for(;s.length>2&&s.lastIndexOf("[]")===s.length-2;)s=s.substring(0,s.length-2);let l=n?e.dotsForObjectNotation?n+"."+s:n+"["+s+"]":s;Qg(i,e,o,l)}):o.append(n,t)),o}yS.exports={serialize:Qg}});var y4=Cr((BFe,x4)=>{(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(o,n){return o<<n|o>>>32-n},rotr:function(o,n){return o<<32-n|o>>>n},endian:function(o){if(o.constructor==Number)return e.rotl(o,8)&16711935|e.rotl(o,24)&4278255360;for(var n=0;n<o.length;n++)o[n]=e.endian(o[n]);return o},randomBytes:function(o){for(var n=[];o>0;o--)n.push(Math.floor(Math.random()*256));return n},bytesToWords:function(o){for(var n=[],r=0,s=0;r<o.length;r++,s+=8)n[s>>>5]|=o[r]<<24-s%32;return n},wordsToBytes:function(o){for(var n=[],r=0;r<o.length*32;r+=8)n.push(o[r>>>5]>>>24-r%32&255);return n},bytesToHex:function(o){for(var n=[],r=0;r<o.length;r++)n.push((o[r]>>>4).toString(16)),n.push((o[r]&15).toString(16));return n.join("")},hexToBytes:function(o){for(var n=[],r=0;r<o.length;r+=2)n.push(parseInt(o.substr(r,2),16));return n},bytesToBase64:function(o){for(var n=[],r=0;r<o.length;r+=3)for(var s=o[r]<<16|o[r+1]<<8|o[r+2],i=0;i<4;i++)r*8+i*6<=o.length*8?n.push(t.charAt(s>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(o){o=o.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],r=0,s=0;r<o.length;s=++r%4)s!=0&&n.push((t.indexOf(o.charAt(r-1))&Math.pow(2,-2*s+8)-1)<<s*2|t.indexOf(o.charAt(r))>>>6-s*2);return n}};x4.exports=e})()});var Wb=Cr((VFe,C4)=>{var Gb={utf8:{stringToBytes:function(t){return Gb.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(Gb.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],o=0;o<t.length;o++)e.push(t.charCodeAt(o)&255);return e},bytesToString:function(t){for(var e=[],o=0;o<t.length;o++)e.push(String.fromCharCode(t[o]));return e.join("")}}};C4.exports=Gb});var I4=Cr((GFe,S4)=>{S4.exports=function(t){return t!=null&&(w4(t)||FB(t)||!!t._isBuffer)};function w4(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function FB(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&w4(t.slice(0,0))}});var _4=Cr((WFe,R4)=>{(function(){var t=y4(),e=Wb().utf8,o=I4(),n=Wb().bin,r=function(s,i){s.constructor==String?i&&i.encoding==="binary"?s=n.stringToBytes(s):s=e.stringToBytes(s):o(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var l=t.bytesToWords(s),a=s.length*8,c=1732584193,u=-271733879,d=-1732584194,f=271733878,m=0;m<l.length;m++)l[m]=(l[m]<<8|l[m]>>>24)&16711935|(l[m]<<24|l[m]>>>8)&4278255360;l[a>>>5]|=128<<a%32,l[(a+64>>>9<<4)+14]=a;for(var h=r._ff,p=r._gg,g=r._hh,b=r._ii,m=0;m<l.length;m+=16){var v=c,x=u,y=d,C=f;c=h(c,u,d,f,l[m+0],7,-680876936),f=h(f,c,u,d,l[m+1],12,-389564586),d=h(d,f,c,u,l[m+2],17,606105819),u=h(u,d,f,c,l[m+3],22,-1044525330),c=h(c,u,d,f,l[m+4],7,-176418897),f=h(f,c,u,d,l[m+5],12,1200080426),d=h(d,f,c,u,l[m+6],17,-1473231341),u=h(u,d,f,c,l[m+7],22,-45705983),c=h(c,u,d,f,l[m+8],7,1770035416),f=h(f,c,u,d,l[m+9],12,-1958414417),d=h(d,f,c,u,l[m+10],17,-42063),u=h(u,d,f,c,l[m+11],22,-1990404162),c=h(c,u,d,f,l[m+12],7,1804603682),f=h(f,c,u,d,l[m+13],12,-40341101),d=h(d,f,c,u,l[m+14],17,-1502002290),u=h(u,d,f,c,l[m+15],22,1236535329),c=p(c,u,d,f,l[m+1],5,-165796510),f=p(f,c,u,d,l[m+6],9,-1069501632),d=p(d,f,c,u,l[m+11],14,643717713),u=p(u,d,f,c,l[m+0],20,-373897302),c=p(c,u,d,f,l[m+5],5,-701558691),f=p(f,c,u,d,l[m+10],9,38016083),d=p(d,f,c,u,l[m+15],14,-660478335),u=p(u,d,f,c,l[m+4],20,-405537848),c=p(c,u,d,f,l[m+9],5,568446438),f=p(f,c,u,d,l[m+14],9,-1019803690),d=p(d,f,c,u,l[m+3],14,-187363961),u=p(u,d,f,c,l[m+8],20,1163531501),c=p(c,u,d,f,l[m+13],5,-1444681467),f=p(f,c,u,d,l[m+2],9,-51403784),d=p(d,f,c,u,l[m+7],14,1735328473),u=p(u,d,f,c,l[m+12],20,-1926607734),c=g(c,u,d,f,l[m+5],4,-378558),f=g(f,c,u,d,l[m+8],11,-2022574463),d=g(d,f,c,u,l[m+11],16,1839030562),u=g(u,d,f,c,l[m+14],23,-35309556),c=g(c,u,d,f,l[m+1],4,-1530992060),f=g(f,c,u,d,l[m+4],11,1272893353),d=g(d,f,c,u,l[m+7],16,-155497632),u=g(u,d,f,c,l[m+10],23,-1094730640),c=g(c,u,d,f,l[m+13],4,681279174),f=g(f,c,u,d,l[m+0],11,-358537222),d=g(d,f,c,u,l[m+3],16,-722521979),u=g(u,d,f,c,l[m+6],23,76029189),c=g(c,u,d,f,l[m+9],4,-640364487),f=g(f,c,u,d,l[m+12],11,-421815835),d=g(d,f,c,u,l[m+15],16,530742520),u=g(u,d,f,c,l[m+2],23,-995338651),c=b(c,u,d,f,l[m+0],6,-198630844),f=b(f,c,u,d,l[m+7],10,1126891415),d=b(d,f,c,u,l[m+14],15,-1416354905),u=b(u,d,f,c,l[m+5],21,-57434055),c=b(c,u,d,f,l[m+12],6,1700485571),f=b(f,c,u,d,l[m+3],10,-1894986606),d=b(d,f,c,u,l[m+10],15,-1051523),u=b(u,d,f,c,l[m+1],21,-2054922799),c=b(c,u,d,f,l[m+8],6,1873313359),f=b(f,c,u,d,l[m+15],10,-30611744),d=b(d,f,c,u,l[m+6],15,-1560198380),u=b(u,d,f,c,l[m+13],21,1309151649),c=b(c,u,d,f,l[m+4],6,-145523070),f=b(f,c,u,d,l[m+11],10,-1120210379),d=b(d,f,c,u,l[m+2],15,718787259),u=b(u,d,f,c,l[m+9],21,-343485551),c=c+v>>>0,u=u+x>>>0,d=d+y>>>0,f=f+C>>>0}return t.endian([c,u,d,f])};r._ff=function(s,i,l,a,c,u,d){var f=s+(i&l|~i&a)+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._gg=function(s,i,l,a,c,u,d){var f=s+(i&a|l&~a)+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._hh=function(s,i,l,a,c,u,d){var f=s+(i^l^a)+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._ii=function(s,i,l,a,c,u,d){var f=s+(l^(i|~a))+(c>>>0)+d;return(f<<u|f>>>32-u)+i},r._blocksize=16,r._digestsize=16,R4.exports=function(s,i){if(s==null)throw new Error("Illegal argument "+s);var l=t.wordsToBytes(r(s,i));return i&&i.asBytes?l:i&&i.asString?n.bytesToString(l):t.bytesToHex(l)}})()});import{jsx as sp}from"react/jsx-runtime";import"react";function re({CustomComponent:t,Fallback:e}){return t!==void 0?t:e}import{jsx as WD}from"react/jsx-runtime";import Av from"react";import{createContext as Hn,use as zn}from"react";var il=Ds(Rv(),1);import{createElement as ED,createContext as PD,useContext as ND,useEffect as LD,useLayoutEffect as $D,useReducer as kD,useRef as Kf,useState as jD}from"react";var Du=Symbol(),OD=Symbol(),MD=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent),_v=MD?LD:$D,BD=il.unstable_runWithPriority?t=>{try{(0,il.unstable_runWithPriority)(il.unstable_NormalPriority,t)}catch(e){if(e.message==="Not implemented.")t();else throw e}}:t=>t(),VD=t=>({value:o,children:n})=>{let r=Kf(o),s=Kf(0),[i,l]=jD(null);i&&(i(o),l(null));let a=Kf();if(!a.current){let c=new Set,u=(d,f)=>{s.current+=1;let m={n:s.current};f?.suspense&&(m.n*=-1,m.p=new Promise(h=>{l(()=>p=>{m.v=p,delete m.p,h(p)})})),c.forEach(h=>h(m)),d()};a.current={[Du]:{v:r,n:s,l:c,u}}}return _v(()=>{r.current=o,s.current+=1,BD(()=>{a.current[Du].l.forEach(c=>{c({n:s.current,v:o})})})},[o]),ED(t,{value:a.current},n)},GD=t=>t;function Dv(t){let e=PD({[Du]:{v:{current:t},n:{current:-1},l:new Set,u:o=>o()}});return e[OD]=e.Provider,e.Provider=VD(e.Provider),delete e.Consumer,e}function ep(t,e){let o=ND(t)[Du],{v:{current:n},n:{current:r},l:s}=o,i=e(n),[l,a]=kD((c,u)=>{if(!u)return[n,i];if("p"in u)throw u.p;if(u.n===r)return Object.is(c[1],i)?c:[n,i];try{if("v"in u){if(Object.is(c[0],u.v))return c;let d=e(u.v);return Object.is(c[1],d)?c:[u.v,d]}}catch{}return[...c]},[n,i]);return Object.is(l[1],i)||a(),_v(()=>(s.add(a),()=>{s.delete(a)}),[s]),l[1]}function Fv(t){return ep(t,GD)}var Fu=Hn({}),Au=Hn({}),Tu=Hn({}),Eu=Hn(!1),Pu=Hn(!1),tp=Hn(!1),Nu=Hn(!1),op=Hn(!1),al=Dv([{},()=>null]),Oe=()=>zn(Fu),$i=()=>zn(Au),Lu=()=>zn(Tu),Yt=()=>zn(Eu),ar=()=>zn(Pu),rp=()=>zn(tp),Zt=()=>zn(Nu),Ts=()=>zn(op),Nt=t=>ep(al,t),ki=()=>Fv(al);var Tv=Av.createContext({data:{},path:"",rowNumber:void 0}),np=({children:t,path:e,rowNumber:o})=>{"use no memo";let{getDataByPath:n,getSiblingData:r}=Lu(),s=r(e),l=n(e)||s;return WD(Tv,{value:{data:l,path:e,rowNumber:o},children:t})},HD=()=>Av.use(Tv);var zD="row-label",cn=t=>{let{className:e,CustomComponent:o,label:n,path:r,rowNumber:s}=t;return sp(np,{path:r,rowNumber:s,children:sp(re,{CustomComponent:o,Fallback:typeof n=="string"?sp("span",{className:[zD,e].filter(Boolean).join(" "),style:{pointerEvents:"none"},children:n}):n})})};import{c as iM}from"react/compiler-runtime";import{jsx as co,jsxs as vi}from"react/jsx-runtime";import{getTranslation as Fb}from"@payloadcms/translations";import aM from"react";import{jsx as lp,jsxs as rF}from"react/jsx-runtime";import kv from"react";import{jsx as KD}from"react/jsx-runtime";import $v from"next/link.js";import{useRouter as eF}from"next/navigation.js";import"react";import{c as XD}from"react/compiler-runtime";import{jsx as UD}from"react/jsx-runtime";import ip,{startTransition as YD,useEffect as ZD,useOptimistic as JD,useRef as Ev}from"react";var ap=t=>{let e=XD(11),{children:o}=t,[n,r]=JD(!1),[s,i]=ip.useState(0),l=Ev(s),a=Ev(null),c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{a.current=setInterval(()=>{let g=l.current+(.93-l.current)*Math.random()*.2*Math.pow(Math.log(1+(1-l.current)*.75),.75);i(g),l.current=g},250)},e[0]=c):c=e[0];let u=c,d,f;e[1]!==n?(d=()=>{i(0),l.current=0,n?u():a.current&&clearInterval(a.current)},f=[n,u],e[1]=n,e[2]=d,e[3]=f):(d=e[2],f=e[3]),ZD(d,f);let m;e[4]!==r?(m=g=>{YD(()=>{r(!0),typeof g=="function"&&g()})},e[4]=r,e[5]=m):m=e[5];let h=m,p;return e[6]!==o||e[7]!==n||e[8]!==h||e[9]!==s?(p=UD(Pv,{value:{isTransitioning:n,startRouteTransition:h,transitionProgress:s},children:o}),e[6]=o,e[7]=n,e[8]=h,e[9]=s,e[10]=p):p=e[10],p},Pv=ip.createContext({isTransitioning:!1,startRouteTransition:()=>{},transitionProgress:0}),st=()=>ip.use(Pv);var qD=/https?|ftp|gopher|file/;function Nv(t){return typeof t=="string"||typeof t=="number"&&!isNaN(t)||typeof t=="boolean"?String(t):""}function QD(t){let e=new URLSearchParams;return Object.entries(t).forEach(([o,n])=>{Array.isArray(n)?n.forEach(r=>e.append(o,Nv(r))):e.set(o,Nv(n))}),e}function Lv(t){let{auth:e}=t,{hostname:o}=t,n=t.protocol||"",r=t.pathname||"",s=t.hash||"",i=t.query||"",l=!1;e=e?encodeURIComponent(e).replace(/%3A/i,":")+"@":"",t.host?l=e+t.host:o&&(l=e+(~o.indexOf(":")?`[${o}]`:o),t.port&&(l+=":"+t.port)),i&&typeof i=="object"&&(i=String(QD(i)));let a=t.search||i&&`?${i}`||"";return n&&!n.endsWith(":")&&(n+=":"),t.slashes||(!n||qD.test(n))&&l!==!1?(l="//"+(l||""),r&&r[0]!=="/"&&(r="/"+r)):l||(l=""),s&&s[0]!=="#"&&(s="#"+s),a&&a[0]!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,encodeURIComponent),a=a.replace("#","%23"),`${n}${l}${r}${a}${s}`}var tF=$v.default||$v;function oF(t){let o=t.currentTarget.getAttribute("target");return o&&o!=="_self"||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&t.nativeEvent.which===2}var ro=({children:t,href:e,onClick:o,preventDefault:n=!0,ref:r,replace:s,scroll:i,...l})=>{let a=eF(),{startRouteTransition:c}=st();return KD(tF,{href:e,onClick:u=>{oF(u)||(o&&o(u),n&&u.preventDefault(),c(()=>{let d=typeof e=="string"?e:Lv(e);s?a.replace(d,{scroll:i}):a.push(d,{scroll:i})}))},ref:r,...l,children:t})};var Es="banner",Sr=({type:t="default",alignIcon:e="right",children:o,className:n,icon:r,onClick:s,to:i})=>{let l=[Es,`${Es}--type-${t}`,n&&n,i&&`${Es}--has-link`,(i||s)&&`${Es}--has-action`,r&&`${Es}--has-icon`,r&&`${Es}--align-icon-${e}`].filter(Boolean).join(" "),a="div";return s&&!i&&(a="button"),i&&(a=ro),rF(a,{className:l,href:i||null,onClick:s,children:[r&&e==="left"&&lp(kv.Fragment,{children:r}),lp("span",{className:`${Es}__content`,children:o}),r&&e==="right"&&lp(kv.Fragment,{children:r})]})};import{jsx as Xo,jsxs as Bu}from"react/jsx-runtime";import wF,{Fragment as SF,isValidElement as IF}from"react";import{jsx as jv}from"react/jsx-runtime";import"react";var Je=({ariaLabel:t,className:e,direction:o,size:n})=>jv("svg",{"aria-label":t,className:["icon icon--chevron",e,n&&`icon--size-${n}`].filter(Boolean).join(" "),height:"100%",style:{transform:o==="left"?"rotate(90deg)":o==="right"?"rotate(-90deg)":o==="up"?"rotate(180deg)":void 0},viewBox:"0 0 22 12",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:jv("path",{className:"stroke",d:"M1 1.12109L11 11.1211L21 1.12109",strokeLinecap:"square"})});import{jsx as Ov}from"react/jsx-runtime";import"react";var Ir=({className:t})=>Ov("svg",{className:[t,"icon icon--edit"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Ov("path",{className:"stroke",d:"M9.68531 4.62938H5.2634C4.92833 4.62938 4.60698 4.76248 4.37004 4.99942C4.13311 5.23635 4 5.5577 4 5.89278V14.7366C4 15.0717 4.13311 15.393 4.37004 15.63C4.60698 15.8669 4.92833 16 5.2634 16H14.1072C14.4423 16 14.7636 15.8669 15.0006 15.63C15.2375 15.393 15.3706 15.0717 15.3706 14.7366V10.3147M13.7124 4.39249C13.9637 4.14118 14.3046 4 14.66 4C15.0154 4 15.3562 4.14118 15.6075 4.39249C15.8588 4.6438 16 4.98464 16 5.34004C16 5.69544 15.8588 6.03629 15.6075 6.28759L9.91399 11.9817C9.76399 12.1316 9.57868 12.2413 9.37515 12.3008L7.56027 12.8314C7.50591 12.8472 7.44829 12.8482 7.39344 12.8341C7.33859 12.8201 7.28853 12.7915 7.24849 12.7515C7.20845 12.7115 7.17991 12.6614 7.16586 12.6066C7.15181 12.5517 7.15276 12.4941 7.16861 12.4397L7.69924 10.6249C7.75896 10.4215 7.86888 10.2364 8.01888 10.0866L13.7124 4.39249Z",strokeLinecap:"square"})});import{jsx as Mv}from"react/jsx-runtime";import"react";var cp=()=>Mv("svg",{"aria-hidden":"true",className:"graphic link icon icon--link",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Mv("path",{className:"stroke",d:"M7.99999 13.3333H6.66666C5.78261 13.3333 4.93476 12.9821 4.30964 12.357C3.68452 11.7319 3.33333 10.884 3.33333 9.99999C3.33333 9.11593 3.68452 8.26809 4.30964 7.64297C4.93476 7.01785 5.78261 6.66666 6.66666 6.66666H7.99999M12 6.66666H13.3333C14.2174 6.66666 15.0652 7.01785 15.6904 7.64297C16.3155 8.26809 16.6667 9.11593 16.6667 9.99999C16.6667 10.884 16.3155 11.7319 15.6904 12.357C15.0652 12.9821 14.2174 13.3333 13.3333 13.3333H12M7.33333 9.99999H12.6667",strokeLinecap:"square"})});import{jsx as Bv}from"react/jsx-runtime";import"react";var ko=()=>Bv("svg",{className:"icon icon--plus",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Bv("path",{className:"stroke",d:"M5.33333 9.99998H14.6667M9.99999 5.33331V14.6666",strokeLinecap:"square"})});import{jsx as Vv}from"react/jsx-runtime";import"react";var up=()=>Vv("svg",{className:"icon icon--swap",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:Vv("path",{className:"stroke",d:"M7.33334 4L4.66667 6.66667M4.66667 6.66667L7.33334 9.33333M4.66667 6.66667H15.3333M12.6667 16L15.3333 13.3333M15.3333 13.3333L12.6667 10.6667M15.3333 13.3333H4.66667",strokeLinecap:"square"})});import{jsx as Ps,jsxs as pp}from"react/jsx-runtime";var Me={};uv(Me,{Button:()=>mp,ButtonGroup:()=>dp,Divider:()=>Gv,GroupLabel:()=>$u});import{jsx as ku}from"react/jsx-runtime";import"react";import{jsx as nF}from"react/jsx-runtime";import"react";var sF="popup-divider",Gv=()=>nF("hr",{className:sF});import{jsx as iF}from"react/jsx-runtime";import"react";var aF="popup-list-group-label",$u=({label:t})=>iF("p",{className:aF,children:t});var ll="popup-button-list",dp=({buttonSize:t="default",children:e,className:o,textAlign:n="left"})=>{let r=[ll,o,`${ll}__text-align--${n}`,`${ll}__button-size--${t}`].filter(Boolean).join(" ");return ku("div",{className:r,children:e})},mp=({id:t,active:e,children:o,className:n,disabled:r,href:s,onClick:i})=>{let l=[`${ll}__button`,e&&`${ll}__button--selected`,n].filter(Boolean).join(" ");if(!r){if(s)return ku(ro,{className:l,href:s,id:t,onClick:a=>{i&&i(a)},prefetch:!1,children:o});if(i)return ku("button",{className:l,id:t,onClick:a=>{i&&i(a)},type:"button",children:o})}return ku("div",{className:l,id:t,children:o})};var Xn={};uv(Xn,{WindowInfo:()=>zv,WindowInfoContext:()=>ji,WindowInfoProvider:()=>Yv,useWindowInfo:()=>Co,withWindowInfo:()=>Zv});import{useContext as cF}from"react";import{createContext as lF}from"react";var ji=lF({});var Co=()=>cF(ji);import Wv,{Fragment as Hv}from"react";var zv=t=>{let{children:e}=t,o=Co();return e?typeof e=="function"?Wv.createElement(Hv,null,e(o)):Wv.createElement(Hv,null,e):null};import uF,{useCallback as Xv,useEffect as Uv,useReducer as dF,useRef as mF}from"react";var fF=(t,e)=>{let{payload:{breakpoints:o,animationRef:n}}=e;n.current=null;let{eventsFired:r}=t,{documentElement:{style:s,clientWidth:i,clientHeight:l}}=document,{innerWidth:a,innerHeight:c}=window,u=`${i/100}px`,d=`${l/100}px`,f=o?Object.keys(o).reduce((h,p)=>Object.assign(Object.assign({},h),{[p]:window.matchMedia(o[p]).matches}),{}):{},m={width:a,height:c,"--vw":u,"--vh":d,breakpoints:f,eventsFired:r+1};return s.setProperty("--vw",u),s.setProperty("--vh",d),m},Yv=t=>{let{breakpoints:e,children:o}=t,n=mF(null),[r,s]=dF(fF,{width:void 0,height:void 0,"--vw":"","--vh":"",breakpoints:{},eventsFired:0}),i=Xv(()=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>s({type:"UPDATE",payload:{breakpoints:e,animationRef:n}}))},[e]),l=Xv(()=>{setTimeout(()=>{i()},500)},[i]);return Uv(()=>(window.addEventListener("resize",i),window.addEventListener("orientationchange",l),()=>{window.removeEventListener("resize",i),window.removeEventListener("orientationchange",l)}),[i,l]),Uv(()=>{r.eventsFired===0&&s({type:"UPDATE",payload:{breakpoints:e,animationRef:n}})},[e,r]),uF.createElement(ji.Provider,{value:Object.assign({},r)},o&&o)};import pF from"react";var Zv=t=>o=>{let n=Co();return pF.createElement(t,Object.assign({},o,{windowInfo:n}))};import{useCallback as Qv,useEffect as ju,useRef as vF,useState as hp}from"react";import{c as hF}from"react/compiler-runtime";import{useEffect as gF,useRef as bF,useState as Jv}from"react";var un=(t,e)=>{let o=hF(14),n;o[0]!==t?(n=t===void 0?{}:t,o[0]=t,o[1]=n):n=o[1];let{root:r,rootMargin:s,threshold:i}=n,l=r===void 0?null:r,a=s===void 0?"0px":s,c=i===void 0?0:i,[u,d]=Jv(),[f,m]=Jv(null),h;o[2]!==e||o[3]!==l||o[4]!==a||o[5]!==c?(h=typeof window<"u"&&"IntersectionObserver"in window&&!e?new window.IntersectionObserver(x=>{let[y]=x;return d(y)},{root:l,rootMargin:a,threshold:c}):null,o[2]=e,o[3]=l,o[4]=a,o[5]=c,o[6]=h):h=o[6];let p=bF(h),g,b;o[7]!==e||o[8]!==f?(g=()=>{if(e)return;let{current:x}=p;return x.disconnect(),f&&x.observe(f),()=>x.disconnect()},b=[f,e],o[7]=e,o[8]=f,o[9]=g,o[10]=b):(g=o[9],b=o[10]),gF(g,b);let v;return o[11]!==u||o[12]!==f?(v=[m,u,f],o[11]=u,o[12]=f,o[13]=v):v=o[13],v};import{jsx as qv}from"react/jsx-runtime";import"react";var cl="popup-button",fp=t=>{let{active:e,button:o,buttonType:n,className:r,disabled:s,noBackground:i,setActive:l,size:a}=t,c=[cl,r,`${cl}--${n}`,!i&&`${cl}--background`,a&&`${cl}--size-${a}`,s&&`${cl}--disabled`].filter(Boolean).join(" "),u=()=>{l(!e)};return n==="none"?null:n==="custom"?qv("div",{className:c,onClick:u,onKeyDown:d=>{d.key==="Enter"&&u()},role:"button",tabIndex:0,children:o}):qv("button",{className:c,disabled:s,onClick:u,onKeyDown:d=>{d.key==="Enter"&&u()},tabIndex:0,type:"button",children:o})};var jo="popup",po=t=>{let{id:e,boundingRef:o,button:n,buttonClassName:r,buttonSize:s,buttonType:i="default",caret:l=!0,children:a,className:c,disabled:u,forceOpen:d,horizontalAlign:f="left",initActive:m=!1,noBackground:h,onToggleOpen:p,render:g,showOnHover:b=!1,showScrollbar:v=!1,size:x="medium",verticalAlign:y="top"}=t,{height:C,width:S}=Co(),[w,F]=un({root:o?.current||null,rootMargin:"-100px 0px 0px 0px",threshold:1}),R=vF(null),[A,D]=hp(m),[_,I]=hp(y),[T,E]=hp(f),$=Qv(({horizontal:P=!1,vertical:L=!1})=>{if(R.current){let V=R.current.getBoundingClientRect(),{bottom:M,left:O,right:B,top:G}=V,X=100,Z=document.documentElement.clientWidth,oe=document.documentElement.clientHeight,z=0;o?.current&&({bottom:oe,left:z,right:Z,top:X}=o.current.getBoundingClientRect()),P&&(B>Z&&O>z?E("right"):O<z&&B<Z&&E("left")),L&&(G<X&&M<oe?I("bottom"):M>oe&&G>X&&I("top"))}},[o]),j=Qv(P=>{R.current.contains(P.target)||D(!1)},[R]);ju(()=>{$({horizontal:!0})},[F,$,S]),ju(()=>{$({vertical:!0})},[F,$,C]),ju(()=>(typeof p=="function"&&p(A),A?document.addEventListener("mousedown",j):document.removeEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}),[A,j,p]),ju(()=>{D(d)},[d]);let N=[jo,c,`${jo}--size-${x}`,s&&`${jo}--button-size-${s}`,`${jo}--v-align-${_}`,`${jo}--h-align-${T}`,A&&`${jo}--active`,v&&`${jo}--show-scrollbar`].filter(Boolean).join(" ");return pp("div",{className:N,id:e,children:[Ps("div",{className:`${jo}__trigger-wrap`,children:b?Ps("div",{className:`${jo}__on-hover-watch`,onMouseEnter:()=>D(!0),onMouseLeave:()=>D(!1),children:Ps(fp,{active:A,button:n,buttonType:i,className:r,disabled:u,noBackground:h,setActive:D,size:s})}):Ps(fp,{active:A,button:n,buttonType:i,className:r,disabled:u,noBackground:h,setActive:D,size:s})}),pp("div",{className:`${jo}__content`,ref:R,children:[Ps("div",{className:`${jo}__hide-scrollbar`,ref:w,children:Ps("div",{className:`${jo}__scroll-container`,children:pp("div",{className:`${jo}__scroll-content`,children:[g&&g({close:()=>D(!1)}),a]})})}),l&&Ps("div",{className:`${jo}__caret`})]})]})};import{c as xF}from"react/compiler-runtime";import{jsx as Ou,jsxs as yF}from"react/jsx-runtime";import gp,{useEffect as Kv}from"react";var ho=t=>{let e=xF(26),{alignCaret:o,boundingRef:n,children:r,className:s,delay:i,position:l,show:a,staticPositioning:c}=t,u=o===void 0?"center":o,d=i===void 0?350:i,f=a===void 0?!0:a,m=c===void 0?!1:c,[h,p]=gp.useState(f),[g,b]=gp.useState("top"),v=CF,x=n?.current||null,y;e[0]!==x?(y={root:x,rootMargin:"-145px 0px 0px 100px",threshold:0},e[0]=x,e[1]=y):y=e[1];let[C,S]=un(y,m),w,F;e[2]!==d||e[3]!==f?(w=()=>{let _;return d&&f?_=setTimeout(()=>{p(f)},d):p(f),()=>{_&&clearTimeout(_)}},F=[f,d],e[2]=d,e[3]=f,e[4]=w,e[5]=F):(w=e[4],F=e[5]),Kv(w,F);let R;e[6]!==S?.isIntersecting||e[7]!==m?(R=()=>{m||b(S?.isIntersecting?"top":"bottom")},e[6]=S?.isIntersecting,e[7]=m,e[8]=R):R=e[8];let A;e[9]!==S||e[10]!==m?(A=[S,m],e[9]=S,e[10]=m,e[11]=A):A=e[11],Kv(R,A);let D;if(e[12]!==u||e[13]!==r||e[14]!==s||e[15]!==g||e[16]!==l||e[17]!==C||e[18]!==h||e[19]!==m){let _=h&&"tooltip--show",I=`tooltip--caret-${u}`,T=`tooltip--position-${l||g}`,E;e[21]!==s||e[22]!==_||e[23]!==I||e[24]!==T?(E=["tooltip",s,_,I,T].filter(Boolean),e[21]=s,e[22]=_,e[23]=I,e[24]=T,e[25]=E):E=e[25],D=yF(gp.Fragment,{children:[!m&&Ou("aside",{"aria-hidden":"true",className:["tooltip",s,`tooltip--caret-${u}`,"tooltip--position-top"].filter(Boolean).join(" "),ref:C,style:{opacity:"0"},children:Ou("div",{className:"tooltip-content",children:r})}),Ou("aside",{className:E.join(" "),title:v(r),children:Ou("div",{className:"tooltip-content",children:r})})]}),e[12]=u,e[13]=r,e[14]=s,e[15]=g,e[16]=l,e[17]=C,e[18]=h,e[19]=m,e[20]=D}else D=e[20];return D};function CF(t){return typeof t=="string"?t:""}var RF={chevron:Je,edit:Ir,link:cp,plus:ko,swap:up,x:ft},no="btn",Mu=({children:t,icon:e,showTooltip:o,tooltip:n})=>{let r=RF[e];return Bu(SF,{children:[n&&Xo(ho,{className:`${no}__tooltip`,show:o,children:n}),Bu("span",{className:`${no}__content`,children:[t&&Xo("span",{className:`${no}__label`,children:t}),e&&Bu("span",{className:`${no}__icon`,children:[IF(e)&&e,r&&Xo(r,{})]})]})]})},se=t=>{let{id:e,type:o="button","aria-label":n,buttonStyle:r="primary",children:s,className:i,disabled:l,el:a="button",enableSubMenu:c,icon:u,iconPosition:d="right",iconStyle:f="without-border",newTab:m,onClick:h,onMouseDown:p,ref:g,round:b,size:v="medium",SubMenuPopupContent:x,to:y,tooltip:C,url:S}=t,[w,F]=wF.useState(!1),R=[no,i&&i,u&&`${no}--icon`,f&&`${no}--icon-style-${f}`,u&&!s&&`${no}--icon-only`,v&&`${no}--size-${v}`,u&&d&&`${no}--icon-position-${d}`,C&&`${no}--has-tooltip`,!x&&`${no}--withoutPopup`].filter(Boolean).join(" ");function A(E){F(!1),o!=="submit"&&h&&E.preventDefault(),h&&h(E)}let D=[r&&`${no}--style-${r}`,l&&`${no}--disabled`,b&&`${no}--round`,x?`${no}--withPopup`:`${no}--withoutPopup`].filter(Boolean).join(" "),_={id:e,type:o,"aria-disabled":l,"aria-label":n,className:x?R:[R,D].join(" "),disabled:l,onClick:l?void 0:A,onMouseDown:l?void 0:p,onPointerEnter:C?()=>F(!0):void 0,onPointerLeave:C?()=>F(!1):void 0,rel:m?"noopener noreferrer":void 0,target:m?"_blank":void 0},I,T;switch(a){case"anchor":I=Xo("a",{..._,href:l?void 0:S,ref:g,children:Xo(Mu,{icon:u,showTooltip:w,tooltip:C,children:s})});break;case"link":l&&(I=Xo("div",{..._,children:Xo(Mu,{icon:u,showTooltip:w,tooltip:C,children:s})})),I=Xo(ro,{..._,href:y||S,prefetch:T,children:Xo(Mu,{icon:u,showTooltip:w,tooltip:C,children:s})});break;default:I=Xo(a,{ref:g,type:"submit",..._,children:Xo(Mu,{icon:u,showTooltip:w,tooltip:C,children:s})});break}return x?Bu("div",{className:D,children:[I,Xo(po,{button:Xo(Je,{}),buttonSize:v,className:l&&!c?`${no}--popup-disabled`:"",disabled:l&&!c,horizontalAlign:"right",id:`${e}-popup`,noBackground:!0,render:({close:E})=>x({close:()=>E()}),size:"large",verticalAlign:"bottom"})]}):I};import{c as tA}from"react/compiler-runtime";import{jsx as oA}from"react/jsx-runtime";import{Fragment as rA}from"react";import{c as eA}from"react/compiler-runtime";import s0,{useMemo as Gu,useRef as xp,useEffect as Wu,useState as NF,useContext as LF}from"react";import{useDndContext as $F,getClientRect as kF,useDroppable as jF,useDraggable as OF,closestCorners as MF,getFirstCollision as BF,getScrollableAncestors as VF,KeyboardCode as Un}from"@dnd-kit/core";import{useMemo as e0,useLayoutEffect as _F,useEffect as DF,useRef as sX,useCallback as iX}from"react";function t0(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return e0(()=>n=>{e.forEach(r=>r(n))},e)}var FF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function AF(t){let e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function TF(t){return"nodeType"in t}function EF(t){var e,o;return t?AF(t)?t:TF(t)&&(e=(o=t.ownerDocument)==null?void 0:o.defaultView)!=null?e:window:window}var vp=FF?_F:DF;var bp={};function o0(t,e){return e0(()=>{if(e)return e;let o=bp[t]==null?0:bp[t]+1;return bp[t]=o,t+"-"+o},[t,e])}function PF(t){return function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return n.reduce((s,i)=>{let l=Object.entries(i);for(let[a,c]of l){let u=s[a];u!=null&&(s[a]=u+t*c)}return s},{...e})}}var r0=PF(-1);function n0(t){if(!t)return!1;let{KeyboardEvent:e}=EF(t.target);return e&&t instanceof e}var ul=Object.freeze({Translate:{toString(t){if(!t)return;let{x:e,y:o}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(o?Math.round(o):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;let{scaleX:e,scaleY:o}=t;return"scaleX("+e+") scaleY("+o+")"}},Transform:{toString(t){if(t)return[ul.Translate.toString(t),ul.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:o,easing:n}=t;return e+" "+o+"ms "+n}}});function zu(t,e,o){let n=t.slice();return n.splice(o<0?n.length+o:o,0,n.splice(e,1)[0]),n}function GF(t,e){return t.reduce((o,n,r)=>{let s=e.get(n);return s&&(o[r]=s),o},Array(t.length))}function Vu(t){return t!==null&&t>=0}function WF(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}function HF(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}var i0=t=>{let{rects:e,activeIndex:o,overIndex:n,index:r}=t,s=zu(e,n,o),i=e[r],l=s[r];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}};var a0="Sortable",l0=s0.createContext({activeIndex:-1,containerId:a0,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:i0,disabled:{draggable:!1,droppable:!1}});function c0(t){let{children:e,id:o,items:n,strategy:r=i0,disabled:s=!1}=t,{active:i,dragOverlay:l,droppableRects:a,over:c,measureDroppableContainers:u}=$F(),d=o0(a0,o),f=l.rect!==null,m=Gu(()=>n.map(S=>typeof S=="object"&&"id"in S?S.id:S),[n]),h=i!=null,p=i?m.indexOf(i.id):-1,g=c?m.indexOf(c.id):-1,b=xp(m),v=!WF(m,b.current),x=g!==-1&&p===-1||v,y=HF(s);vp(()=>{v&&h&&u(m)},[v,m,h,u]),Wu(()=>{b.current=m},[m]);let C=Gu(()=>({activeIndex:p,containerId:d,disabled:y,disableTransforms:x,items:m,overIndex:g,useDragOverlay:f,sortedRects:GF(m,a),strategy:r}),[p,d,y.draggable,y.droppable,x,m,g,a,f,r]);return s0.createElement(l0.Provider,{value:C},e)}var zF=t=>{let{id:e,items:o,activeIndex:n,overIndex:r}=t;return zu(o,n,r).indexOf(e)},XF=t=>{let{containerId:e,isSorting:o,wasDragging:n,index:r,items:s,newIndex:i,previousItems:l,previousContainerId:a,transition:c}=t;return!c||!n||l!==s&&r===i?!1:o?!0:i!==r&&e===a},UF={duration:200,easing:"ease"},u0="transform",YF=ul.Transition.toString({property:u0,duration:0,easing:"linear"}),ZF={roleDescription:"sortable"};function JF(t){let{disabled:e,index:o,node:n,rect:r}=t,[s,i]=NF(null),l=xp(o);return vp(()=>{if(!e&&o!==l.current&&n.current){let a=r.current;if(a){let c=kF(n.current,{ignoreTransform:!0}),u={x:a.left-c.left,y:a.top-c.top,scaleX:a.width/c.width,scaleY:a.height/c.height};(u.x||u.y)&&i(u)}}o!==l.current&&(l.current=o)},[e,o,n,r]),Wu(()=>{s&&i(null)},[s]),s}function d0(t){let{animateLayoutChanges:e=XF,attributes:o,disabled:n,data:r,getNewIndex:s=zF,id:i,strategy:l,resizeObserverConfig:a,transition:c=UF}=t,{items:u,containerId:d,activeIndex:f,disabled:m,disableTransforms:h,sortedRects:p,overIndex:g,useDragOverlay:b,strategy:v}=LF(l0),x=qF(n,m),y=u.indexOf(i),C=Gu(()=>({sortable:{containerId:d,index:y,items:u},...r}),[d,r,y,u]),S=Gu(()=>u.slice(u.indexOf(i)),[u,i]),{rect:w,node:F,isOver:R,setNodeRef:A}=jF({id:i,data:C,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...a}}),{active:D,activatorEvent:_,activeNodeRect:I,attributes:T,setNodeRef:E,listeners:$,isDragging:j,over:N,setActivatorNodeRef:P,transform:L}=OF({id:i,data:C,attributes:{...ZF,...o},disabled:x.draggable}),V=t0(A,E),M=!!D,O=M&&!h&&Vu(f)&&Vu(g),B=!b&&j,G=B&&O?L:null,Z=O?G??(l??v)({rects:p,activeNodeRect:I,activeIndex:f,overIndex:g,index:y}):null,oe=Vu(f)&&Vu(g)?s({id:i,items:u,activeIndex:f,overIndex:g}):y,z=D?.id,Y=xp({activeId:z,items:u,newIndex:oe,containerId:d}),le=u!==Y.current.items,J=e({active:D,containerId:d,isDragging:j,isSorting:M,id:i,index:y,items:u,newIndex:Y.current.newIndex,previousItems:Y.current.items,previousContainerId:Y.current.containerId,transition:c,wasDragging:Y.current.activeId!=null}),ue=JF({disabled:!J,index:y,node:F,rect:w});return Wu(()=>{M&&Y.current.newIndex!==oe&&(Y.current.newIndex=oe),d!==Y.current.containerId&&(Y.current.containerId=d),u!==Y.current.items&&(Y.current.items=u)},[M,oe,d,u]),Wu(()=>{if(z===Y.current.activeId)return;if(z&&!Y.current.activeId){Y.current.activeId=z;return}let K=setTimeout(()=>{Y.current.activeId=z},50);return()=>clearTimeout(K)},[z]),{active:D,activeIndex:f,attributes:T,data:C,rect:w,index:y,newIndex:oe,items:u,isOver:R,isSorting:M,isDragging:j,listeners:$,node:F,overIndex:g,over:N,setNodeRef:V,setActivatorNodeRef:P,setDroppableNodeRef:A,setDraggableNodeRef:E,transform:ue??Z,transition:te()};function te(){if(ue||le&&Y.current.newIndex===y)return YF;if(!(B&&!n0(_)||!c)&&(M||J))return ul.Transition.toString({...c,property:u0})}}function qF(t,e){var o,n;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(o=t?.draggable)!=null?o:e.draggable,droppable:(n=t?.droppable)!=null?n:e.droppable}}function Hu(t){if(!t)return!1;let e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}var QF=[Un.Down,Un.Right,Un.Up,Un.Left],m0=(t,e)=>{let{context:{active:o,collisionRect:n,droppableRects:r,droppableContainers:s,over:i,scrollableAncestors:l}}=e;if(QF.includes(t.code)){if(t.preventDefault(),!o||!n)return;let a=[];s.getEnabled().forEach(d=>{if(!d||d!=null&&d.disabled)return;let f=r.get(d.id);if(f)switch(t.code){case Un.Down:n.top<f.top&&a.push(d);break;case Un.Up:n.top>f.top&&a.push(d);break;case Un.Left:n.left>f.left&&a.push(d);break;case Un.Right:n.left<f.left&&a.push(d);break}});let c=MF({active:o,collisionRect:n,droppableRects:r,droppableContainers:a,pointerCoordinates:null}),u=BF(c,"id");if(u===i?.id&&c.length>1&&(u=c[1].id),u!=null){let d=s.get(o.id),f=s.get(u),m=f?r.get(f.id):null,h=f?.node.current;if(h&&m&&d&&f){let g=VF(h).some((S,w)=>l[w]!==S),b=f0(d,f),v=KF(d,f),x=g||!b?{x:0,y:0}:{x:v?n.width-m.width:0,y:v?n.height-m.height:0},y={x:m.left,y:m.top};return x.x&&x.y?y:r0(y,x)}}}};function f0(t,e){return!Hu(t)||!Hu(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function KF(t,e){return!Hu(t)||!Hu(e)||!f0(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}var Oi=t=>{let e=eA(17),{id:o,disabled:n}=t,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={duration:250,easing:"cubic-bezier(0, 0.2, 0.2, 1)"},e[0]=r):r=e[0];let s;e[1]!==n||e[2]!==o?(s={id:o,disabled:n,transition:r},e[1]=n,e[2]=o,e[3]=s):s=e[3];let{attributes:i,isDragging:l,listeners:a,setNodeRef:c,transform:u,transition:d}=d0(s),f=l?"grabbing":"grab",m;e[4]!==f||e[5]!==d?(m={cursor:f,transition:d},e[4]=f,e[5]=d,e[6]=m):m=e[6];let h;e[7]!==i||e[8]!==m?(h={...i,style:m},e[7]=i,e[8]=m,e[9]=h):h=e[9];let p=u&&`translate3d(${u.x}px, ${u.y}px, 0)`,g;return e[10]!==l||e[11]!==a||e[12]!==c||e[13]!==h||e[14]!==p||e[15]!==d?(g={attributes:h,isDragging:l,listeners:a,setNodeRef:c,transform:p,transition:d},e[10]=l,e[11]=a,e[12]=c,e[13]=h,e[14]=p,e[15]=d,e[16]=g):g=e[16],g};var Yr=t=>{let e=tA(12),{id:o,children:n,disabled:r}=t,s;e[0]!==r||e[1]!==o?(s={id:o,disabled:r},e[0]=r,e[1]=o,e[2]=s):s=e[2];let{attributes:i,isDragging:l,listeners:a,setNodeRef:c,transform:u,transition:d}=Oi(s),f=l?"grabbing":"grab",m;return e[3]!==i||e[4]!==n||e[5]!==l||e[6]!==a||e[7]!==c||e[8]!==f||e[9]!==u||e[10]!==d?(m=oA(rA,{children:n({attributes:{...i,style:{cursor:f}},isDragging:l,listeners:a,setNodeRef:c,transform:u,transition:d})}),e[3]=i,e[4]=n,e[5]=l,e[6]=a,e[7]=c,e[8]=f,e[9]=u,e[10]=d,e[11]=m):m=e[11],m};import{c as nA}from"react/compiler-runtime";import{jsx as yp}from"react/jsx-runtime";import{closestCenter as sA,DndContext as iA,KeyboardSensor as aA,PointerSensor as lA,useDroppable as cA,useSensor as p0,useSensors as uA}from"@dnd-kit/core";import{useId as dA}from"react";var lr=t=>{let e=nA(18),{children:o,className:n,ids:r,onDragEnd:s,onDragStart:i}=t,l=dA(),a;e[0]!==l?(a={id:l},e[0]=l,e[1]=a):a=e[1];let{setNodeRef:c}=cA(a),u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u={activationConstraint:{distance:5}},e[2]=u):u=e[2];let d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d={coordinateGetter:m0},e[3]=d):d=e[3];let f=uA(p0(lA,u),p0(aA,d)),m;e[4]!==r||e[5]!==s?(m=v=>{let{active:x,over:y}=v;v.activatorEvent.stopPropagation(),!(!x||!y)&&typeof s=="function"&&s({event:v,moveFromIndex:r.findIndex(C=>C===x.id),moveToIndex:r.findIndex(C=>C===y.id)})},e[4]=r,e[5]=s,e[6]=m):m=e[6];let h=m,p;e[7]!==i?(p=v=>{let{active:x}=v;x&&typeof i=="function"&&i({id:x.id,event:v})},e[7]=i,e[8]=p):p=e[8];let g=p,b;return e[9]!==o||e[10]!==n||e[11]!==h||e[12]!==g||e[13]!==l||e[14]!==r||e[15]!==f||e[16]!==c?(b=yp(iA,{collisionDetection:sA,id:l,onDragEnd:h,onDragStart:g,sensors:f,children:yp(c0,{items:r,children:yp("div",{className:n,ref:c,children:o})})}),e[9]=o,e[10]=n,e[11]=h,e[12]=g,e[13]=l,e[14]=r,e[15]=f,e[16]=c,e[17]=b):b=e[17],b};import{jsx as h0,jsxs as mA}from"react/jsx-runtime";import"react";var Xu="error-pill",so=t=>{let{className:e,count:o,i18n:n,withMessage:r}=t,s=!r&&o<99,i=[Xu,s&&`${Xu}--fixed-width`,e&&e].filter(Boolean).join(" ");return o===0?null:h0("div",{className:i,children:mA("div",{className:`${Xu}__content`,children:[h0("span",{className:`${Xu}__count`,children:o}),r&&` ${o>1?n.t("general:errors"):n.t("general:error")}`]})})};import{c as fA}from"react/compiler-runtime";import{jsx as pA}from"react/jsx-runtime";import{getTranslation as hA}from"@payloadcms/translations";import"react";var g0="field-description",Be=t=>{let e=fA(8),{className:o,description:n,marginPlacement:r,path:s}=t,{i18n:i}=k();if(n){let l=`field-description-${s?.replace(/\./g,"__")}`,a=r&&`${g0}--margin-${r}`,c;e[0]!==o||e[1]!==l||e[2]!==a?(c=[g0,o,l,a].filter(Boolean),e[0]=o,e[1]=l,e[2]=a,e[3]=c):c=e[3];let u=c.join(" "),d;return e[4]!==n||e[5]!==i||e[6]!==u?(d=pA("div",{className:u,children:hA(n,i)}),e[4]=n,e[5]=i,e[6]=u,e[7]=d):d=e[7],d}return null};import{c as gA}from"react/compiler-runtime";import{jsx as bA}from"react/jsx-runtime";import"react";var vA="field-error",Ge=t=>{let e=gA(7),{alignCaret:o,message:n,path:r,showError:s}=t,i=o===void 0?"right":o,l=Yt(),a;e[0]!==r?(a=p=>{let[g]=p;return g&&g?.[r]||null},e[0]=r,e[1]=a):a=e[1];let c=Nt(a),u;e[2]!==c?(u=c||{},e[2]=c,e[3]=u):u=e[3];let{errorMessage:d,valid:f}=u,m=n||d;if((s||l&&f===!1)&&m?.length){let p;return e[4]!==i||e[5]!==m?(p=bA(ho,{alignCaret:i,className:vA,delay:0,staticPositioning:!0,children:m}),e[4]=i,e[5]=m,e[6]=p):p=e[6],p}return null};import{c as rE}from"react/compiler-runtime";import{jsx as nE,jsxs as ux}from"react/jsx-runtime";import{getTranslation as sE}from"@payloadcms/translations";import"react";import{c as xA}from"react/compiler-runtime";import{jsx as yA}from"react/jsx-runtime";import{createContext as CA,use as wA}from"react";var b0=CA(0),Ns=t=>{let e=xA(3),{children:o}=t,r=lt()+1,s;return e[0]!==o||e[1]!==r?(s=yA(b0,{value:r,children:o}),e[0]=o,e[1]=r,e[2]=s):s=e[2],s},lt=()=>wA(b0);import{c as JT}from"react/compiler-runtime";import{jsx as nx}from"react/jsx-runtime";import{useSearchParams as qT}from"next/navigation.js";import QT,{createContext as ix,use as ax,useEffect as sx,useRef as KT,useState as eE}from"react";var Yn=(t,e)=>!t?.locales||t.locales.length===0?null:t.locales.find(o=>o?.code===e);import{jsx as BT}from"react/jsx-runtime";import{jsx as Ap}from"react/jsx-runtime";import{useRef as F0,useEffect as ks,useState as Tp}from"react";import kA from"react-dom";function Se(){return Se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)({}).hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Se.apply(null,arguments)}function Mi(t,e){if(t==null)return{};var o={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;o[n]=t[n]}return o}function Bi(t,e){return Bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,n){return o.__proto__=n,o},Bi(t,e)}function Uu(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Bi(t,e)}function Cp(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function wp(t,e){t.classList?t.classList.add(e):Cp(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function v0(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Sp(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=v0(t.className,e):t.setAttribute("class",v0(t.className&&t.className.baseVal||"",e))}import y0 from"react";import Zu from"react";import Ju from"react-dom";var Ip={disabled:!1};import SA from"react";var Rp=SA.createContext(null);var Yu=function(e){return e.scrollTop};var dl="unmounted",Ls="exited",$s="entering",Gi="entered",_p="exiting",dn=function(t){Uu(e,t);function e(n,r){var s;s=t.call(this,n,r)||this;var i=r,l=i&&!i.isMounting?n.enter:n.appear,a;return s.appearStatus=null,n.in?l?(a=Ls,s.appearStatus=$s):a=Gi:n.unmountOnExit||n.mountOnEnter?a=dl:a=Ls,s.state={status:a},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var i=r.in;return i&&s.status===dl?{status:Ls}:null};var o=e.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(r){var s=null;if(r!==this.props){var i=this.state.status;this.props.in?i!==$s&&i!==Gi&&(s=$s):(i===$s||i===Gi)&&(s=_p)}this.updateStatus(!1,s)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var r=this.props.timeout,s,i,l;return s=i=l=r,r!=null&&typeof r!="number"&&(s=r.exit,i=r.enter,l=r.appear!==void 0?r.appear:i),{exit:s,enter:i,appear:l}},o.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===$s){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:Ju.findDOMNode(this);i&&Yu(i)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ls&&this.setState({status:dl})},o.performEnter=function(r){var s=this,i=this.props.enter,l=this.context?this.context.isMounting:r,a=this.props.nodeRef?[l]:[Ju.findDOMNode(this),l],c=a[0],u=a[1],d=this.getTimeouts(),f=l?d.appear:d.enter;if(!r&&!i||Ip.disabled){this.safeSetState({status:Gi},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:$s},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:Gi},function(){s.props.onEntered(c,u)})})})},o.performExit=function(){var r=this,s=this.props.exit,i=this.getTimeouts(),l=this.props.nodeRef?void 0:Ju.findDOMNode(this);if(!s||Ip.disabled){this.safeSetState({status:Ls},function(){r.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:_p},function(){r.props.onExiting(l),r.onTransitionEnd(i.exit,function(){r.safeSetState({status:Ls},function(){r.props.onExited(l)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},o.setNextCallback=function(r){var s=this,i=!0;return this.nextCallback=function(l){i&&(i=!1,s.nextCallback=null,r(l))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},o.onTransitionEnd=function(r,s){this.setNextCallback(s);var i=this.props.nodeRef?this.props.nodeRef.current:Ju.findDOMNode(this),l=r==null&&!this.props.addEndListener;if(!i||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],c=a[0],u=a[1];this.props.addEndListener(c,u)}r!=null&&setTimeout(this.nextCallback,r)},o.render=function(){var r=this.state.status;if(r===dl)return null;var s=this.props,i=s.children,l=s.in,a=s.mountOnEnter,c=s.unmountOnExit,u=s.appear,d=s.enter,f=s.exit,m=s.timeout,h=s.addEndListener,p=s.onEnter,g=s.onEntering,b=s.onEntered,v=s.onExit,x=s.onExiting,y=s.onExited,C=s.nodeRef,S=Mi(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Zu.createElement(Rp.Provider,{value:null},typeof i=="function"?i(r,S):Zu.cloneElement(Zu.Children.only(i),S))},e}(Zu.Component);dn.contextType=Rp;dn.propTypes={};function Vi(){}dn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vi,onEntering:Vi,onEntered:Vi,onExit:Vi,onExiting:Vi,onExited:Vi};dn.UNMOUNTED=dl;dn.EXITED=Ls;dn.ENTERING=$s;dn.ENTERED=Gi;dn.EXITING=_p;var x0=dn;var IA=function(e,o){return e&&o&&o.split(" ").forEach(function(n){return wp(e,n)})},Dp=function(e,o){return e&&o&&o.split(" ").forEach(function(n){return Sp(e,n)})},Fp=function(t){Uu(e,t);function e(){for(var n,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(l,a){var c=n.resolveArguments(l,a),u=c[0],d=c[1];n.removeClasses(u,"exit"),n.addClass(u,d?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(l,a)},n.onEntering=function(l,a){var c=n.resolveArguments(l,a),u=c[0],d=c[1],f=d?"appear":"enter";n.addClass(u,f,"active"),n.props.onEntering&&n.props.onEntering(l,a)},n.onEntered=function(l,a){var c=n.resolveArguments(l,a),u=c[0],d=c[1],f=d?"appear":"enter";n.removeClasses(u,f),n.addClass(u,f,"done"),n.props.onEntered&&n.props.onEntered(l,a)},n.onExit=function(l){var a=n.resolveArguments(l),c=a[0];n.removeClasses(c,"appear"),n.removeClasses(c,"enter"),n.addClass(c,"exit","base"),n.props.onExit&&n.props.onExit(l)},n.onExiting=function(l){var a=n.resolveArguments(l),c=a[0];n.addClass(c,"exit","active"),n.props.onExiting&&n.props.onExiting(l)},n.onExited=function(l){var a=n.resolveArguments(l),c=a[0];n.removeClasses(c,"exit"),n.addClass(c,"exit","done"),n.props.onExited&&n.props.onExited(l)},n.resolveArguments=function(l,a){return n.props.nodeRef?[n.props.nodeRef.current,l]:[l,a]},n.getClassNames=function(l){var a=n.props.classNames,c=typeof a=="string",u=c&&a?a+"-":"",d=c?""+u+l:a[l],f=c?d+"-active":a[l+"Active"],m=c?d+"-done":a[l+"Done"];return{baseClassName:d,activeClassName:f,doneClassName:m}},n}var o=e.prototype;return o.addClass=function(r,s,i){var l=this.getClassNames(s)[i+"ClassName"],a=this.getClassNames("enter"),c=a.doneClassName;s==="appear"&&i==="done"&&c&&(l+=" "+c),i==="active"&&r&&Yu(r),l&&(this.appliedClasses[s][i]=l,IA(r,l))},o.removeClasses=function(r,s){var i=this.appliedClasses[s],l=i.base,a=i.active,c=i.done;this.appliedClasses[s]={},l&&Dp(r,l),a&&Dp(r,a),c&&Dp(r,c)},o.render=function(){var r=this.props,s=r.classNames,i=Mi(r,["classNames"]);return y0.createElement(x0,Se({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(y0.Component);Fp.defaultProps={classNames:""};Fp.propTypes={};var ml=Fp;function C0(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}import{useContext as _A}from"react";import{createContext as RA}from"react";var qu=RA({});var ce=()=>_A(qu);var Qu=t=>t?{appear:`${t}--appear`,appearActive:`${t}--appearActive`,appearDone:`${t}--appearDone`,enter:`${t}--enter`,enterActive:`${t}--enterActive`,enterDone:`${t}--enterDone`,exit:`${t}--exit`,exitActive:`${t}--exitActive`,exitDone:`${t}--exitDone`}:{};wD();function w0(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),o.push.apply(o,n)}return o}function S0(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?w0(Object(o),!0).forEach(function(n){DA(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):w0(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function DA(t,e,o){return e=AA(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function FA(t,e){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AA(t){var e=FA(t,"string");return typeof e=="symbol"?e:String(e)}var I0={activateTrap:function(e,o){if(e.length>0){var n=e[e.length-1];n!==o&&n.pause()}var r=e.indexOf(o);r===-1||e.splice(r,1),e.push(o)},deactivateTrap:function(e,o){var n=e.indexOf(o);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},TA=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},EA=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},pl=function(e){return e?.key==="Tab"||e?.keyCode===9},PA=function(e){return pl(e)&&!e.shiftKey},NA=function(e){return pl(e)&&e.shiftKey},R0=function(e){return setTimeout(e,0)},_0=function(e,o){var n=-1;return e.every(function(r,s){return o(r)?(n=s,!1):!0}),n},fl=function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];return typeof e=="function"?e.apply(void 0,n):e},Ku=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},LA=[],D0=function(e,o){var n=o?.document||document,r=o?.trapStack||LA,s=S0({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:PA,isKeyBackward:NA},o),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},l,a=function(_,I,T){return _&&_[I]!==void 0?_[I]:s[T||I]},c=function(_,I){var T=typeof I?.composedPath=="function"?I.composedPath():void 0;return i.containerGroups.findIndex(function(E){var $=E.container,j=E.tabbableNodes;return $.contains(_)||T?.includes($)||j.find(function(N){return N===_})})},u=function(_){var I=s[_];if(typeof I=="function"){for(var T=arguments.length,E=new Array(T>1?T-1:0),$=1;$<T;$++)E[$-1]=arguments[$];I=I.apply(void 0,E)}if(I===!0&&(I=void 0),!I){if(I===void 0||I===!1)return I;throw new Error("`".concat(_,"` was specified but was not a node, or did not return a node"))}var j=I;if(typeof I=="string"&&(j=n.querySelector(I),!j))throw new Error("`".concat(_,"` as selector refers to no known node"));return j},d=function(){var _=u("initialFocus");if(_===!1)return!1;if(_===void 0||!Cu(_,s.tabbableOptions))if(c(n.activeElement)>=0)_=n.activeElement;else{var I=i.tabbableGroups[0],T=I&&I.firstTabbableNode;_=T||u("fallbackFocus")}if(!_)throw new Error("Your focus-trap needs to have at least one focusable element");return _},f=function(){if(i.containerGroups=i.containers.map(function(_){var I=dv(_,s.tabbableOptions),T=mv(_,s.tabbableOptions),E=I.length>0?I[0]:void 0,$=I.length>0?I[I.length-1]:void 0,j=T.find(function(L){return Fs(L)}),N=T.slice().reverse().find(function(L){return Fs(L)}),P=!!I.find(function(L){return Li(L)>0});return{container:_,tabbableNodes:I,focusableNodes:T,posTabIndexesFound:P,firstTabbableNode:E,lastTabbableNode:$,firstDomTabbableNode:j,lastDomTabbableNode:N,nextTabbableNode:function(V){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,O=I.indexOf(V);return O<0?M?T.slice(T.indexOf(V)+1).find(function(B){return Fs(B)}):T.slice(0,T.indexOf(V)).reverse().find(function(B){return Fs(B)}):I[O+(M?1:-1)]}}}),i.tabbableGroups=i.containerGroups.filter(function(_){return _.tabbableNodes.length>0}),i.tabbableGroups.length<=0&&!u("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find(function(_){return _.posTabIndexesFound})&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},m=function D(_){var I=_.activeElement;if(I)return I.shadowRoot&&I.shadowRoot.activeElement!==null?D(I.shadowRoot):I},h=function D(_){if(_!==!1&&_!==m(document)){if(!_||!_.focus){D(d());return}_.focus({preventScroll:!!s.preventScroll}),i.mostRecentlyFocusedNode=_,TA(_)&&_.select()}},p=function(_){var I=u("setReturnFocus",_);return I||(I===!1?!1:_)},g=function(_){var I=_.target,T=_.event,E=_.isBackward,$=E===void 0?!1:E;I=I||Ku(T),f();var j=null;if(i.tabbableGroups.length>0){var N=c(I,T),P=N>=0?i.containerGroups[N]:void 0;if(N<0)$?j=i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:j=i.tabbableGroups[0].firstTabbableNode;else if($){var L=_0(i.tabbableGroups,function(X){var Z=X.firstTabbableNode;return I===Z});if(L<0&&(P.container===I||Cu(I,s.tabbableOptions)&&!Fs(I,s.tabbableOptions)&&!P.nextTabbableNode(I,!1))&&(L=N),L>=0){var V=L===0?i.tabbableGroups.length-1:L-1,M=i.tabbableGroups[V];j=Li(I)>=0?M.lastTabbableNode:M.lastDomTabbableNode}else pl(T)||(j=P.nextTabbableNode(I,!1))}else{var O=_0(i.tabbableGroups,function(X){var Z=X.lastTabbableNode;return I===Z});if(O<0&&(P.container===I||Cu(I,s.tabbableOptions)&&!Fs(I,s.tabbableOptions)&&!P.nextTabbableNode(I))&&(O=N),O>=0){var B=O===i.tabbableGroups.length-1?0:O+1,G=i.tabbableGroups[B];j=Li(I)>=0?G.firstTabbableNode:G.firstDomTabbableNode}else pl(T)||(j=P.nextTabbableNode(I))}}else j=u("fallbackFocus");return j},b=function(_){var I=Ku(_);if(!(c(I,_)>=0)){if(fl(s.clickOutsideDeactivates,_)){l.deactivate({returnFocus:s.returnFocusOnDeactivate});return}fl(s.allowOutsideClick,_)||_.preventDefault()}},v=function(_){var I=Ku(_),T=c(I,_)>=0;if(T||I instanceof Document)T&&(i.mostRecentlyFocusedNode=I);else{_.stopImmediatePropagation();var E,$=!0;if(i.mostRecentlyFocusedNode)if(Li(i.mostRecentlyFocusedNode)>0){var j=c(i.mostRecentlyFocusedNode),N=i.containerGroups[j].tabbableNodes;if(N.length>0){var P=N.findIndex(function(L){return L===i.mostRecentlyFocusedNode});P>=0&&(s.isKeyForward(i.recentNavEvent)?P+1<N.length&&(E=N[P+1],$=!1):P-1>=0&&(E=N[P-1],$=!1))}}else i.containerGroups.some(function(L){return L.tabbableNodes.some(function(V){return Li(V)>0})})||($=!1);else $=!1;$&&(E=g({target:i.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(i.recentNavEvent)})),h(E||i.mostRecentlyFocusedNode||d())}i.recentNavEvent=void 0},x=function(_){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;i.recentNavEvent=_;var T=g({event:_,isBackward:I});T&&(pl(_)&&_.preventDefault(),h(T))},y=function(_){if(EA(_)&&fl(s.escapeDeactivates,_)!==!1){_.preventDefault(),l.deactivate();return}(s.isKeyForward(_)||s.isKeyBackward(_))&&x(_,s.isKeyBackward(_))},C=function(_){var I=Ku(_);c(I,_)>=0||fl(s.clickOutsideDeactivates,_)||fl(s.allowOutsideClick,_)||(_.preventDefault(),_.stopImmediatePropagation())},S=function(){if(i.active)return I0.activateTrap(r,l),i.delayInitialFocusTimer=s.delayInitialFocus?R0(function(){h(d())}):h(d()),n.addEventListener("focusin",v,!0),n.addEventListener("mousedown",b,{capture:!0,passive:!1}),n.addEventListener("touchstart",b,{capture:!0,passive:!1}),n.addEventListener("click",C,{capture:!0,passive:!1}),n.addEventListener("keydown",y,{capture:!0,passive:!1}),l},w=function(){if(i.active)return n.removeEventListener("focusin",v,!0),n.removeEventListener("mousedown",b,!0),n.removeEventListener("touchstart",b,!0),n.removeEventListener("click",C,!0),n.removeEventListener("keydown",y,!0),l},F=function(_){var I=_.some(function(T){var E=Array.from(T.removedNodes);return E.some(function($){return $===i.mostRecentlyFocusedNode})});I&&h(d())},R=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(F):void 0,A=function(){R&&(R.disconnect(),i.active&&!i.paused&&i.containers.map(function(_){R.observe(_,{subtree:!0,childList:!0})}))};return l={get active(){return i.active},get paused(){return i.paused},activate:function(_){if(i.active)return this;var I=a(_,"onActivate"),T=a(_,"onPostActivate"),E=a(_,"checkCanFocusTrap");E||f(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=n.activeElement,I?.();var $=function(){E&&f(),S(),A(),T?.()};return E?(E(i.containers.concat()).then($,$),this):($(),this)},deactivate:function(_){if(!i.active)return this;var I=S0({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},_);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,w(),i.active=!1,i.paused=!1,A(),I0.deactivateTrap(r,l);var T=a(I,"onDeactivate"),E=a(I,"onPostDeactivate"),$=a(I,"checkCanReturnFocus"),j=a(I,"returnFocus","returnFocusOnDeactivate");T?.();var N=function(){R0(function(){j&&h(p(i.nodeFocusedBeforeActivation)),E?.()})};return j&&$?($(p(i.nodeFocusedBeforeActivation)).then(N,N),this):(N(),this)},pause:function(_){if(i.paused||!i.active)return this;var I=a(_,"onPause"),T=a(_,"onPostPause");return i.paused=!0,I?.(),w(),A(),T?.(),this},unpause:function(_){if(!i.paused||!i.active)return this;var I=a(_,"onUnpause"),T=a(_,"onPostUnpause");return i.paused=!1,I?.(),f(),S(),A(),T?.(),this},updateContainerElements:function(_){var I=[].concat(_).filter(Boolean);return i.containers=I.map(function(T){return typeof T=="string"?n.querySelector(T):T}),i.active&&f(),A(),this}},l.updateContainerElements(e),l};var $A=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o},mn="modal-item",A0=(t,e)=>n=>{let r=ce(),s=F0(null),[i,l]=Tp(!1),a=F0(!1),[c,u]=Tp(null),{modalState:d,classPrefix:f,containerRef:m,transTime:h,setCloseOnBlur:p,setBodyScrollLock:g,openModal:b}=r,{className:v,htmlElement:x="dialog",slug:y="",closeOnBlur:C=!0,lockBodyScroll:S=!0,classPrefix:w,onEnter:F,onEntering:R,onEntered:A,onExit:D,onExiting:_,onExited:I,openOnInit:T,trapFocus:E=!0,focusTrapOptions:$={}}=n,j=$A(n,["className","htmlElement","slug","closeOnBlur","lockBodyScroll","classPrefix","onEnter","onEntering","onEntered","onExit","onExiting","onExited","openOnInit","trapFocus","focusTrapOptions"]),N=w||f,P=e||y,L=d[P]&&d[P].isOpen;ks(()=>{if(E){let O=s.current;if(a.current===!1&&O){let B=D0(O,Object.assign(Object.assign({},$),{fallbackFocus:$?.fallbackFocus||O,allowOutsideClick:typeof $.allowOutsideClick<"u"?$.allowOutsideClick:!0}));u(B),a.current=!0}}},[E,i,$]),ks(()=>{l(!0)},[]),ks(()=>(c&&(L?c.activate():c.deactivate()),()=>{c&&c.deactivate()}),[L,c]),ks(()=>{L&&p(C)},[L,C,p]),ks(()=>{let O=s.current;return O&&g(!!(L&&S),O),()=>{O&&g(!1,O)}},[L,S,g]);let[V,M]=Tp(L);if(ks(()=>{L?M(L):setTimeout(()=>M(!1),h)},[L,h]),ks(()=>{T&&b(P)},[P,T,b]),m.current){let O=N?`${N}__${mn}`:mn,B=[O,`${O}--slug-${P}`,v].filter(Boolean).join(" "),G=Object.assign({role:x!=="dialog"?"dialog":void 0,open:x==="dialog"?V||L:void 0,"aria-modal":!0,"aria-label":j["aria-labelledby"]?void 0:P},j);return kA.createPortal(Ap(ml,{nodeRef:s,timeout:h,in:L,classNames:Qu(O),appear:!0,onEnter:F,onEntering:R,onEntered:A,onExit:D,onExiting:_,onExited:I,children:Ap(x,Object.assign({ref:s,id:j?.id||P,className:B},G,{children:Ap(t,Object.assign({},n,{isOpen:L,modal:r}))}))}),m.current)}return null};import{jsx as T0}from"react/jsx-runtime";import{Fragment as E0}from"react";var jA=t=>{let{children:e}=t;return e?typeof e=="function"?T0(E0,{children:e(t)}):T0(E0,{children:e}):null},Uo=A0(jA);import{jsx as P0}from"react/jsx-runtime";var OA=function(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o},fn="modal-container",Ep=t=>{let{oneModalIsOpen:e,classPrefix:o,transTime:n,setContainerRef:r,containerRef:s,closeAllModals:i,closeOnBlur:l}=ce(),{className:a,htmlElement:c="div",children:u,onClick:d}=t,f=OA(t,["className","htmlElement","children","onClick"]),m=o?`${o}__${fn}`:fn,h=[m,a].filter(Boolean).join(" "),p=Object.assign(Object.assign({},f),{onClick:g=>{l&&i(),typeof d=="function"&&d(g)}});return P0(ml,{nodeRef:s,in:e,timeout:n,classNames:Qu(m),appear:!0,children:P0(c,Object.assign({className:h,ref:r},p,{children:u&&u}))})};import{jsx as M0,jsxs as XA}from"react/jsx-runtime";import{Fragment as UA,useState as rd,useRef as B0,useEffect as nd,useCallback as Zn,useReducer as YA}from"react";function MA(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}else return Array.from(t)}var Np=!1;typeof window<"u"&&(Pp={get passive(){Np=!0}},window.addEventListener("testPassive",null,Pp),window.removeEventListener("testPassive",null,Pp));var Pp,ed=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),Os=[],td=!1,N0=-1,hl=void 0,js=void 0,gl=void 0,L0=function(e){return Os.some(function(o){return!!(o.options.allowTouchMove&&o.options.allowTouchMove(e))})},od=function(e){var o=e||window.event;return L0(o.target)||o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)},BA=function(e){if(gl===void 0){var o=!!e&&e.reserveScrollBarGap===!0,n=window.innerWidth-document.documentElement.clientWidth;if(o&&n>0){var r=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);gl=document.body.style.paddingRight,document.body.style.paddingRight=r+n+"px"}}hl===void 0&&(hl=document.body.style.overflow,document.body.style.overflow="hidden")},VA=function(){gl!==void 0&&(document.body.style.paddingRight=gl,gl=void 0),hl!==void 0&&(document.body.style.overflow=hl,hl=void 0)},GA=function(){return window.requestAnimationFrame(function(){if(js===void 0){js={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,o=e.scrollY,n=e.scrollX,r=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-o,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var s=r-window.innerHeight;s&&o>=r&&(document.body.style.top=-(o+s))})},300)}})},WA=function(){if(js!==void 0){var e=-parseInt(document.body.style.top,10),o=-parseInt(document.body.style.left,10);document.body.style.position=js.position,document.body.style.top=js.top,document.body.style.left=js.left,window.scrollTo(o,e),js=void 0}},HA=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},zA=function(e,o){var n=e.targetTouches[0].clientY-N0;return L0(e.target)?!1:o&&o.scrollTop===0&&n>0||HA(o)&&n<0?od(e):(e.stopPropagation(),!0)},$0=function(e,o){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!Os.some(function(r){return r.targetElement===e})){var n={targetElement:e,options:o||{}};Os=[].concat(MA(Os),[n]),ed?GA():BA(o),ed&&(e.ontouchstart=function(r){r.targetTouches.length===1&&(N0=r.targetTouches[0].clientY)},e.ontouchmove=function(r){r.targetTouches.length===1&&zA(r,e)},td||(document.addEventListener("touchmove",od,Np?{passive:!1}:void 0),td=!0))}};var k0=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}Os=Os.filter(function(o){return o.targetElement!==e}),ed&&(e.ontouchstart=null,e.ontouchmove=null,td&&Os.length===0&&(document.removeEventListener("touchmove",od,Np?{passive:!1}:void 0),td=!1)),ed?WA():VA()};var j0=({classPrefix:t,zIndex:e})=>{let o=t?`${t}__`:"";return`
    .${o}${fn} {
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      position: fixed;
      pointer-events: none;
      visibility: hidden;
      z-index: -1;
    }

    .${o}${fn}--appear,
    .${o}${fn}--appearDone,
    .${o}${fn}--enter,
    .${o}${fn}--enterDone,
    .${o}${fn}--exit {
      pointer-events: all;
      visibility: visible;
      z-index: ${e};
    }

    .${o}${mn} {
      position: absolute;
      visibility: hidden;
    }

    .${o}${mn}--appear,
    .${o}${mn}--appearDone,
    .${o}${mn}--enter,
    .${o}${mn}--enterDone,
    .${o}${mn}--exit {
      visibility: visible;
    }
  `};var O0=(t,e)=>{let o=Object.assign({},t),{type:n,payload:r}=e;switch(n){case"UPDATE_MODAL":{let{slug:s}=r;s&&(o[s]=Object.assign(Object.assign({},o[s]),r));break}case"OPEN_MODAL":{let{slug:s}=r;s&&(s in o&&o[s].isOpen||(o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:Date.now(),isOpen:!0})));break}case"TOGGLE_MODAL":{let{slug:s}=r;if(s){let i=s in o&&o[s].isOpen;o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:i?void 0:Date.now(),isOpen:!i})}break}case"CLOSE_MODAL":{let{slug:s}=r;s&&(o[s]=Object.assign(Object.assign({},o[s]),{slug:s,openedOn:void 0,isOpen:!1}));break}case"REMOVE_MODAL":{let{slug:s}=r;s&&s in o&&delete o[s];break}case"CLOSE_LATEST_MODAL":{let s=Object.keys(o).reduce((i,l)=>{let a=o[l];return a.isOpen&&typeof a.openedOn=="number"&&(!i||typeof i.openedOn=="number"&&a.openedOn>i.openedOn)?a:i},void 0);s&&(o[s.slug]=Object.assign(Object.assign({},o[s.slug]),{isOpen:!1,openedOn:void 0}));break}case"CLOSE_ALL_MODALS":{o=Object.entries(o).reduce((s,[i,l])=>(s[i]=Object.assign(Object.assign({},l),{isOpen:!1,openedOn:void 0}),s),{});break}default:break}return o};var ZA=()=>{if(typeof window<"u")return new URLSearchParams(window.location.search)},JA=()=>{let t=ZA(),e=[];if(t){let o=t.get("modal");o&&(o.includes(",")?e=o.split(","):e=[o])}return e},Lp=t=>{let{classPrefix:e,minifyCSS:o=!0,generateCSS:n=!0,zIndex:r=9999,handleParamChange:s,children:i,transTime:l=250}=t,a=B0(null),[c,u]=YA(O0,{},()=>JA().reduce((E,$)=>(E[$]={slug:$,isOpen:!0,openedOn:Date.now()},E),{})),[d,f]=rd(!1),[m,h]=rd(!1),[p,g]=rd(!1),[b,v]=rd(""),x=B0(!1),y=Zn(I=>{I.keyCode===27&&u({type:"CLOSE_LATEST_MODAL"})},[]);nd(()=>(x.current||(document.addEventListener("keydown",I=>y(I),!1),x.current=!0),()=>{x.current&&document.removeEventListener("keydown",I=>y(I),!1)}),[y]),nd(()=>{if(n){let I="";I=j0({classPrefix:e,zIndex:r}),o&&(I=I.replace(/\n/g,"").replace(/\s\s+/g," ")),v(I)}},[n,o,r,e]),nd(()=>{if(typeof s=="function"&&s(c),typeof s=="boolean"&&s){let I=Object.keys(c).filter(j=>c[j].isOpen),T=new URLSearchParams;for(let j of I)T.append("modal",j);let E=T.toString()?`?${T}`:"",$=`${window.location.pathname}${E}`;window.history.pushState({},"",$)}},[c,s]),nd(()=>{let I=Object.keys(c).some(T=>c[T].isOpen);f(I)},[c]);let C=Zn((I,T)=>{T&&(I?($0(T),g(!0)):(k0(T),g(!1)))},[]),S=Zn(I=>{a.current=I},[]),w=Zn(I=>{u({type:"OPEN_MODAL",payload:{slug:I}})},[]),F=Zn(I=>{u({type:"CLOSE_MODAL",payload:{slug:I}})},[]),R=Zn(()=>{u({type:"CLOSE_ALL_MODALS"})},[]),A=Zn(I=>{u({type:"TOGGLE_MODAL",payload:{slug:I}})},[]),D=Zn(I=>c[I]&&c[I].isOpen,[c]),_=Object.assign({},t);return delete _.children,XA(UA,{children:[n&&M0("style",{dangerouslySetInnerHTML:{__html:b}}),M0(qu.Provider,{value:Object.assign(Object.assign({},_),{transTime:l,containerRef:a,modalState:c,oneModalIsOpen:d,isModalOpen:D,closeOnBlur:m,bodyScrollIsLocked:p,classPrefix:e,closeAllModals:R,setCloseOnBlur:h,openModal:w,closeModal:F,toggleModal:A,setBodyScrollLock:C,setContainerRef:S}),children:i})]})};import{usePathname as VT,useRouter as GT}from"next/navigation.js";import{formatAdminURL as WT}from"payload/shared";import*as Q0 from"qs-esm";import J0,{createContext as HT,use as zT,useCallback as Ms,useEffect as cd,useState as xl}from"react";import xe,{forwardRef as qA,isValidElement as $p}from"react";import QA from"react-dom";import Oo from"react";import V0 from"react";import lT from"react";var KA=t=>{switch(t){case"success":return oT;case"info":return nT;case"warning":return rT;case"error":return sT;default:return null}},eT=Array(12).fill(0),tT=({visible:t,className:e})=>Oo.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Oo.createElement("div",{className:"sonner-spinner"},eT.map((o,n)=>Oo.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),oT=Oo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Oo.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rT=Oo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Oo.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nT=Oo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Oo.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sT=Oo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Oo.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iT=Oo.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Oo.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Oo.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aT=()=>{let[t,e]=V0.useState(document.hidden);return V0.useEffect(()=>{let o=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",o),()=>window.removeEventListener("visibilitychange",o)},[]),t},kp=1,cT=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:o,...n}=t,r=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:kp++,s=this.toasts.find(l=>l.id===r),i=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(l=>l.id===r?(this.publish({...l,...t,id:r,title:o}),{...l,...t,id:r,dismissible:i,title:o}):l):this.addToast({title:o,...n,dismissible:i,id:r}),r},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(o=>o({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let o;e.loading!==void 0&&(o=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),r=o!==void 0,s,i=n.then(async a=>{if(s=["resolve",a],lT.isValidElement(a))r=!1,this.create({id:o,type:"default",message:a});else if(dT(a)&&!a.ok){r=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${a.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${a.status}`):e.description;this.create({id:o,type:"error",message:c,description:u})}else if(e.success!==void 0){r=!1;let c=typeof e.success=="function"?await e.success(a):e.success,u=typeof e.description=="function"?await e.description(a):e.description;this.create({id:o,type:"success",message:c,description:u})}}).catch(async a=>{if(s=["reject",a],e.error!==void 0){r=!1;let c=typeof e.error=="function"?await e.error(a):e.error,u=typeof e.description=="function"?await e.description(a):e.description;this.create({id:o,type:"error",message:c,description:u})}}).finally(()=>{var a;r&&(this.dismiss(o),o=void 0),(a=e.finally)==null||a.call(e)}),l=()=>new Promise((a,c)=>i.then(()=>s[0]==="reject"?c(s[1]):a(s[1])).catch(c));return typeof o!="string"&&typeof o!="number"?{unwrap:l}:Object.assign(o,{unwrap:l})},this.custom=(t,e)=>{let o=e?.id||kp++;return this.create({jsx:t(o),id:o,...e}),o},this.subscribers=[],this.toasts=[]}},Yo=new cT,uT=(t,e)=>{let o=e?.id||kp++;return Yo.addToast({title:t,...e,id:o}),o},dT=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",mT=uT,fT=()=>Yo.toasts,me=Object.assign(mT,{success:Yo.success,info:Yo.info,warning:Yo.warning,error:Yo.error,custom:Yo.custom,message:Yo.message,promise:Yo.promise,dismiss:Yo.dismiss,loading:Yo.loading},{getHistory:fT});function pT(t,{insertAt:e}={}){if(!t||typeof document>"u")return;let o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}pT(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function sd(t){return t.label!==void 0}var hT=3,gT="32px",bT="16px",G0=4e3,vT=356,xT=14,yT=20,CT=200;function Rr(...t){return t.filter(Boolean).join(" ")}function wT(t){let[e,o]=t.split("-"),n=[];return e&&n.push(e),o&&n.push(o),n}var ST=t=>{var e,o,n,r,s,i,l,a,c,u,d;let{invert:f,toast:m,unstyled:h,interacting:p,setHeights:g,visibleToasts:b,heights:v,index:x,toasts:y,expanded:C,removeToast:S,defaultRichColors:w,closeButton:F,style:R,cancelButtonStyle:A,actionButtonStyle:D,className:_="",descriptionClassName:I="",duration:T,position:E,gap:$,loadingIcon:j,expandByDefault:N,classNames:P,icons:L,closeButtonAriaLabel:V="Close toast",pauseWhenPageIsHidden:M}=t,[O,B]=xe.useState(null),[G,X]=xe.useState(null),[Z,oe]=xe.useState(!1),[z,Y]=xe.useState(!1),[le,J]=xe.useState(!1),[ue,te]=xe.useState(!1),[K,he]=xe.useState(!1),[fe,Ne]=xe.useState(0),[be,Xe]=xe.useState(0),Q=xe.useRef(m.duration||T||G0),ke=xe.useRef(null),Ce=xe.useRef(null),ae=x===0,ie=x+1<=b,U=m.type,ne=m.dismissible!==!1,de=m.className||"",Ae=m.descriptionClassName||"",We=xe.useMemo(()=>v.findIndex(ge=>ge.toastId===m.id)||0,[v,m.id]),Le=xe.useMemo(()=>{var ge;return(ge=m.closeButton)!=null?ge:F},[m.closeButton,F]),Ve=xe.useMemo(()=>m.duration||T||G0,[m.duration,T]),ht=xe.useRef(0),Ye=xe.useRef(0),ut=xe.useRef(0),Mt=xe.useRef(null),[Ue,He]=E.split("-"),qe=xe.useMemo(()=>v.reduce((ge,q,W)=>W>=We?ge:ge+q.height,0),[v,We]),vt=aT(),Et=m.invert||f,Ct=U==="loading";Ye.current=xe.useMemo(()=>We*$+qe,[We,qe]),xe.useEffect(()=>{Q.current=Ve},[Ve]),xe.useEffect(()=>{oe(!0)},[]),xe.useEffect(()=>{let ge=Ce.current;if(ge){let q=ge.getBoundingClientRect().height;return Xe(q),g(W=>[{toastId:m.id,height:q,position:m.position},...W]),()=>g(W=>W.filter(ee=>ee.toastId!==m.id))}},[g,m.id]),xe.useLayoutEffect(()=>{if(!Z)return;let ge=Ce.current,q=ge.style.height;ge.style.height="auto";let W=ge.getBoundingClientRect().height;ge.style.height=q,Xe(W),g(ee=>ee.find(pe=>pe.toastId===m.id)?ee.map(pe=>pe.toastId===m.id?{...pe,height:W}:pe):[{toastId:m.id,height:W,position:m.position},...ee])},[Z,m.title,m.description,g,m.id]);let Qe=xe.useCallback(()=>{Y(!0),Ne(Ye.current),g(ge=>ge.filter(q=>q.toastId!==m.id)),setTimeout(()=>{S(m)},CT)},[m,S,g,Ye]);xe.useEffect(()=>{if(m.promise&&U==="loading"||m.duration===1/0||m.type==="loading")return;let ge;return C||p||M&&vt?(()=>{if(ut.current<ht.current){let q=new Date().getTime()-ht.current;Q.current=Q.current-q}ut.current=new Date().getTime()})():Q.current!==1/0&&(ht.current=new Date().getTime(),ge=setTimeout(()=>{var q;(q=m.onAutoClose)==null||q.call(m,m),Qe()},Q.current)),()=>clearTimeout(ge)},[C,p,m,U,M,vt,Qe]),xe.useEffect(()=>{m.delete&&Qe()},[Qe,m.delete]);function Pt(){var ge,q,W;return L!=null&&L.loading?xe.createElement("div",{className:Rr(P?.loader,(ge=m?.classNames)==null?void 0:ge.loader,"sonner-loader"),"data-visible":U==="loading"},L.loading):j?xe.createElement("div",{className:Rr(P?.loader,(q=m?.classNames)==null?void 0:q.loader,"sonner-loader"),"data-visible":U==="loading"},j):xe.createElement(tT,{className:Rr(P?.loader,(W=m?.classNames)==null?void 0:W.loader),visible:U==="loading"})}return xe.createElement("li",{tabIndex:0,ref:Ce,className:Rr(_,de,P?.toast,(e=m?.classNames)==null?void 0:e.toast,P?.default,P?.[U],(o=m?.classNames)==null?void 0:o[U]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:w,"data-styled":!(m.jsx||m.unstyled||h),"data-mounted":Z,"data-promise":!!m.promise,"data-swiped":K,"data-removed":z,"data-visible":ie,"data-y-position":Ue,"data-x-position":He,"data-index":x,"data-front":ae,"data-swiping":le,"data-dismissible":ne,"data-type":U,"data-invert":Et,"data-swipe-out":ue,"data-swipe-direction":G,"data-expanded":!!(C||N&&Z),style:{"--index":x,"--toasts-before":x,"--z-index":y.length-x,"--offset":`${z?fe:Ye.current}px`,"--initial-height":N?"auto":`${be}px`,...R,...m.style},onPointerDown:ge=>{Ct||!ne||(ke.current=new Date,Ne(Ye.current),ge.target.setPointerCapture(ge.pointerId),ge.target.tagName!=="BUTTON"&&(J(!0),Mt.current={x:ge.clientX,y:ge.clientY}))},onPointerUp:()=>{var ge,q,W,ee;if(ue||!ne)return;Mt.current=null;let pe=Number(((ge=Ce.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),De=Number(((q=Ce.current)==null?void 0:q.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ee=new Date().getTime()-((W=ke.current)==null?void 0:W.getTime()),we=O==="x"?pe:De,ze=Math.abs(we)/Ee;if(Math.abs(we)>=yT||ze>.11){Ne(Ye.current),(ee=m.onDismiss)==null||ee.call(m,m),X(O==="x"?pe>0?"right":"left":De>0?"down":"up"),Qe(),te(!0),he(!1);return}J(!1),B(null)},onPointerMove:ge=>{var q,W,ee,pe;if(!Mt.current||!ne||((q=window.getSelection())==null?void 0:q.toString().length)>0)return;let De=ge.clientY-Mt.current.y,Ee=ge.clientX-Mt.current.x,we=(W=t.swipeDirections)!=null?W:wT(E);!O&&(Math.abs(Ee)>1||Math.abs(De)>1)&&B(Math.abs(Ee)>Math.abs(De)?"x":"y");let ze={x:0,y:0};O==="y"?(we.includes("top")||we.includes("bottom"))&&(we.includes("top")&&De<0||we.includes("bottom")&&De>0)&&(ze.y=De):O==="x"&&(we.includes("left")||we.includes("right"))&&(we.includes("left")&&Ee<0||we.includes("right")&&Ee>0)&&(ze.x=Ee),(Math.abs(ze.x)>0||Math.abs(ze.y)>0)&&he(!0),(ee=Ce.current)==null||ee.style.setProperty("--swipe-amount-x",`${ze.x}px`),(pe=Ce.current)==null||pe.style.setProperty("--swipe-amount-y",`${ze.y}px`)}},Le&&!m.jsx?xe.createElement("button",{"aria-label":V,"data-disabled":Ct,"data-close-button":!0,onClick:Ct||!ne?()=>{}:()=>{var ge;Qe(),(ge=m.onDismiss)==null||ge.call(m,m)},className:Rr(P?.closeButton,(r=m?.classNames)==null?void 0:r.closeButton)},(s=L?.close)!=null?s:iT):null,m.jsx||$p(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:xe.createElement(xe.Fragment,null,U||m.icon||m.promise?xe.createElement("div",{"data-icon":"",className:Rr(P?.icon,(i=m?.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Pt():null,m.type!=="loading"?m.icon||L?.[U]||KA(U):null):null,xe.createElement("div",{"data-content":"",className:Rr(P?.content,(l=m?.classNames)==null?void 0:l.content)},xe.createElement("div",{"data-title":"",className:Rr(P?.title,(a=m?.classNames)==null?void 0:a.title)},typeof m.title=="function"?m.title():m.title),m.description?xe.createElement("div",{"data-description":"",className:Rr(I,Ae,P?.description,(c=m?.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),$p(m.cancel)?m.cancel:m.cancel&&sd(m.cancel)?xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:ge=>{var q,W;sd(m.cancel)&&ne&&((W=(q=m.cancel).onClick)==null||W.call(q,ge),Qe())},className:Rr(P?.cancelButton,(u=m?.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,$p(m.action)?m.action:m.action&&sd(m.action)?xe.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||D,onClick:ge=>{var q,W;sd(m.action)&&((W=(q=m.action).onClick)==null||W.call(q,ge),!ge.defaultPrevented&&Qe())},className:Rr(P?.actionButton,(d=m?.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function W0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function IT(t,e){let o={};return[t,e].forEach((n,r)=>{let s=r===1,i=s?"--mobile-offset":"--offset",l=s?bT:gT;function a(c){["top","right","bottom","left"].forEach(u=>{o[`${i}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?a(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?o[`${i}-${c}`]=l:o[`${i}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):a(l)}),o}var H0=qA(function(t,e){let{invert:o,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:l,offset:a,mobileOffset:c,theme:u="light",richColors:d,duration:f,style:m,visibleToasts:h=hT,toastOptions:p,dir:g=W0(),gap:b=xT,loadingIcon:v,icons:x,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:C}=t,[S,w]=xe.useState([]),F=xe.useMemo(()=>Array.from(new Set([n].concat(S.filter(M=>M.position).map(M=>M.position)))),[S,n]),[R,A]=xe.useState([]),[D,_]=xe.useState(!1),[I,T]=xe.useState(!1),[E,$]=xe.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),j=xe.useRef(null),N=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=xe.useRef(null),L=xe.useRef(!1),V=xe.useCallback(M=>{w(O=>{var B;return(B=O.find(G=>G.id===M.id))!=null&&B.delete||Yo.dismiss(M.id),O.filter(({id:G})=>G!==M.id)})},[]);return xe.useEffect(()=>Yo.subscribe(M=>{if(M.dismiss){w(O=>O.map(B=>B.id===M.id?{...B,delete:!0}:B));return}setTimeout(()=>{QA.flushSync(()=>{w(O=>{let B=O.findIndex(G=>G.id===M.id);return B!==-1?[...O.slice(0,B),{...O[B],...M},...O.slice(B+1)]:[M,...O]})})})}),[]),xe.useEffect(()=>{if(u!=="system"){$(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let M=window.matchMedia("(prefers-color-scheme: dark)");try{M.addEventListener("change",({matches:O})=>{$(O?"dark":"light")})}catch{M.addListener(({matches:B})=>{try{$(B?"dark":"light")}catch(G){console.error(G)}})}},[u]),xe.useEffect(()=>{S.length<=1&&_(!1)},[S]),xe.useEffect(()=>{let M=O=>{var B,G;r.every(X=>O[X]||O.code===X)&&(_(!0),(B=j.current)==null||B.focus()),O.code==="Escape"&&(document.activeElement===j.current||(G=j.current)!=null&&G.contains(document.activeElement))&&_(!1)};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[r]),xe.useEffect(()=>{if(j.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,L.current=!1)}},[j.current]),xe.createElement("section",{ref:e,"aria-label":`${y} ${N}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((M,O)=>{var B;let[G,X]=M.split("-");return S.length?xe.createElement("ol",{key:M,dir:g==="auto"?W0():g,tabIndex:-1,ref:j,className:l,"data-sonner-toaster":!0,"data-theme":E,"data-y-position":G,"data-lifted":D&&S.length>1&&!s,"data-x-position":X,style:{"--front-toast-height":`${((B=R[0])==null?void 0:B.height)||0}px`,"--width":`${vT}px`,"--gap":`${b}px`,...m,...IT(a,c)},onBlur:Z=>{L.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(L.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||L.current||(L.current=!0,P.current=Z.relatedTarget)},onMouseEnter:()=>_(!0),onMouseMove:()=>_(!0),onMouseLeave:()=>{I||_(!1)},onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},S.filter(Z=>!Z.position&&O===0||Z.position===M).map((Z,oe)=>{var z,Y;return xe.createElement(ST,{key:Z.id,icons:x,index:oe,toast:Z,defaultRichColors:d,duration:(z=p?.duration)!=null?z:f,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:o,visibleToasts:h,closeButton:(Y=p?.closeButton)!=null?Y:i,interacting:I,position:M,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:V,toasts:S.filter(le=>le.position==Z.position),heights:R.filter(le=>le.position==Z.position),setHeights:A,expandByDefault:s,gap:b,loadingIcon:v,expanded:D,pauseWhenPageIsHidden:C,swipeDirections:t.swipeDirections})})):null}))});import{c as NT}from"react/compiler-runtime";import{jsx as LT}from"react/jsx-runtime";import{useRouter as $T}from"next/navigation.js";import{formatAdminURL as kT}from"payload/shared";import"react";import{c as ET}from"react/compiler-runtime";import{jsx as vl,jsxs as Bp}from"react/jsx-runtime";import PT from"react";import{c as Op}from"react/compiler-runtime";import{jsx as pn,jsxs as ad}from"react/jsx-runtime";import{createContext as FT,use as AT,useEffect as z0,useState as X0}from"react";import{jsx as RT}from"react/jsx-runtime";import"react";var id="gutter",Mo=t=>{let{children:e,className:o,left:n=!0,negativeLeft:r=!1,negativeRight:s=!1,ref:i,right:l=!0}=t,a=n&&!r,c=l&&!s;return RT("div",{className:[a&&`${id}--left`,c&&`${id}--right`,r&&`${id}--negative-left`,s&&`${id}--negative-right`,o].filter(Boolean).join(" "),ref:i,children:e})};import{c as _T}from"react/compiler-runtime";import{useId as DT}from"react";var bl=t=>{let e=_T(3),o=DT(),n=lt(),r=`${t}-${o}`,s;return e[0]!==n||e[1]!==r?(s=jp({slug:r,depth:n}),e[0]=n,e[1]=r,e[2]=s):s=e[2],s};var _r="drawer",Mp=100,jp=({slug:t,depth:e})=>`drawer_${e}_${t}`,cr=t=>{let e=Op(17),o,n,r,s,i,l;e[0]!==t?({slug:l,children:o,className:n,disabled:r,onClick:s,...i}=t,e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s,e[5]=i,e[6]=l):(o=e[1],n=e[2],r=e[3],s=e[4],i=e[5],l=e[6]);let{openModal:a}=ce(),c;e[7]!==s||e[8]!==a||e[9]!==l?(c=f=>{a(l),typeof s=="function"&&s(f)},e[7]=s,e[8]=a,e[9]=l,e[10]=c):c=e[10];let u=c,d;return e[11]!==o||e[12]!==n||e[13]!==r||e[14]!==u||e[15]!==i?(d=pn("button",{className:n,disabled:r,onClick:u,type:"button",...i,children:o}),e[11]=o,e[12]=n,e[13]=r,e[14]=u,e[15]=i,e[16]=d):d=e[16],d},Lt=t=>{let e=Op(26),{slug:o,children:n,className:r,gutter:s,Header:i,hoverTitle:l,title:a}=t,c=s===void 0?!0:s,{t:u}=k(),{closeModal:d,modalState:f}=ce(),m=Wi(),[h,p]=X0(!1),[g,b]=X0(!1),v,x;e[0]!==f||e[1]!==o?(v=()=>{p(f[o]?.isOpen)},x=[o,f],e[0]=f,e[1]=o,e[2]=v,e[3]=x):(v=e[2],x=e[3]),z0(v,x);let y,C;if(e[4]!==h?(y=()=>{b(h)},C=[h],e[4]=h,e[5]=y,e[6]=C):(y=e[5],C=e[6]),z0(y,C),h){let S=g&&`${_r}--is-open`,w=m>1&&`${_r}--nested`,F;e[7]!==r||e[8]!==S||e[9]!==w?(F=[r,_r,S,w].filter(Boolean),e[7]=r,e[8]=S,e[9]=w,e[10]=F):F=e[10];let R=F.join(" "),A=Mp+m,D;if(e[11]!==i||e[12]!==n||e[13]!==d||e[14]!==m||e[15]!==c||e[16]!==l||e[17]!==o||e[18]!==u||e[19]!==A||e[20]!==R||e[21]!==a){let _;e[23]!==d||e[24]!==o?(_=()=>d(o),e[23]=d,e[24]=o,e[25]=_):_=e[25],D=pn(TT,{children:ad(Uo,{className:R,slug:o,style:{zIndex:A},children:[(!m||m===1)&&pn("div",{className:`${_r}__blur-bg`}),pn("button",{"aria-label":u("general:close"),className:`${_r}__close`,id:`close-drawer__${o}`,onClick:_,type:"button"}),ad("div",{className:`${_r}__content`,style:{width:`calc(100% - (${m} * var(--gutter-h)))`},children:[pn("div",{className:`${_r}__blur-bg-content`}),ad(Mo,{className:`${_r}__content-children`,left:c,right:c,children:[i,i===void 0&&ad("div",{className:`${_r}__header`,children:[pn("h2",{className:`${_r}__header__title`,title:l?a:null,children:a}),pn("button",{"aria-label":u("general:close"),className:`${_r}__header__close`,id:`close-drawer__${o}`,onClick:()=>d(o),type:"button",children:pn(ft,{})})]}),n]})]})]})}),e[11]=i,e[12]=n,e[13]=d,e[14]=m,e[15]=c,e[16]=l,e[17]=o,e[18]=u,e[19]=A,e[20]=R,e[21]=a,e[22]=D}else D=e[22];return D}return null},U0=FT(1),TT=t=>{let e=Op(3),{children:o}=t,r=Wi()+1,s;return e[0]!==o||e[1]!==r?(s=pn(U0,{value:r,children:o}),e[0]=o,e[1]=r,e[2]=s):s=e[2],s},Wi=()=>AT(U0);var ld="confirmation-modal";function It(t){let e=ET(33),{body:o,cancelLabel:n,className:r,confirmingLabel:s,confirmLabel:i,heading:l,modalSlug:a,onCancel:c,onConfirm:u}=t,d=Wi(),[f,m]=PT.useState(!1),{closeModal:h}=ce(),{t:p}=k(),g;e[0]!==h||e[1]!==f||e[2]!==a||e[3]!==u?(g=async()=>{f||(m(!0),typeof u=="function"&&await u(),m(!1),h(a))},e[0]=h,e[1]=f,e[2]=a,e[3]=u,e[4]=g):g=e[4];let b=g,v;e[5]!==h||e[6]!==f||e[7]!==a||e[8]!==c?(v=()=>{f||(h(a),typeof c=="function"&&c())},e[5]=h,e[6]=f,e[7]=a,e[8]=c,e[9]=v):v=e[9];let x=v,y;e[10]!==r?(y=[ld,r].filter(Boolean),e[10]=r,e[11]=y):y=e[11];let C=y.join(" "),S=Mp+d,w;if(e[12]!==o||e[13]!==n||e[14]!==i||e[15]!==f||e[16]!==s||e[17]!==l||e[18]!==a||e[19]!==x||e[20]!==b||e[21]!==p||e[22]!==C||e[23]!==S){let F;e[25]!==n||e[26]!==p?(F=n||p("general:cancel"),e[25]=n,e[26]=p,e[27]=F):F=e[27];let R;e[28]!==i||e[29]!==f||e[30]!==s||e[31]!==p?(R=f?s||`${p("general:loading")}...`:i||p("general:confirm"),e[28]=i,e[29]=f,e[30]=s,e[31]=p,e[32]=R):R=e[32],w=vl(Uo,{className:C,slug:a,style:{zIndex:S},children:Bp("div",{className:`${ld}__wrapper`,children:[Bp("div",{className:`${ld}__content`,children:[vl("h1",{children:l}),vl("p",{children:o})]}),Bp("div",{className:`${ld}__controls`,children:[vl(se,{buttonStyle:"secondary",disabled:f,id:"confirm-cancel",onClick:x,size:"large",type:"button",children:F}),vl(se,{id:"confirm-action",onClick:b,size:"large",children:R})]})]})}),e[12]=o,e[13]=n,e[14]=i,e[15]=f,e[16]=s,e[17]=l,e[18]=a,e[19]=x,e[20]=b,e[21]=p,e[22]=C,e[23]=S,e[24]=w}else w=e[24];return w}var Vp="stay-logged-in",Y0=()=>{let t=NT(11),{refreshCookie:e}=Re(),o=$T(),{config:n}=H(),{admin:r,routes:s}=n,{routes:i}=r,{logout:l}=i,{admin:a}=s,{t:c}=k(),{startRouteTransition:u}=st(),d;t[0]!==a||t[1]!==l||t[2]!==o||t[3]!==u?(d=()=>u(()=>o.push(kT({adminRoute:a,path:l}))),t[0]=a,t[1]=l,t[2]=o,t[3]=u,t[4]=d):d=t[4];let f=d,m;t[5]!==e?(m=()=>{e()},t[5]=e,t[6]=m):m=t[6];let h=m,p;return t[7]!==h||t[8]!==f||t[9]!==c?(p=LT(It,{body:c("authentication:youAreInactive"),cancelLabel:c("authentication:stayLoggedIn"),confirmLabel:c("authentication:logOut"),heading:c("authentication:stayLoggedIn"),modalSlug:Vp,onCancel:h,onConfirm:f}),t[7]=h,t[8]=f,t[9]=c,t[10]=p):p=t[10],p};import{c as jT}from"react/compiler-runtime";import{useEffect as OT,useState as MT}from"react";function Zo(t,e){let o=jT(4),[n,r]=MT(t),s,i;return o[0]!==e||o[1]!==t?(s=()=>{let l=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(l)}},i=[t,e],o[0]=e,o[1]=t,o[2]=s,o[3]=i):(s=o[2],i=o[3]),OT(s,i),n}import*as Z0 from"qs-esm";var Ke={delete:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"delete"};return fetch(t,n)},get:(t,e={headers:{}})=>{let o="";return e.params&&(o=Z0.stringify(e.params,{addQueryPrefix:!0})),fetch(`${t}${o}`,{credentials:"include",...e})},patch:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"PATCH"};return fetch(t,n)},post:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"post"};return fetch(`${t}`,n)},put:(t,e={headers:{}})=>{let o=e&&e.headers?{...e.headers}:{},n={...e,credentials:"include",headers:{...o},method:"put"};return fetch(t,n)}};var K0=HT({}),q0=2147483647;function Gp({children:t,permissions:e,user:o}){let[n,r]=xl(o),[s,i]=xl(),[l,a]=xl(),c=VT(),u=GT(),{config:d}=H(),{admin:{routes:{inactivity:f},user:m},routes:{admin:h,api:p},serverURL:g}=d,[b,v]=xl(e),{i18n:x}=k(),{closeAllModals:y,openModal:C}=ce(),[S,w]=xl(0),F=Zo(S,1e4),R=J0.useRef(null),{startRouteTransition:A}=st(),D=n?.id,_=Ms(()=>{A(()=>u.replace(WT({adminRoute:h,path:`${f}${window.location.pathname.startsWith(h)?`?redirect=${encodeURIComponent(window.location.pathname)}`:""}`}))),y()},[u,h,f,y,A]),I=Ms(()=>{i(void 0),a(void 0),clearTimeout(R.current)},[]),T=Ms(L=>{L?.user?(r(L.user),i(L.token),a(L.exp)):(r(null),I())},[I]),E=Ms(L=>{let V=Math.round(new Date().getTime()/1e3),M=(typeof l=="number"?l:0)-V;return(L||l&&M<120)&&(R.current=setTimeout(()=>{async function O(){try{let B=await Ke.post(`${g}${p}/${m}/refresh-token?refresh`,{headers:{"Accept-Language":x.language}});if(B.status===200){let G=await B.json();T(G)}else T(null),_()}catch(B){me.error(B.message)}}O()},1e3)),()=>{clearTimeout(R.current)}},[p,x.language,_,g,T,l,m]),$=Ms(async L=>{try{let V=await Ke.post(`${g}${p}/${m}/refresh-token`,{headers:{"Accept-Language":x.language}});if(V.status===200){let M=await V.json();return L||T(M),M.user}return T(null),_(),null}catch(V){return me.error(`Refreshing token failed: ${V.message}`),null}},[p,x.language,_,g,T,m]),j=Ms(async()=>{try{return await Ke.post(`${g}${p}/${n.collection}/logout`),T(null),I(),!0}catch(L){return me.error(`Logging out failed: ${L.message}`),!1}},[p,I,g,T,n]),N=Ms(async({locale:L}={})=>{let V=Q0.stringify({locale:L},{addQueryPrefix:!0});try{let M=await Ke.get(`${g}${p}/access${V}`,{headers:{"Accept-Language":x.language}});if(M.status===200){let O=await M.json();v(O)}else throw new Error(`Fetching permissions failed with status code ${M.status}`)}catch(M){me.error(`Refreshing permissions failed: ${M.message}`)}},[g,p,x]),P=J0.useCallback(async()=>{try{let L=await Ke.get(`${g}${p}/${m}/me`,{credentials:"include",headers:{"Accept-Language":x.language}});if(L.status===200){let V=await L.json(),M=null;return T(V),M}}catch(L){me.error(`Fetching user failed: ${L.message}`)}return null},[g,p,m,x.language,T]);return cd(()=>{P()},[P]),cd(()=>{D&&E()},[F,E,D]),cd(()=>{w(Date.now())},[c]),cd(()=>{let L,V,M=Math.round(new Date().getTime()/1e3),O=typeof l=="number"?l-M:0,B=Math.max(Math.min((O-60)*1e3,q0),0),G=Math.max(Math.min(O*1e3,q0),0);if(!n){clearTimeout(L),clearTimeout(V);return}return O>0&&(L=setTimeout(()=>{C(Vp)},B),V=setTimeout(()=>{T(null),_()},G)),()=>{L&&clearTimeout(L),V&&clearTimeout(V)}},[l,C,x,T,n,_]),BT(K0,{value:{fetchFullUser:P,logOut:j,permissions:b,refreshCookie:E,refreshCookieAsync:$,refreshPermissions:N,setPermissions:v,setUser:T,token:s,user:n},children:t})}var Re=()=>zT(K0);import{jsx as XT}from"react/jsx-runtime";import{dequal as ex}from"dequal/lite";import{createContext as UT,use as YT,useCallback as tx,useEffect as ZT,useRef as Hp}from"react";function Wp(t,e){let o={...t};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(typeof e[n]=="object"&&!Array.isArray(e[n])&&t[n]?o[n]=Wp(t[n],e[n]):o[n]=e[n]);return o}var rx=UT({}),ox=(t,e)=>({body:JSON.stringify({value:t}),headers:{"Accept-Language":e,"Content-Type":"application/json"}}),zp=({children:t})=>{let e=Hp({}),o=Hp({}),n=Hp({}),{config:r}=H(),{user:s}=Re(),{i18n:i}=k(),{routes:{api:l},serverURL:a}=r;ZT(()=>{s||(o.current={})},[s]);let c=tx(async d=>{let f=o.current;if(typeof f[d]<"u")return f[d];let m=new Promise(h=>{(async()=>{let p=await Ke.get(`${a}${l}/payload-preferences/${d}`,{headers:{"Accept-Language":i.language}}),g=null;p.status===200&&(g=(await p.json()).value),o.current[d]=g,h(g)})()});return f[d]=m,m},[i.language,l,o,a]),u=tx(async(d,f,m=!1)=>{if(m===!1){o.current[d]=f,await Ke.post(`${a}${l}/payload-preferences/${d}`,ox(f,i.language));return}let h=f,p=await c(d);if(typeof f=="object"&&typeof p=="object"&&typeof h=="object"){if(p&&(h=Wp(p,h)),ex(h,p))return;n.current[d]={...n.current[d],...h}}else{if(h===p)return;n.current[d]=h}let g=async()=>{ex(n.current[d],o.current[d])||(o.current[d]=n.current[d],await Ke.post(`${a}${l}/payload-preferences/${d}`,ox(o.current[d],i.language)),delete n.current[d])};setTimeout(()=>{g()})},[l,c,i.language,n,a]);return e.current.getPreference=c,e.current.setPreference=u,XT(rx,{value:e.current,children:t})},Fo=()=>YT(rx);var lx=ix({}),cx=ix({localeIsLoading:!1,setLocaleIsLoading:t=>{}}),tE=async(t,e)=>await fetch(`${e}/payload-preferences/${t}`,{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"})?.then(o=>o.json()),Xp=t=>{let e=JT(27),{children:o,locale:n}=t,{config:r}=H(),{localization:s,routes:i,serverURL:l}=r,a=s===void 0?!1:s,{api:c}=i,{user:u}=Re(),d=a?a.defaultLocale:"en",{getPreference:f}=Fo(),m=qT(),h;e[0]!==m?(h=m.get("locale"),e[0]=m,e[1]=h):h=e[1];let p=h,g;e[2]!==d||e[3]!==n||e[4]!==p||e[5]!==a?(g=()=>!a||a&&!a.locales.length?{}:Yn(a,p)||Yn(a,n)||Yn(a,d)||Yn(a,a.locales[0].code),e[2]=d,e[3]=n,e[4]=p,e[5]=a,e[6]=g):g=e[6];let[b,v]=QT.useState(g),[x,y]=eE(!1),C=KT(b),S,w;e[7]!==b?(S=()=>{b.code!==C.current.code&&y(!1),C.current=b},w=[b],e[7]=b,e[8]=S,e[9]=w):(S=e[8],w=e[9]),sx(S,w);let F=`${l}${c}`,R;e[10]!==d||e[11]!==F||e[12]!==p||e[13]!==a||e[14]!==u?.id?(R=()=>{(async function(){if(a&&u?.id){let E=p||await tE("locale",F)?.then(oE),$=Yn(a,E)||Yn(a,d)||Yn(a,a?.locales?.[0]?.code);$&&v($)}})()},e[10]=d,e[11]=F,e[12]=p,e[13]=a,e[14]=u?.id,e[15]=R):R=e[15];let A=u?.id,D;e[16]!==d||e[17]!==F||e[18]!==f||e[19]!==p||e[20]!==a||e[21]!==A?(D=[d,f,a,F,p,A],e[16]=d,e[17]=F,e[18]=f,e[19]=p,e[20]=a,e[21]=A,e[22]=D):D=e[22],sx(R,D);let _;return e[23]!==o||e[24]!==x||e[25]!==b?(_=nx(lx,{value:b,children:nx(cx,{value:{localeIsLoading:x,setLocaleIsLoading:y},children:o})}),e[23]=o,e[24]=x,e[25]=b,e[26]=_):_=e[26],_},ud=()=>ax(cx),Pe=()=>ax(lx);function oE(t){return t.value}var dd=(t,e,o)=>`field-${t?.replace(/\./g,"__")}${e>1?`-${e}`:""}${o?`-${o}`:""}`;var ve=t=>{let e=rE(25),{as:o,hideLocale:n,htmlFor:r,label:s,localized:i,path:l,required:a,unstyled:c}=t,u=o===void 0?"label":o,d=n===void 0?!1:n,f=i===void 0?!1:i,m=a===void 0?!1:a,h=c===void 0?!1:c,{uuid:p}=Oe(),g=lt(),b;e[0]!==g||e[1]!==r||e[2]!==l||e[3]!==p?(b=r||dd(l,g,p),e[0]=g,e[1]=r,e[2]=l,e[3]=p,e[4]=b):b=e[4];let v=b,{i18n:x}=k(),{code:y,label:C}=Pe();if(s){let S=`field-label ${h?"unstyled":""}`,w;if(e[5]!==u||e[6]!==y||e[7]!==d||e[8]!==v||e[9]!==x||e[10]!==s||e[11]!==C||e[12]!==f||e[13]!==m||e[14]!==S||e[15]!==h){let F;e[17]!==m||e[18]!==h?(F=m&&!h&&nE("span",{className:"required",children:"*"}),e[17]=m,e[18]=h,e[19]=F):F=e[19];let R;e[20]!==y||e[21]!==d||e[22]!==C||e[23]!==f?(R=f&&!d&&ux("span",{className:"localized",children:["\u2014 ",typeof C=="string"?C:y]}),e[20]=y,e[21]=d,e[22]=C,e[23]=f,e[24]=R):R=e[24],w=ux(u,{className:S,htmlFor:v,children:[sE(s,x),F,R]}),e[5]=u,e[6]=y,e[7]=d,e[8]=v,e[9]=x,e[10]=s,e[11]=C,e[12]=f,e[13]=m,e[14]=S,e[15]=h,e[16]=w}else w=e[16];return w}return null};var md=({collapsed:t,rowID:e,rows:o})=>o.reduce((n,r)=>(e===r.id&&(r.collapsed=t),r.collapsed&&n.collapsedIDs.push(r.id),n.updatedRows.push(r),n),{collapsedIDs:[],updatedRows:[]}),fd=({collapsed:t,rows:e})=>e.reduce((o,n)=>(n.collapsed=t,t&&o.collapsedIDs.push(n.id),o.updatedRows.push(n),o),{collapsedIDs:[],updatedRows:[]});import{c as UE}from"react/compiler-runtime";import{jsx as sy}from"react/jsx-runtime";import*as iy from"react";import{jsx as Dl,jsxs as HE}from"react/jsx-runtime";import{useCallback as ny,useMemo as zE}from"react";import{c as VE}from"react/compiler-runtime";import{useRef as ey}from"react";import{c as iE}from"react/compiler-runtime";import{useEffect as aE,useRef as lE}from"react";var Bs=(t,e,o)=>{let n=iE(9),r;n[0]!==o?(r=o===void 0?[]:o,n[0]=o,n[1]=r):r=n[1];let s=r,i;n[2]===Symbol.for("react.memo_cache_sentinel")?(i=Date.now(),n[2]=i):i=n[2];let l=lE(i),a;n[3]!==t||n[4]!==e?(a=()=>{let u=setTimeout(()=>{Date.now()-l.current>=e&&(t(),l.current=Date.now())},e-(Date.now()-l.current));return()=>{clearTimeout(u)}},n[3]=t,n[4]=e,n[5]=a):a=n[5];let c;n[6]!==e||n[7]!==s?(c=[e,...s],n[6]=e,n[7]=s,n[8]=c):c=n[8],aE(a,c)};import{jsx as rh}from"react/jsx-runtime";import*as Jx from"qs-esm";import Yx,{createContext as NE,use as LE,useCallback as Yi,useEffect as Zx,useMemo as $E,useRef as kE,useState as Jo}from"react";import{getTranslation as AE}from"@payloadcms/translations";var cE={},yl={};function Hi(t,e){try{let n=(cE[t]||=new Intl.DateTimeFormat("en-GB",{timeZone:t,hour:"numeric",timeZoneName:"longOffset"}).format)(e).split("GMT")[1]||"";return n in yl?yl[n]:dx(n,n.split(":"))}catch{if(t in yl)return yl[t];let o=t?.match(uE);return o?dx(t,o.slice(1)):NaN}}var uE=/([+-]\d\d):?(\d\d)?/;function dx(t,e){let o=+e[0],n=+(e[1]||0);return yl[t]=o>0?o*60+n:o*60-n}var Bt=class t extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Hi(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),fx(this,NaN),Up(this)):this.setTime(Date.now())}static tz(e,...o){return o.length?new t(...o,e):new t(Date.now(),e)}withTimeZone(e){return new t(+this,e)}getTimezoneOffset(){return-Hi(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),Up(this),+this}[Symbol.for("constructDateFrom")](e){return new t(+new Date(e),this.timeZone)}},mx=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(t=>{if(!mx.test(t))return;let e=t.replace(mx,"$1UTC");Bt.prototype[e]&&(t.startsWith("get")?Bt.prototype[t]=function(){return this.internal[e]()}:(Bt.prototype[t]=function(){return Date.prototype[e].apply(this.internal,arguments),dE(this),+this},Bt.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),Up(this),+this}))});function Up(t){t.internal.setTime(+t),t.internal.setUTCMinutes(t.internal.getUTCMinutes()-t.getTimezoneOffset())}function dE(t){Date.prototype.setFullYear.call(t,t.internal.getUTCFullYear(),t.internal.getUTCMonth(),t.internal.getUTCDate()),Date.prototype.setHours.call(t,t.internal.getUTCHours(),t.internal.getUTCMinutes(),t.internal.getUTCSeconds(),t.internal.getUTCMilliseconds()),fx(t)}function fx(t){let e=Hi(t.timeZone,t),o=new Date(+t);o.setUTCHours(o.getUTCHours()-1);let n=-new Date(+t).getTimezoneOffset(),r=-new Date(+o).getTimezoneOffset(),s=n-r,i=Date.prototype.getHours.apply(t)!==t.internal.getUTCHours();s&&i&&t.internal.setUTCMinutes(t.internal.getUTCMinutes()+s);let l=n-e;l&&Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+l);let a=Hi(t.timeZone,t),u=-new Date(+t).getTimezoneOffset()-a,d=a!==e,f=u-l;if(d&&f){Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+f);let m=Hi(t.timeZone,t),h=a-m;h&&(t.internal.setUTCMinutes(t.internal.getUTCMinutes()+h),Date.prototype.setUTCMinutes.call(t,Date.prototype.getUTCMinutes.call(t)+h))}}var mE=Math.pow(10,8)*24*60*60*1e3,gJ=-mE,pd=6048e5,px=864e5;var Cl=43200,Yp=1440;var fE=3600;var hx=fE*24,bJ=hx*7,pE=hx*365.2425,hE=pE/12,vJ=hE*3,Zp=Symbol.for("constructDateFrom");function io(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Zp in t?t[Zp](e):t instanceof Date?new t.constructor(e):new Date(e)}function et(t,e){return io(e||t,t)}var gE={};function Zr(){return gE}function hn(t,e){let o=Zr(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,r=et(t,e?.in),s=r.getDay(),i=(s<n?7:0)+s-n;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function Vs(t,e){return hn(t,{...e,weekStartsOn:1})}function hd(t,e){let o=et(t,e?.in),n=o.getFullYear(),r=io(o,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);let s=Vs(r),i=io(o,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);let l=Vs(i);return o.getTime()>=s.getTime()?n+1:o.getTime()>=l.getTime()?n:n-1}function zi(t){let e=et(t),o=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return o.setUTCFullYear(e.getFullYear()),+t-+o}function Jn(t,...e){let o=io.bind(null,t||e.find(n=>typeof n=="object"));return e.map(o)}function Jp(t,e){let o=et(t,e?.in);return o.setHours(0,0,0,0),o}function gx(t,e,o){let[n,r]=Jn(o?.in,t,e),s=Jp(n),i=Jp(r),l=+s-zi(s),a=+i-zi(i);return Math.round((l-a)/px)}function bx(t,e){let o=hd(t,e),n=io(e?.in||t,0);return n.setFullYear(o,0,4),n.setHours(0,0,0,0),Vs(n)}function Xi(t,e){let o=+et(t)-+et(e);return o<0?-1:o>0?1:o}function vx(t){return io(t,Date.now())}function xx(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function yx(t){return!(!xx(t)&&typeof t!="number"||isNaN(+et(t)))}function Cx(t,e,o){let[n,r]=Jn(o?.in,t,e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function wx(t){return e=>{let n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Sx(t,e){return+et(t)-+et(e)}function Ix(t,e){let o=et(t,e?.in);return o.setHours(23,59,59,999),o}function Rx(t,e){let o=et(t,e?.in),n=o.getMonth();return o.setFullYear(o.getFullYear(),n+1,0),o.setHours(23,59,59,999),o}function _x(t,e){let o=et(t,e?.in);return+Ix(o,e)==+Rx(o,e)}function Dx(t,e,o){let[n,r,s]=Jn(o?.in,t,t,e),i=Xi(r,s),l=Math.abs(Cx(r,s));if(l<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*l);let a=Xi(r,s)===-i;_x(n)&&l===1&&Xi(n,s)===1&&(a=!1);let c=i*(l-+a);return c===0?0:c}function Fx(t,e,o){let n=Sx(t,e)/1e3;return wx(o?.roundingMethod)(n)}function Ax(t,e){let o=et(t,e?.in);return o.setFullYear(o.getFullYear(),0,1),o.setHours(0,0,0,0),o}function Tx(t,e){let o=et(t,e?.in);return gx(o,Ax(o))+1}function Ex(t,e){let o=et(t,e?.in),n=+Vs(o)-+bx(o);return Math.round(n/pd)+1}function gd(t,e){let o=et(t,e?.in),n=o.getFullYear(),r=Zr(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=io(e?.in||t,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);let l=hn(i,e),a=io(e?.in||t,0);a.setFullYear(n,0,s),a.setHours(0,0,0,0);let c=hn(a,e);return+o>=+l?n+1:+o>=+c?n:n-1}function Px(t,e){let o=Zr(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,r=gd(t,e),s=io(e?.in||t,0);return s.setFullYear(r,0,n),s.setHours(0,0,0,0),hn(s,e)}function Nx(t,e){let o=et(t,e?.in),n=+hn(o,e)-+Px(o,e);return Math.round(n/pd)+1}function it(t,e){let o=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return o+n}var gn={y(t,e){let o=t.getFullYear(),n=o>0?o:1-o;return it(e==="yy"?n%100:n,e.length)},M(t,e){let o=t.getMonth();return e==="M"?String(o+1):it(o+1,2)},d(t,e){return it(t.getDate(),e.length)},a(t,e){let o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h(t,e){return it(t.getHours()%12||12,e.length)},H(t,e){return it(t.getHours(),e.length)},m(t,e){return it(t.getMinutes(),e.length)},s(t,e){return it(t.getSeconds(),e.length)},S(t,e){let o=e.length,n=t.getMilliseconds(),r=Math.trunc(n*Math.pow(10,o-3));return it(r,e.length)}};var Ui={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qp={G:function(t,e,o){let n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return o.era(n,{width:"abbreviated"});case"GGGGG":return o.era(n,{width:"narrow"});case"GGGG":default:return o.era(n,{width:"wide"})}},y:function(t,e,o){if(e==="yo"){let n=t.getFullYear(),r=n>0?n:1-n;return o.ordinalNumber(r,{unit:"year"})}return gn.y(t,e)},Y:function(t,e,o,n){let r=gd(t,n),s=r>0?r:1-r;if(e==="YY"){let i=s%100;return it(i,2)}return e==="Yo"?o.ordinalNumber(s,{unit:"year"}):it(s,e.length)},R:function(t,e){let o=hd(t);return it(o,e.length)},u:function(t,e){let o=t.getFullYear();return it(o,e.length)},Q:function(t,e,o){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return it(n,2);case"Qo":return o.ordinalNumber(n,{unit:"quarter"});case"QQQ":return o.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,o){let n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return it(n,2);case"qo":return o.ordinalNumber(n,{unit:"quarter"});case"qqq":return o.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,o){let n=t.getMonth();switch(e){case"M":case"MM":return gn.M(t,e);case"Mo":return o.ordinalNumber(n+1,{unit:"month"});case"MMM":return o.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,o){let n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return it(n+1,2);case"Lo":return o.ordinalNumber(n+1,{unit:"month"});case"LLL":return o.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,o,n){let r=Nx(t,n);return e==="wo"?o.ordinalNumber(r,{unit:"week"}):it(r,e.length)},I:function(t,e,o){let n=Ex(t);return e==="Io"?o.ordinalNumber(n,{unit:"week"}):it(n,e.length)},d:function(t,e,o){return e==="do"?o.ordinalNumber(t.getDate(),{unit:"date"}):gn.d(t,e)},D:function(t,e,o){let n=Tx(t);return e==="Do"?o.ordinalNumber(n,{unit:"dayOfYear"}):it(n,e.length)},E:function(t,e,o){let n=t.getDay();switch(e){case"E":case"EE":case"EEE":return o.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(n,{width:"short",context:"formatting"});case"EEEE":default:return o.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,o,n){let r=t.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return it(s,2);case"eo":return o.ordinalNumber(s,{unit:"day"});case"eee":return o.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(r,{width:"short",context:"formatting"});case"eeee":default:return o.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,o,n){let r=t.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return it(s,e.length);case"co":return o.ordinalNumber(s,{unit:"day"});case"ccc":return o.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(r,{width:"narrow",context:"standalone"});case"cccccc":return o.day(r,{width:"short",context:"standalone"});case"cccc":default:return o.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,o){let n=t.getDay(),r=n===0?7:n;switch(e){case"i":return String(r);case"ii":return it(r,e.length);case"io":return o.ordinalNumber(r,{unit:"day"});case"iii":return o.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(n,{width:"short",context:"formatting"});case"iiii":default:return o.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,o){let r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,o){let n=t.getHours(),r;switch(n===12?r=Ui.noon:n===0?r=Ui.midnight:r=n/12>=1?"pm":"am",e){case"b":case"bb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,o){let n=t.getHours(),r;switch(n>=17?r=Ui.evening:n>=12?r=Ui.afternoon:n>=4?r=Ui.morning:r=Ui.night,e){case"B":case"BB":case"BBB":return o.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,o){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),o.ordinalNumber(n,{unit:"hour"})}return gn.h(t,e)},H:function(t,e,o){return e==="Ho"?o.ordinalNumber(t.getHours(),{unit:"hour"}):gn.H(t,e)},K:function(t,e,o){let n=t.getHours()%12;return e==="Ko"?o.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},k:function(t,e,o){let n=t.getHours();return n===0&&(n=24),e==="ko"?o.ordinalNumber(n,{unit:"hour"}):it(n,e.length)},m:function(t,e,o){return e==="mo"?o.ordinalNumber(t.getMinutes(),{unit:"minute"}):gn.m(t,e)},s:function(t,e,o){return e==="so"?o.ordinalNumber(t.getSeconds(),{unit:"second"}):gn.s(t,e)},S:function(t,e){return gn.S(t,e)},X:function(t,e,o){let n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return $x(n);case"XXXX":case"XX":return Gs(n);case"XXXXX":case"XXX":default:return Gs(n,":")}},x:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"x":return $x(n);case"xxxx":case"xx":return Gs(n);case"xxxxx":case"xxx":default:return Gs(n,":")}},O:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Lx(n,":");case"OOOO":default:return"GMT"+Gs(n,":")}},z:function(t,e,o){let n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Lx(n,":");case"zzzz":default:return"GMT"+Gs(n,":")}},t:function(t,e,o){let n=Math.trunc(+t/1e3);return it(n,e.length)},T:function(t,e,o){return it(+t,e.length)}};function Lx(t,e=""){let o=t>0?"-":"+",n=Math.abs(t),r=Math.trunc(n/60),s=n%60;return s===0?o+String(r):o+String(r)+e+it(s,2)}function $x(t,e){return t%60===0?(t>0?"-":"+")+it(Math.abs(t)/60,2):Gs(t,e)}function Gs(t,e=""){let o=t>0?"-":"+",n=Math.abs(t),r=it(Math.trunc(n/60),2),s=it(n%60,2);return o+r+e+s}var kx=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},jx=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},bE=(t,e)=>{let o=t.match(/(P+)(p+)?/)||[],n=o[1],r=o[2];if(!r)return kx(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",kx(n,e)).replace("{{time}}",jx(r,e))},Ox={p:jx,P:bE};var vE=/^D+$/,xE=/^Y+$/,yE=["D","DD","YY","YYYY"];function Mx(t){return vE.test(t)}function Bx(t){return xE.test(t)}function Vx(t,e,o){let n=CE(t,e,o);if(console.warn(n),yE.includes(t))throw new RangeError(n)}function CE(t,e,o){let n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${o}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var wE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,IE=/^'([^]*?)'?$/,RE=/''/g,_E=/[a-zA-Z]/;function Qp(t,e,o){let n=Zr(),r=o?.locale??n.locale??ol,s=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=et(t,o?.in);if(!yx(l))throw new RangeError("Invalid time value");let a=e.match(SE).map(u=>{let d=u[0];if(d==="p"||d==="P"){let f=Ox[d];return f(u,r.formatLong)}return u}).join("").match(wE).map(u=>{if(u==="''")return{isToken:!1,value:"'"};let d=u[0];if(d==="'")return{isToken:!1,value:DE(u)};if(qp[d])return{isToken:!0,value:u};if(d.match(_E))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});r.localize.preprocessor&&(a=r.localize.preprocessor(l,a));let c={firstWeekContainsDate:s,weekStartsOn:i,locale:r};return a.map(u=>{if(!u.isToken)return u.value;let d=u.value;(!o?.useAdditionalWeekYearTokens&&Bx(d)||!o?.useAdditionalDayOfYearTokens&&Mx(d))&&Vx(d,e,String(t));let f=qp[d[0]];return f(l,d,r.localize,c)}).join("")}function DE(t){let e=t.match(IE);return e?e[1].replace(RE,"'"):t}function Gx(t,e,o){let n=Zr(),r=o?.locale??n.locale??ol,s=2520,i=Xi(t,e);if(isNaN(i))throw new RangeError("Invalid time value");let l=Object.assign({},o,{addSuffix:o?.addSuffix,comparison:i}),[a,c]=Jn(o?.in,...i>0?[e,t]:[t,e]),u=Fx(c,a),d=(zi(c)-zi(a))/1e3,f=Math.round((u-d)/60),m;if(f<2)return o?.includeSeconds?u<5?r.formatDistance("lessThanXSeconds",5,l):u<10?r.formatDistance("lessThanXSeconds",10,l):u<20?r.formatDistance("lessThanXSeconds",20,l):u<40?r.formatDistance("halfAMinute",0,l):u<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):f===0?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",f,l);if(f<45)return r.formatDistance("xMinutes",f,l);if(f<90)return r.formatDistance("aboutXHours",1,l);if(f<Yp){let h=Math.round(f/60);return r.formatDistance("aboutXHours",h,l)}else{if(f<s)return r.formatDistance("xDays",1,l);if(f<Cl){let h=Math.round(f/Yp);return r.formatDistance("xDays",h,l)}else if(f<Cl*2)return m=Math.round(f/Cl),r.formatDistance("aboutXMonths",m,l)}if(m=Dx(c,a),m<12){let h=Math.round(f/Cl);return r.formatDistance("xMonths",h,l)}else{let h=m%12,p=Math.trunc(m/12);return h<3?r.formatDistance("aboutXYears",p,l):h<9?r.formatDistance("overXYears",p,l):r.formatDistance("almostXYears",p+1,l)}}function Wx(t,e){return Gx(t,vx(t),e)}function Dr(t,e){let o=FE(e)?new e(0):io(e,0);return o.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),o.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),o}function FE(t){return typeof t=="function"&&t.prototype?.constructor===t}var bn=({date:t,i18n:e,pattern:o,timezone:n})=>{let r=new Bt(new Date(t));if(n){let s=Bt.tz(n),i=r.withTimeZone(n),l=Dr(i,s);return e.dateFNS?Qp(l,o,{locale:e.dateFNS}):`${e.t("general:loading")}...`}return e.dateFNS?Qp(r,o,{locale:e.dateFNS}):`${e.t("general:loading")}...`},Hx=({date:t,i18n:e})=>{let o=new Date(t);return e?.dateFNS?Wx(o,{locale:e.dateFNS}):`${e.t("general:loading")}...`};function Kp(t){return typeof t=="object"&&"root"in t}function bd(t,e){for(let o of t)"text"in o&&o.text?e+=o.text:"children"in o||(e+=`[${o.type}]`),"children"in o&&o.children&&(e+=bd(o.children,e));return e}var ur=({collectionConfig:t,data:e,dateFormat:o,fallback:n,globalConfig:r,i18n:s})=>{let i;if(t){let l=t?.admin?.useAsTitle;if(l&&(i=e?.[l]||i,i)){let a=t.fields.find(u=>"name"in u&&u.name===l);if(a?.type==="date"){let u="date"in a.admin&&a?.admin?.date?.displayFormat||o;i=bn({date:i,i18n:s,pattern:u})||i}}}return r&&(i=AE(r?.label,s)||r?.slug),Kp(i)&&(i=bd(i.root.children?.[0]?.children||[],"")),!i&&Kp(n)&&(i=bd(n.root.children?.[0]?.children||[],"")),i||(i=typeof n=="string"?n:`[${s.t("general:untitled")}]`),i};import{c as TE}from"react/compiler-runtime";import{jsx as EE}from"react/jsx-runtime";import eh from"react";var zx=eh.createContext({getUploadEdits:()=>{},resetUploadEdits:void 0,updateUploadEdits:void 0,uploadEdits:void 0}),th=t=>{let e=TE(10),{children:o,initialUploadEdits:n}=t,r;e[0]!==n?(r=n||{},e[0]=n,e[1]=r):r=e[1];let[s,i]=eh.useState(r),l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{i({})},e[2]=l):l=e[2];let a=l,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=h=>{i(p=>({...p||{},...h||{}}))},e[3]=c):c=e[3];let u=c,d;e[4]!==s?(d=()=>s,e[4]=s,e[5]=d):d=e[5];let f=d,m;return e[6]!==o||e[7]!==f||e[8]!==s?(m=EE(zx,{value:{getUploadEdits:f,resetUploadEdits:a,updateUploadEdits:u,uploadEdits:s},children:o}),e[6]=o,e[7]=f,e[8]=s,e[9]=m):m=e[9],m},Ws=()=>eh.use(zx);import*as oh from"qs-esm";import PE from"react";var wl=t=>{let{collectionSlug:e,docPermissions:o,globalSlug:n,isEditing:r}=t;return e?!!(r&&o?.update||!r&&o?.create):n?!!o?.update:!1};var Xx=({id:t,collectionSlug:e,globalSlug:o})=>!!(o||e&&t);var Ux=({id:t,api:e,collectionSlug:o,globalSlug:n,i18n:r,locale:s,permissions:i,serverURL:l,setDocPermissions:a,setHasPublishPermission:c,setHasSavePermission:u})=>PE.useCallback(async d=>{let f={locale:s||void 0},m=d?.id||t,h=Xx({id:m,collectionSlug:o,globalSlug:n});if(h){let p=o?`/${o}/access/${m}`:n?`/globals/${n}/access`:null;if(p){let b=await(await fetch(`${l}${e}${p}?${oh.stringify(f)}`,{body:JSON.stringify({...d||{},_status:"draft"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"post"})).json(),v=await fetch(`${l}${e}${p}?${oh.stringify(f)}`,{body:JSON.stringify({...d||{},_status:"published"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"POST"}).then(x=>x.json());a(b),u(wl({collectionSlug:o,docPermissions:b,globalSlug:n,isEditing:h})),c(v?.update)}}else{let p=o?i?.collections?.[o]:i?.globals?.[n];a(p),u(wl({collectionSlug:o,docPermissions:p,globalSlug:n,isEditing:h}))}},[l,e,t,i,r.language,s,o,n]);var qx=NE({}),Te=()=>LE(qx),jE=({children:t,...e})=>{let{id:o,collectionSlug:n,currentEditor:r,docPermissions:s,globalSlug:i,hasPublishedDoc:l,hasPublishPermission:a,hasSavePermission:c,initialData:u,initialState:d,isLocked:f,lastUpdateTime:m,mostRecentVersionIsAutosaved:h,unpublishedVersionCount:p,versionCount:g}=e,[b,v]=Jo(s),[x,y]=Jo(c),[C,S]=Jo(a),{permissions:w}=Re(),{config:{admin:{dateFormat:F},routes:{api:R},serverURL:A},getEntityConfig:D}=H(),_=D({collectionSlug:n}),I=D({globalSlug:i}),T=kE(new AbortController),E=_||I,{i18n:$}=k(),{uploadEdits:j}=Ws(),[N,P]=Jo(()=>ur({collectionConfig:_,data:{...u||{},id:o},dateFormat:F,fallback:o?.toString(),globalConfig:I,i18n:$})),[L,V]=Jo(h),[M,O]=Jo(g),[B,G]=Jo(l),[X,Z]=Jo(p),[oe,z]=Jo(f),[Y,le]=Jo(r),[J,ue]=Jo(m),[te,K]=Jo(u),[he,fe]=Jo("idle"),Ne=Yi(Ue=>{fe(Ue)},[]),{getPreference:be,setPreference:Xe}=Fo(),{code:Q}=Pe(),{localeIsLoading:ke}=ud(),Ce=$E(()=>d===void 0||u===void 0||ke,[u,d,ke]),ae=`${A}${R}`,ie,U,ne;i&&(ie=i,U="globals",ne=`global-${ie}`),n&&(ie=n,U="collections",o&&(ne=`collection-${ie}-${o}`));let de=Yi(async(Ue,He)=>{try{let vt=He===i?`where[globalSlug][equals]=${He}`:`where[document.value][equals]=${Ue}&where[document.relationTo][equals]=${He}`,Et=await Ke.get(`${A}${R}/payload-locked-documents?${vt}`),{docs:Ct}=await Et.json();if(Ct.length>0){let Qe=Ct[0].id;await Ke.delete(`${A}${R}/payload-locked-documents/${Qe}`,{headers:{"Content-Type":"application/json"}}),z(!1)}}catch(qe){console.error("Failed to unlock the document",qe)}},[A,R,i]),Ae=Yi(async(Ue,He,qe)=>{try{let Et=He===i?`where[globalSlug][equals]=${He}`:`where[document.value][equals]=${Ue}&where[document.relationTo][equals]=${He}`,Ct=await Ke.get(`${A}${R}/payload-locked-documents?${Et}`),{docs:Qe}=await Ct.json();if(Qe.length>0){let Pt=Qe[0].id,ge=typeof qe=="object"?{relationTo:qe.collection,value:qe.id}:{relationTo:"users",value:qe};await Ke.patch(`${A}${R}/payload-locked-documents/${Pt}`,{body:JSON.stringify({user:ge}),headers:{"Content-Type":"application/json"}})}}catch(vt){console.error("Failed to update the document editor",vt)}},[A,R,i]),We=Ux({id:o,api:R,collectionSlug:n,globalSlug:i,i18n:$,locale:Q,permissions:w,serverURL:A,setDocPermissions:v,setHasPublishPermission:S,setHasSavePermission:y}),Le=Yi(()=>be(ne),[be,ne]),Ve=Yi(async(Ue,He)=>{let qe=await Le();if(ne)try{await Xe(ne,{...qe,fields:{...qe?.fields||{},[Ue]:{...qe?.fields?.[Ue],...He}}})}catch(vt){console.error(vt)}},[Xe,ne,Le]),ht=Yi(()=>{let Ue=M+1;_&&_.versions?_.versions.maxPerDoc>0?O(Math.min(Ue,_.versions.maxPerDoc)):O(Ue):I&&I.versions&&(I.versions.max>0?O(Math.min(Ue,I.versions.max)):O(Ue))},[_,I,M]),Ye=Yx.useCallback(Ue=>{K(Ue)},[]);Zx(()=>{P(ur({collectionConfig:_,data:{...te,id:o},dateFormat:F,fallback:o?.toString(),globalConfig:I,i18n:$}))},[_,I,te,F,$,o]),Zx(()=>{let Ue=T.current;return()=>{if(Ue)try{Ue.abort()}catch{}}},[]);let ut=Yx.useMemo(()=>`${`${ae}${U==="globals"?"/globals":""}/${ie}${o?`/${o}`:""}`}${Jx.stringify({depth:0,"fallback-locale":"null",locale:Q,uploadEdits:j||void 0},{addQueryPrefix:!0})}`,[ae,Q,U,o,ie,j]),Mt={...e,action:ut,currentEditor:Y,docConfig:E,docPermissions:b,documentIsLocked:oe,getDocPermissions:We,getDocPreferences:Le,hasPublishedDoc:B,hasPublishPermission:C,hasSavePermission:x,incrementVersionCount:ht,initialData:u,initialState:d,isInitializing:Ce,lastUpdateTime:J,mostRecentVersionIsAutosaved:L,preferencesKey:ne,savedDocumentData:te,setCurrentEditor:le,setDocFieldPreferences:Ve,setDocumentIsLocked:z,setDocumentTitle:P,setHasPublishedDoc:G,setLastUpdateTime:ue,setMostRecentVersionIsAutosaved:V,setUnpublishedVersionCount:Z,setUploadStatus:Ne,title:N,unlockDocument:de,unpublishedVersionCount:X,updateDocumentEditor:Ae,updateSavedDocumentData:Ye,uploadStatus:he,versionCount:M};return rh(qx,{value:Mt,children:t})},Sl=t=>rh(th,{children:rh(jE,{...t})});import{jsx as OE}from"react/jsx-runtime";import{createContext as ME,use as BE}from"react";var vd=ME(""),Il=({children:t,operation:e})=>OE(vd,{value:e,children:t}),qo=()=>BE(vd);import Qx from"react";var nh=Qx.createContext(void 0),Kx=()=>{let t=Qx.useContext(nh);if(t)return t};var Fe=t=>{let e=VE(64),o;e[0]!==t?(o=t||{},e[0]=t,e[1]=o):o=e[1];let{disableFormData:n,hasRows:r,path:s,potentiallyStalePath:i,validate:l}=o,a=n===void 0?!1:n,c=Kx(),u=s||c||i,d=Yt(),f=ar(),m=Ts(),{user:h}=Re(),{id:p,collectionSlug:g}=Te(),b=qo(),v=Nt(GE),x;e[2]!==u?(x=he=>{let[fe]=he;return fe&&fe?.[u]||null},e[2]=u,e[3]=x):x=e[3];let y=Nt(x),{t:C}=k(),{config:S}=H(),{getData:w,getDataByPath:F,getSiblingData:R,setModified:A}=Oe(),D=$i(),_=Zt(),I=y?.filterOptions,T=y?.value,E=y?.initialValue,$=typeof y?.valid=="boolean"?y.valid:!0,j=$===!1&&d,N=ey($),P=ey(y?.errorMessage),L;e[4]!==u?(L=u?u.split("."):[],e[4]=u,e[5]=L):L=e[5];let V=L,M;e[6]!==a||e[7]!==v||e[8]!==r||e[9]!==_||e[10]!==u||e[11]!==A?(M=(he,fe)=>{let Ne=fe===void 0?!1:fe,be=he&&he.target?he.target.value:he;v({type:"UPDATE",disableFormData:a||r&&be>0,path:u,value:be}),Ne||typeof A=="function"&&_===!1&&setTimeout(()=>{A(!0)},10)},e[6]=a,e[7]=v,e[8]=r,e[9]=_,e[10]=u,e[11]=A,e[12]=M):M=e[12];let O=M,B,G=y?.customComponents,X=f||m,Z=y?.errorMessage,oe;e[13]!==y?.errorPaths?(oe=y?.errorPaths||[],e[13]=y?.errorPaths,e[14]=oe):oe=e[14];let z=y?.rows,Y=y?.valid,le;e[15]!==I||e[16]!==E||e[17]!==m||e[18]!==u||e[19]!==f||e[20]!==O||e[21]!==j||e[22]!==d||e[23]!==z||e[24]!==Y||e[25]!==G||e[26]!==X||e[27]!==Z||e[28]!==oe||e[29]!==T?(le={customComponents:G,disabled:X,errorMessage:Z,errorPaths:oe,filterOptions:I,formInitializing:m,formProcessing:f,formSubmitted:d,initialValue:E,path:u,rows:z,setValue:O,showError:j,valid:Y,value:T},e[15]=I,e[16]=E,e[17]=m,e[18]=u,e[19]=f,e[20]=O,e[21]=j,e[22]=d,e[23]=z,e[24]=Y,e[25]=G,e[26]=X,e[27]=Z,e[28]=oe,e[29]=T,e[30]=le):le=e[30],B=le;let J=B,ue;e[31]!==g||e[32]!==S||e[33]!==a||e[34]!==v||e[35]!==D||e[36]!==y||e[37]!==w||e[38]!==F||e[39]!==R||e[40]!==r||e[41]!==p||e[42]!==b||e[43]!==u||e[44]!==V||e[45]!==C||e[46]!==h||e[47]!==l||e[48]!==T?(ue=()=>{(async()=>{let fe=T;y?.rows&&Array.isArray(y.rows)&&(fe=F(u));let Ne=P.current,be=N.current,Xe=w(),Q=typeof l=="function"?await l(fe,{id:p,blockData:void 0,collectionSlug:g,data:D?.getData?D.getData():Xe,event:"onChange",operation:b,path:V,preferences:{},req:{payload:{config:S},t:C,user:h},siblingData:R(u)}):typeof P.current=="string"?P.current:N.current;if(typeof Q=="string"?(be=!1,Ne=Q):typeof Q=="boolean"&&(be=Q,Ne=void 0),be!==N.current||Ne!==P.current){N.current=be,P.current=Ne;let ke={type:"UPDATE",errorMessage:Ne,path:u,rows:y?.rows,valid:be,validate:l,value:T};(a||r&&typeof T=="number"&&T>0)&&(ke.disableFormData=!0),typeof v=="function"&&v(ke)}})()},e[31]=g,e[32]=S,e[33]=a,e[34]=v,e[35]=D,e[36]=y,e[37]=w,e[38]=F,e[39]=R,e[40]=r,e[41]=p,e[42]=b,e[43]=u,e[44]=V,e[45]=C,e[46]=h,e[47]=l,e[48]=T,e[49]=ue):ue=e[49];let te=y?.rows,K;return e[50]!==g||e[51]!==a||e[52]!==v||e[53]!==w||e[54]!==F||e[55]!==R||e[56]!==p||e[57]!==b||e[58]!==u||e[59]!==te||e[60]!==h||e[61]!==l||e[62]!==T?(K=[T,a,v,w,R,F,p,b,u,h,l,te,g],e[50]=g,e[51]=a,e[52]=v,e[53]=w,e[54]=F,e[55]=R,e[56]=p,e[57]=b,e[58]=u,e[59]=te,e[60]=h,e[61]=l,e[62]=T,e[63]=K):K=e[63],Bs(ue,150,K),J};function GE(t){let[,e]=t;return e}import{jsx as ty}from"react/jsx-runtime";import"react";import{c as WE}from"react/compiler-runtime";var sh=t=>{let e=WE(2),{children:o,path:n}=t,r;e[0]!==n?(r=l=>{let[a]=l;return a&&a?.[n]||null},e[0]=n,e[1]=r):r=e[1];let s=Nt(r),{passesCondition:i}=s||{};return i===!1?null:o};var $e=t=>o=>{let{path:n}=o;return ty(sh,{path:n,children:ty(t,{...o})})};var rt=t=>({...t?.admin?.style||{},...t?.admin?.width?{"--field-width":t.admin.width}:{flex:"1 1 auto"},...t?.admin?.style?.flex?{flex:t.admin.style.flex}:{}});var ye="field-type";function Zi({fieldLocalized:t,fieldRTL:e,locale:o,localizationConfig:n}){let r=o&&n&&n.locales&&n.locales.length>1,s=o?.code===n?.defaultLocale;return e!==!1&&o?.rtl===!0&&(t||!t&&!r||!t&&s)||e===!0}import{jsx as Rl,jsxs as lh}from"react/jsx-runtime";import"react";import{jsx as oy}from"react/jsx-runtime";import"react";var ih=()=>oy("svg",{className:"icon icon--check",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:oy("path",{className:"stroke",d:"M15.3333 6.00001L8.00001 13.3333L4.66667 10",strokeLinecap:"square"})});import{jsx as ry}from"react/jsx-runtime";import"react";var ah=()=>ry("svg",{className:"icon icon--line",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:ry("path",{className:"stroke",d:"M5.33333 10H14.6667",strokeLinecap:"square"})});var _l="checkbox-input",Hs=({id:t,name:e,AfterInput:o,BeforeInput:n,checked:r,className:s,inputRef:i,Label:l,label:a,localized:c,onToggle:u,partialChecked:d,readOnly:f,required:m})=>lh("div",{className:[s,_l,r&&`${_l}--checked`,f&&`${_l}--read-only`].filter(Boolean).join(" "),children:[lh("div",{className:`${_l}__input`,children:[n,Rl("input",{"aria-label":"",defaultChecked:!!r,disabled:f,id:t,name:e,onInput:u,ref:i,required:m,type:"checkbox"}),lh("span",{className:[`${_l}__icon`,!r&&d?"partial":"check"].filter(Boolean).join(" "),children:[r&&Rl(ih,{}),!r&&d&&Rl(ah,{})]}),o]}),Rl(re,{CustomComponent:l,Fallback:Rl(ve,{htmlFor:t,label:a,localized:c,required:m})})]});var ch="checkbox";var XE=t=>{let{id:e,checked:o,disableFormData:n,field:r,field:{admin:{className:s,description:i}={},label:l,required:a}={},onChange:c,partialChecked:u,path:d,readOnly:f,validate:m}=t,{uuid:h}=Oe(),p=lt(),g=ny((E,$)=>{if(typeof m=="function")return m(E,{...$,required:a})},[m,a]),{customComponents:{AfterInput:b,BeforeInput:v,Description:x,Error:y,Label:C}={},disabled:S,path:w,setValue:F,showError:R,value:A}=Fe({disableFormData:n,potentiallyStalePath:d,validate:g}),D=ny(()=>{f||(F(!A),typeof c=="function"&&c(!A))},[c,f,F,A]),_=o||!!A,I=e||dd(w,p,h),T=zE(()=>rt(r),[r]);return HE("div",{className:[ye,ch,R&&"error",s,A&&`${ch}--checked`,(f||S)&&`${ch}--read-only`].filter(Boolean).join(" "),style:T,children:[Dl(re,{CustomComponent:y,Fallback:Dl(Ge,{path:w,showError:R})}),Dl(Hs,{AfterInput:b,BeforeInput:v,checked:_,id:I,inputRef:null,Label:C,label:l,name:w,onToggle:D,partialChecked:u,readOnly:f||S,required:a}),Dl(re,{CustomComponent:x,Fallback:Dl(Be,{description:i,path:w})})]})},dr=$e(XE);var Fl=t=>{let e=UE(4),{fieldValue:o,localized:n,path:r}=t,{code:s}=Pe(),{config:i}=H(),{localization:l}=i,[a,c]=iy.useState(typeof o!="number"),{t:u}=k();if(!n||!l||l.defaultLocale===s||!l.fallback)return null;if(o){let f=!1;if(typeof o=="number"&&o>0&&(f=!0),Array.isArray(o)&&o.length>0&&(f=!0),f)return a&&c(!1),null}let d;return e[0]!==a||e[1]!==r||e[2]!==u?(d=sy(Sr,{children:sy(dr,{checked:a,field:{name:"",label:u("general:fallbackToDefaultLocale")},id:`field-${r.replace(/\./g,"__")}`,path:r,schemaPath:""})}),e[0]=a,e[1]=r,e[2]=u,e[3]=d):d=e[3],d};var Ji=t=>{let e=document.getElementById(t);if(e){let o=e.getBoundingClientRect();window.scrollBy({behavior:"smooth",top:o.top-100})}};import{c as rM}from"react/compiler-runtime";import{jsx as ys,jsxs as nM}from"react/jsx-runtime";import{getTranslation as sM}from"@payloadcms/translations";import"react";import{c as ZE}from"react/compiler-runtime";import{jsx as vn,jsxs as zs}from"react/jsx-runtime";import JE from"react";import{jsx as ay}from"react/jsx-runtime";import"react";var Al=()=>ay("svg",{className:"icon icon--copy",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:ay("path",{className:"stroke",d:"M4.66666 12.6667C3.93333 12.6667 3.33333 12.0667 3.33333 11.3333V4.66668C3.33333 3.93334 3.93333 3.33334 4.66666 3.33334H11.3333C12.0667 3.33334 12.6667 3.93334 12.6667 4.66668M8.66666 7.33334H15.3333C16.0697 7.33334 16.6667 7.9303 16.6667 8.66668V15.3333C16.6667 16.0697 16.0697 16.6667 15.3333 16.6667H8.66666C7.93028 16.6667 7.33333 16.0697 7.33333 15.3333V8.66668C7.33333 7.9303 7.93028 7.33334 8.66666 7.33334Z",strokeLinecap:"square"})});import{jsx as uh,jsxs as YE}from"react/jsx-runtime";import"react";var dh=({className:t})=>YE("svg",{className:["icon icon--more",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[uh("path",{className:"fill",d:"M10 10.6666C10.3682 10.6666 10.6667 10.3682 10.6667 9.99998C10.6667 9.63179 10.3682 9.33331 10 9.33331C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998C9.33334 10.3682 9.63182 10.6666 10 10.6666Z",strokeLinecap:"square"}),uh("path",{className:"fill",d:"M14.6667 10.6666C15.0349 10.6666 15.3333 10.3682 15.3333 9.99998C15.3333 9.63179 15.0349 9.33331 14.6667 9.33331C14.2985 9.33331 14 9.63179 14 9.99998C14 10.3682 14.2985 10.6666 14.6667 10.6666Z",strokeLinecap:"square"}),uh("path",{className:"fill",d:"M5.33334 10.6666C5.70153 10.6666 6.00001 10.3682 6.00001 9.99998C6.00001 9.63179 5.70153 9.33331 5.33334 9.33331C4.96515 9.33331 4.66667 9.63179 4.66667 9.99998C4.66667 10.3682 4.96515 10.6666 5.33334 10.6666Z",strokeLinecap:"square"})]});var Qo="array-actions",xd=t=>{let e=ZE(10),{addRow:o,duplicateRow:n,hasMaxRows:r,index:s,isSortable:i,moveRow:l,removeRow:a,rowCount:c}=t,{t:u}=k(),d;return e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s||e[4]!==i||e[5]!==l||e[6]!==a||e[7]!==c||e[8]!==u?(d=vn(po,{button:vn(dh,{}),buttonClassName:`${Qo}__button`,className:Qo,horizontalAlign:"center",render:f=>{let{close:m}=f;return zs(Me.ButtonGroup,{buttonSize:"small",children:[i&&s!==0&&zs(Me.Button,{className:`${Qo}__action ${Qo}__move-up`,onClick:()=>{l(s,s-1),m()},children:[vn("div",{className:`${Qo}__action-chevron`,children:vn(Je,{direction:"up"})}),u("general:moveUp")]}),i&&s<c-1&&zs(Me.Button,{className:`${Qo}__action`,onClick:()=>{l(s,s+1),m()},children:[vn("div",{className:`${Qo}__action-chevron`,children:vn(Je,{})}),u("general:moveDown")]}),!r&&zs(JE.Fragment,{children:[zs(Me.Button,{className:`${Qo}__action ${Qo}__add`,onClick:()=>{o(s+1),m()},children:[vn(ko,{}),u("general:addBelow")]}),zs(Me.Button,{className:`${Qo}__action ${Qo}__duplicate`,onClick:()=>{n(s),m()},children:[vn(Al,{}),u("general:duplicate")]})]}),zs(Me.Button,{className:`${Qo}__action ${Qo}__remove`,onClick:()=>{a(s),m()},children:[vn(ft,{}),u("general:remove")]})]})},size:"medium"}),e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=l,e[6]=a,e[7]=c,e[8]=u,e[9]=d):d=e[9],d};import{c as iP}from"react/compiler-runtime";import{jsx as Ar,jsxs as ph}from"react/jsx-runtime";import{useState as my}from"react";import{jsx as qi,jsxs as qE}from"react/jsx-runtime";import"react";var xn=({className:t})=>qE("svg",{className:["icon icon--drag-handle",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[qi("path",{className:"fill",d:"M7.99999 10.6667C8.36818 10.6667 8.66666 10.3682 8.66666 9.99999C8.66666 9.6318 8.36818 9.33332 7.99999 9.33332C7.63181 9.33332 7.33333 9.6318 7.33333 9.99999C7.33333 10.3682 7.63181 10.6667 7.99999 10.6667Z",strokeLinecap:"square"}),qi("path",{className:"fill",d:"M7.99999 5.99999C8.36818 5.99999 8.66666 5.70151 8.66666 5.33332C8.66666 4.96513 8.36818 4.66666 7.99999 4.66666C7.63181 4.66666 7.33333 4.96513 7.33333 5.33332C7.33333 5.70151 7.63181 5.99999 7.99999 5.99999Z",strokeLinecap:"square"}),qi("path",{className:"fill",d:"M7.99999 15.3333C8.36818 15.3333 8.66666 15.0348 8.66666 14.6667C8.66666 14.2985 8.36818 14 7.99999 14C7.63181 14 7.33333 14.2985 7.33333 14.6667C7.33333 15.0348 7.63181 15.3333 7.99999 15.3333Z",strokeLinecap:"square"}),qi("path",{className:"fill",d:"M12 10.6667C12.3682 10.6667 12.6667 10.3682 12.6667 9.99999C12.6667 9.6318 12.3682 9.33332 12 9.33332C11.6318 9.33332 11.3333 9.6318 11.3333 9.99999C11.3333 10.3682 11.6318 10.6667 12 10.6667Z",strokeLinecap:"square"}),qi("path",{className:"fill",d:"M12 5.99999C12.3682 5.99999 12.6667 5.70151 12.6667 5.33332C12.6667 4.96513 12.3682 4.66666 12 4.66666C11.6318 4.66666 11.3333 4.96513 11.3333 5.33332C11.3333 5.70151 11.6318 5.99999 12 5.99999Z",strokeLinecap:"square"}),qi("path",{className:"fill",d:"M12 15.3333C12.3682 15.3333 12.6667 15.0348 12.6667 14.6667C12.6667 14.2985 12.3682 14 12 14C11.6318 14 11.3333 14.2985 11.3333 14.6667C11.3333 15.0348 11.6318 15.3333 12 15.3333Z",strokeLinecap:"square"})]});import{jsx as cy}from"react/jsx-runtime";import yd,{useEffect as tP,useRef as fh}from"react";import{useEffect as QE,useMemo as KE,useRef as mh,useState as eP}from"react";var ly=({containerRef:t,contentRef:e,duration:o,open:n})=>{let r=KE(()=>typeof CSS<"u"&&CSS&&CSS.supports?CSS.supports("interpolate-size","allow-keywords"):!1,[]),s=mh(!1),i=mh(n),[l,a]=eP(!1),c=mh(null);return QE(()=>{let u=t.current,d=e.current;if(!u||!d||r)return;let f=p=>{u.style.height=p},m=()=>{u&&(u.style.transition="",u.style.height=n?"auto":"0px",a(!1))};return(()=>{if(!s.current&&n){f("auto"),a(!1);return}s.current=!0,i.current!==n&&f(n?"0px":`${d.scrollHeight}px`),u.offsetHeight,a(!0),u.style.transition=`height ${o}ms ease`,f(n?`${d.scrollHeight}px`:"0px");let p=()=>{m(),u.removeEventListener("transitionend",p)};u.addEventListener("transitionend",p)})(),i.current=n,c.current=new ResizeObserver(()=>{l&&(u.style.height=n?`${d.scrollHeight}px`:"0px")}),c.current.observe(d),()=>{u&&(u.style.transition="",u.style.height=""),c.current?.disconnect()}},[n,o,t,e,r]),{browserSupportsKeywordAnimation:r}};var Fr=({id:t,children:e,className:o,duration:n=300,height:r})=>{let[s,i]=yd.useState(()=>!!r),l=fh(s),[a,c]=yd.useState(()=>s?"":"none"),[u,d]=yd.useState(()=>s?"":"hidden"),[f,m]=yd.useState(!1),h=fh(null),p=fh(null);return tP(()=>{let g,b,v=!!r,x=l.current!==v;return l.current=v,x&&(m(!0),d("hidden"),v?c(""):g=window.setTimeout(()=>{c("none")},n),i(v),b=window.setTimeout(()=>{d(""),m(!1)},n)),()=>{g&&clearTimeout(g),b&&clearTimeout(b)}},[r,n]),ly({containerRef:h,contentRef:p,duration:n,open:s}),cy("div",{"aria-hidden":!s,className:[o,"rah-static",s&&r==="auto"&&"rah-static--height-auto",f&&`rah-animating--${s?"down":"up"}`,f&&r==="auto"&&"rah-animating--to-height-auto"].filter(Boolean).join(" "),id:t,ref:h,style:{overflow:u,transition:`height ${n}ms ease`},children:cy("div",{ref:p,...a?{style:{display:a}}:{},children:e})})};import{jsx as oP}from"react/jsx-runtime";import rP,{createContext as nP,use as sP}from"react";var uy=nP({isCollapsed:void 0,isVisible:void 0,isWithinCollapsible:void 0,toggle:()=>{}}),dy=({children:t,isCollapsed:e,isWithinCollapsible:o=!0,toggle:n})=>{let{isCollapsed:r,isVisible:s}=qn(),i=rP.useMemo(()=>({isCollapsed:e,isVisible:s&&!r,isWithinCollapsible:o,toggle:n}),[e,o,n,r,s]);return oP(uy,{value:i,children:t})},qn=()=>sP(uy);var wo="collapsible";var Xs=t=>{let e=iP(26),{actions:o,children:n,className:r,collapsibleStyle:s,dragHandleProps:i,header:l,initCollapsed:a,isCollapsed:c,onToggle:u}=t,d=s===void 0?"default":s,[f,m]=my(!!a),[h,p]=my(!1),{isWithinCollapsible:g}=qn(),{t:b}=k(),v=typeof c=="boolean"?c:f,x;e[0]!==v||e[1]!==u?(x=()=>{typeof u=="function"&&u(!v),m(!v)},e[0]=v,e[1]=u,e[2]=x):x=e[2];let y=x,C=i&&`${wo}--has-drag-handle`,S=v&&`${wo}--collapsed`,w=g&&`${wo}--nested`,F=h&&`${wo}--hovered`,R=`${wo}--style-${d}`,A;e[3]!==r||e[4]!==C||e[5]!==S||e[6]!==w||e[7]!==F||e[8]!==R?(A=[wo,r,C,S,w,F,R].filter(Boolean),e[3]=r,e[4]=C,e[5]=S,e[6]=w,e[7]=F,e[8]=R,e[9]=A):A=e[9];let D=A.join(" "),_,I;e[10]===Symbol.for("react.memo_cache_sentinel")?(_=()=>p(!0),I=()=>p(!1),e[10]=_,e[11]=I):(_=e[10],I=e[11]);let T=`${wo}__toggle--${v?"collapsed":"open"}`,E;e[12]!==T?(E=[`${wo}__toggle`,T].filter(Boolean),e[12]=T,e[13]=E):E=e[13];let $=E.join(" "),j;if(e[14]!==o||e[15]!==n||e[16]!==i||e[17]!==l||e[18]!==v||e[19]!==b||e[20]!==$||e[21]!==D||e[22]!==y){let N;e[24]!==i?(N=i&&Ar("div",{className:`${wo}__drag`,...i.attributes,...i.listeners,children:Ar(xn,{})}),e[24]=i,e[25]=N):N=e[25],j=Ar("div",{className:D,children:ph(dy,{isCollapsed:v,toggle:y,children:[ph("div",{className:`${wo}__toggle-wrap`,onMouseEnter:_,onMouseLeave:I,children:[Ar("button",{className:$,onClick:y,type:"button",children:Ar("span",{children:b("fields:toggleBlock")})}),N,l?Ar("div",{className:[`${wo}__header-wrap`,i&&`${wo}__header-wrap--has-drag-handle`].filter(Boolean).join(" "),children:l}):null,ph("div",{className:`${wo}__actions-wrap`,children:[o?Ar("div",{className:`${wo}__actions`,children:o}):null,Ar("div",{className:`${wo}__indicator`,children:Ar(Je,{direction:v?void 0:"up"})})]})]}),Ar(Fr,{height:v?0:"auto",children:Ar("div",{className:`${wo}__content`,children:n})})]})}),e[14]=o,e[15]=n,e[16]=i,e[17]=l,e[18]=v,e[19]=b,e[20]=$,e[21]=D,e[22]=y,e[23]=j}else j=e[23];return j};import{c as KO}from"react/compiler-runtime";import{jsx as _b}from"react/jsx-runtime";import{fieldIsHiddenOrDisabled as eM,getFieldPaths as tM,getFieldPermissions as oM}from"payload/shared";import"react";import{c as aP}from"react/compiler-runtime";import{jsx as lP}from"react/jsx-runtime";import fy from"react";var py=t=>{let e=aP(9),{children:o,className:n,forceRender:r}=t,[s,i]=fy.useState(!!r),l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={rootMargin:"1000px"},e[0]=l):l=e[0];let[a,c]=un(l,!!r),u=!!c?.isIntersecting,d=c?.boundingClientRect?.top<0,f=r||u||d,m,h;e[1]!==s||e[2]!==f?(m=()=>{f&&!s&&i(!0)},h=[f,s],e[1]=s,e[2]=f,e[3]=m,e[4]=h):(m=e[3],h=e[4]),fy.useEffect(m,h);let p=s?o:null,g;return e[5]!==n||e[6]!==a||e[7]!==p?(g=lP("div",{className:n,ref:a,children:p}),e[5]=n,e[6]=a,e[7]=p,e[8]=g):g=e[8],g};import{c as QO}from"react/compiler-runtime";import{jsx as At}from"react/jsx-runtime";import"react";import{c as TP}from"react/compiler-runtime";import{jsx as Jt,jsxs as es}from"react/jsx-runtime";import{getTranslation as xh}from"@payloadcms/translations";import EP,{Fragment as PP}from"react";import{c as DP}from"react/compiler-runtime";import{jsx as Tr,jsxs as Py,Fragment as FP}from"react/jsx-runtime";import{getTranslation as AP}from"@payloadcms/translations";import"react";import{c as cP}from"react/compiler-runtime";import{jsx as Tl,jsxs as uP}from"react/jsx-runtime";import"react";var mr="pill",dP=t=>{let e=cP(12),{id:o,className:n}=t,r;e[0]!==o?(r={id:o},e[0]=o,e[1]=r):r=e[1];let{attributes:s,isDragging:i,listeners:l,setNodeRef:a,transform:c}=Oi(r),u=i&&`${mr}--is-dragging`,d;e[2]!==n||e[3]!==u?(d=[u,n].filter(Boolean),e[2]=n,e[3]=u,e[4]=d):d=e[4];let f=d.join(" "),m;return e[5]!==s||e[6]!==l||e[7]!==t||e[8]!==a||e[9]!==f||e[10]!==c?(m=Tl(hy,{...t,className:f,elementProps:{...l,...s,ref:a,style:{transform:c}}}),e[5]=s,e[6]=l,e[7]=t,e[8]=a,e[9]=f,e[10]=c,e[11]=m):m=e[11],m},hy=t=>{let{id:e,alignIcon:o="right","aria-checked":n,"aria-controls":r,"aria-expanded":s,"aria-label":i,children:l,className:a,draggable:c,elementProps:u,icon:d,onClick:f,pillStyle:m="light",rounded:h,size:p="medium",to:g}=t,b=[mr,`${mr}--style-${m}`,`${mr}--size-${p}`,a&&a,g&&`${mr}--has-link`,(g||f)&&`${mr}--has-action`,d&&`${mr}--has-icon`,d&&`${mr}--align-icon-${o}`,c&&`${mr}--draggable`,h&&`${mr}--rounded`].filter(Boolean).join(" "),v="div";return f&&!g&&(v="button"),g&&(v=ro),uP(v,{...u,"aria-checked":n,"aria-controls":r,"aria-expanded":s,"aria-label":i,className:b,href:g||null,id:e,onClick:f,type:v==="button"?"button":void 0,children:[Tl("span",{className:`${mr}__label`,children:l}),!!d&&Tl("span",{className:`${mr}__icon`,children:d})]})},bt=t=>{let{draggable:e}=t;return e?Tl(dP,{...t}):Tl(hy,{...t})};import{useEffect as mP,useState as fP}from"react";function Cd(t,e){let[o,n]=fP(t);return mP(()=>{let r=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(r)}},[t,e]),o}import{c as IP}from"react/compiler-runtime";import{jsx as Dy,jsxs as RP}from"react/jsx-runtime";import Fy from"react";import{jsx as Jr,jsxs as Iy}from"react/jsx-runtime";import{getTranslation as Id}from"@payloadcms/translations";import{useEffect as Ry,useMemo as wP,useState as _y}from"react";import{c as pP}from"react/compiler-runtime";import{jsx as gy,jsxs as hP}from"react/jsx-runtime";import"react";var El="thumbnail-card",by=t=>{let e=pP(15),{alignLabel:o,className:n,collection:r,doc:s,label:i,onClick:l,thumbnail:a}=t,{config:c}=H(),{i18n:u}=k(),d=typeof l=="function"&&`${El}--has-on-click`,f=o&&`${El}--align-label-${o}`,m;e[0]!==n||e[1]!==d||e[2]!==f?(m=[El,n,d,f].filter(Boolean),e[0]=n,e[1]=d,e[2]=f,e[3]=m):m=e[3];let h=m.join(" "),p=i;if(!p){let b=s?.filename,v;e[4]!==r||e[5]!==c.admin.dateFormat||e[6]!==s||e[7]!==u||e[8]!==b?(v=ur({collectionConfig:r,data:s,dateFormat:c.admin.dateFormat,fallback:b,i18n:u}),e[4]=r,e[5]=c.admin.dateFormat,e[6]=s,e[7]=u,e[8]=b,e[9]=v):v=e[9],p=v}let g;return e[10]!==h||e[11]!==l||e[12]!==a||e[13]!==p?(g=hP("button",{className:h,onClick:l,title:p,type:"button",children:[gy("div",{className:`${El}__thumbnail`,children:a}),gy("div",{className:`${El}__label`,children:p})]}),e[10]=h,e[11]=l,e[12]=a,e[13]=p,e[14]=g):g=e[14],g};import{jsx as Cn,jsxs as xy}from"react/jsx-runtime";import{useState as xP}from"react";var go=[];for(wd=0;wd<256;++wd)go.push((wd+256).toString(16).slice(1));var wd;function vy(t,e=0){return(go[t[e+0]]+go[t[e+1]]+go[t[e+2]]+go[t[e+3]]+"-"+go[t[e+4]]+go[t[e+5]]+"-"+go[t[e+6]]+go[t[e+7]]+"-"+go[t[e+8]]+go[t[e+9]]+"-"+go[t[e+10]]+go[t[e+11]]+go[t[e+12]]+go[t[e+13]]+go[t[e+14]]+go[t[e+15]]).toLowerCase()}var Sd,gP=new Uint8Array(16);function hh(){if(!Sd&&(Sd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Sd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sd(gP)}var bP=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),gh={randomUUID:bP};function vP(t,e,o){if(gh.randomUUID&&!e&&!t)return gh.randomUUID();t=t||{};var n=t.random||(t.rng||hh)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){o=o||0;for(var r=0;r<16;++r)e[o+r]=n[r];return e}return vy(n)}var yn=vP;var bh=()=>{let[t]=xP(()=>`pattern${yn()}`);return xy("svg",{fill:"none",height:"151",preserveAspectRatio:"xMidYMid slice",viewBox:"0 0 231 151",width:"231",xmlns:"http://www.w3.org/2000/svg",children:[xy("g",{clipPath:`url(#${t})`,children:[Cn("rect",{fill:"#D9D9D9",height:"100%",rx:"2",width:"100%"}),Cn("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 33.7051 79.3051)",width:"85.8593",x:"33.7051",y:"79.3051"}),Cn("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 86.1219 92.6272)",width:"85.8593",x:"86.1219",y:"92.6272"}),Cn("circle",{cx:"189",cy:"45",fill:"#BCBCBC",r:"19"}),Cn("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"98",x:"66",y:"70"}),Cn("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"76",x:"77",y:"82"})]}),Cn("defs",{children:Cn("clipPath",{id:`${t}`,children:Cn("rect",{fill:"white",height:"151",width:"231"})})})]})};import{c as yP}from"react/compiler-runtime";import{jsx as Cy,jsxs as CP}from"react/jsx-runtime";import"react";import{jsx as yy}from"react/jsx-runtime";import"react";var Pl=()=>yy("svg",{className:"icon icon--search",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:yy("path",{className:"stroke",d:"M16 16L13.1333 13.1333M14.6667 9.33333C14.6667 12.2789 12.2789 14.6667 9.33333 14.6667C6.38781 14.6667 4 12.2789 4 9.33333C4 6.38781 6.38781 4 9.33333 4C12.2789 4 14.6667 6.38781 14.6667 9.33333Z",strokeLinecap:"square"})});var wy="block-search",Sy=t=>{let e=yP(5),{setSearchTerm:o}=t,{t:n}=k(),r;e[0]!==o?(r=l=>{o(l.target.value)},e[0]=o,e[1]=r):r=e[1];let s=r,i;return e[2]!==s||e[3]!==n?(i=CP("div",{className:wy,children:[Cy("input",{className:`${wy}__input`,onChange:s,placeholder:n("fields:searchForBlock")}),Cy(Pl,{})]}),e[2]=s,e[3]=n,e[4]=i):i=e[4],i};var Qn="blocks-drawer",SP=(t,e)=>typeof t.labels.singular=="string"?t.labels.singular.toLowerCase():typeof t.labels.singular=="object"?Id(t.labels.singular,e).toLowerCase():"",Nl=t=>{let{addRow:e,addRowIndex:o,blocks:n,drawerSlug:r,labels:s}=t,[i,l]=_y(""),[a,c]=_y(n),{closeModal:u,isModalOpen:d}=ce(),{i18n:f,t:m}=k(),{config:h}=H(),p=wP(()=>{let g={_none:[]};return a.forEach(b=>{if(typeof b=="object"&&b.admin?.group){let v=b.admin.group,x=typeof v=="string"?v:Id(v,f);Object.hasOwn(g,x)?g[x].push(b):g[x]=[b]}else g._none.push(b)}),g},[a,f]);return Ry(()=>{d(r)||l("")},[d,r]),Ry(()=>{let g=i.toLowerCase(),b=n?.reduce((v,x)=>{let y=typeof x=="string"?h.blocksMap[x]:x;return SP(y,f).includes(g)&&v.push(y),v},[]);c(b)},[i,n,f,h.blocksMap]),Iy(Lt,{slug:r,title:m("fields:addLabel",{label:Id(s.singular,f)}),children:[Jr(Sy,{setSearchTerm:l}),Jr("div",{className:`${Qn}__blocks-wrapper`,children:Jr("ul",{className:`${Qn}__block-groups`,children:Object.entries(p).map(([g,b])=>b.length?Iy("li",{className:[`${Qn}__block-group`,g==="_none"&&`${Qn}__block-group-none`].filter(Boolean).join(" "),children:[g!=="_none"&&Jr("h3",{className:`${Qn}__block-group-label`,children:g}),Jr("ul",{className:`${Qn}__blocks`,children:b.map((v,x)=>{let y=typeof v=="string"?h.blocksMap[v]:v,{slug:C,imageAltText:S,imageURL:w,labels:F}=y;return Jr("li",{className:`${Qn}__block`,children:Jr(by,{alignLabel:"center",label:Id(F?.singular,f),onClick:()=>{e(o,C),u(r)},thumbnail:Jr("div",{className:`${Qn}__default-image`,children:w?Jr("img",{alt:S,src:w}):Jr(bh,{})})})},x)})})]},g):null)})})]})};var Ay=t=>{let e=IP(26),{addRow:o,blocks:n,blockType:r,duplicateRow:s,hasMaxRows:i,isSortable:l,labels:a,moveRow:c,removeRow:u,rowCount:d,rowIndex:f}=t,{closeModal:m,openModal:h}=ce(),p=bl("blocks-drawer"),[g,b]=Fy.useState(null),v;e[0]!==o||e[1]!==m||e[2]!==p||e[3]!==g?(v=(y,C)=>{typeof o=="function"&&o(g,C),m(p)},e[0]=o,e[1]=m,e[2]=p,e[3]=g,e[4]=v):v=e[4];let x;if(e[5]!==r||e[6]!==n||e[7]!==p||e[8]!==s||e[9]!==i||e[10]!==l||e[11]!==a||e[12]!==c||e[13]!==h||e[14]!==u||e[15]!==d||e[16]!==f||e[17]!==v){let y;e[19]!==p||e[20]!==h?(y=S=>{b(S),h(p)},e[19]=p,e[20]=h,e[21]=y):y=e[21];let C;e[22]!==r||e[23]!==s||e[24]!==f?(C=()=>s(f,r),e[22]=r,e[23]=s,e[24]=f,e[25]=C):C=e[25],x=RP(Fy.Fragment,{children:[Dy(Nl,{addRow:v,addRowIndex:f,blocks:n,drawerSlug:p,labels:a}),Dy(xd,{addRow:y,duplicateRow:C,hasMaxRows:i,index:f,isSortable:l,moveRow:c,removeRow:u,rowCount:d})]}),e[5]=r,e[6]=n,e[7]=p,e[8]=s,e[9]=i,e[10]=l,e[11]=a,e[12]=c,e[13]=h,e[14]=u,e[15]=d,e[16]=f,e[17]=v,e[18]=x}else x=e[18];return x};import{c as _P}from"react/compiler-runtime";import{jsx as Ty}from"react/jsx-runtime";import"react";var Ey="section-title",vh=t=>{let e=_P(14),{customOnChange:o,customValue:n,path:r,readOnly:s}=t,i;e[0]!==r?(i={path:r},e[0]=r,e[1]=i):i=e[1];let{setValue:l,value:a}=Fe(i),{t:c}=k(),u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=[Ey].filter(Boolean),e[2]=u):u=e[2];let d=u.join(" "),f;e[3]!==o||e[4]!==l?(f=o||(g=>{g.stopPropagation(),g.preventDefault(),l(g.target.value)}),e[3]=o,e[4]=l,e[5]=f):f=e[5];let m=f,h=n||a,p;return e[6]!==n||e[7]!==m||e[8]!==r||e[9]!==s||e[10]!==c||e[11]!==h||e[12]!==a?(p=Ty("div",{className:d,"data-value":h,children:Ty("input",{className:`${Ey}__input`,id:r,name:r,onChange:m,placeholder:c("general:untitled"),readOnly:s,type:"text",value:n||a||""})}),e[6]=n,e[7]=m,e[8]=r,e[9]=s,e[10]=c,e[11]=h,e[12]=a,e[13]=p):p=e[13],p};var Kn="blocks-field",Ny=t=>{let e=DP(40),{addRow:o,attributes:n,block:r,blocks:s,duplicateRow:i,errorCount:l,fields:a,hasMaxRows:c,isLoading:u,isSortable:d,Label:f,labels:m,listeners:h,moveRow:p,parentPath:g,path:b,permissions:v,readOnly:x,removeRow:y,row:C,rowCount:S,rowIndex:w,schemaPath:F,setCollapse:R,setNodeRef:A,transform:D}=t,_=Cd(u,500),{i18n:I}=k(),E=Yt()&&l>0,$=!r.admin?.disableBlockName,j=E?`${Kn}__row--has-errors`:`${Kn}__row--no-errors`,N;e[0]!==j?(N=[`${Kn}__row`,j].filter(Boolean),e[0]=j,e[1]=N):N=e[1];let P=N.join(" "),L;if(v===!0)L=!0;else{let O=v?.blocks?.[r.slug];O===!0?L=!0:L=O?.fields}let V=`${g?.split(".").join("-")}-row-${w}`,M;if(e[2]!==f||e[3]!==o||e[4]!==n||e[5]!==r.fields||e[6]!==r.labels||e[7]!==L||e[8]!==s||e[9]!==P||e[10]!==i||e[11]!==l||e[12]!==E||e[13]!==a||e[14]!==c||e[15]!==I||e[16]!==_||e[17]!==d||e[18]!==m||e[19]!==h||e[20]!==p||e[21]!==g||e[22]!==b||e[23]!==x||e[24]!==y||e[25]!==C.blockType||e[26]!==C.collapsed||e[27]!==C.id||e[28]!==S||e[29]!==w||e[30]!==F||e[31]!==R||e[32]!==A||e[33]!==$||e[34]!==V||e[35]!==D){let O;e[37]!==C.id||e[38]!==R?(O=B=>R(C.id,B),e[37]=C.id,e[38]=R,e[39]=O):O=e[39],M=Tr("div",{id:V,ref:A,style:{transform:D},children:Tr(Xs,{actions:x?void 0:Tr(Ay,{addRow:o,blocks:s,blockType:C.blockType,duplicateRow:i,fields:r.fields,hasMaxRows:c,isSortable:d,labels:m,moveRow:p,removeRow:y,rowCount:S,rowIndex:w}),className:P,collapsibleStyle:E?"error":"default",dragHandleProps:d?{id:C.id,attributes:n,listeners:h}:void 0,header:_?Tr(St,{height:"1rem",width:"8rem"}):Py("div",{className:`${Kn}__block-header`,children:[Tr(cn,{CustomComponent:f,label:Py(FP,{children:[Tr("span",{className:`${Kn}__block-number`,children:String(w+1).padStart(2,"0")}),Tr(bt,{className:`${Kn}__block-pill ${Kn}__block-pill-${C.blockType}`,pillStyle:"white",children:AP(r.labels.singular,I)}),$&&Tr(vh,{path:`${b}.blockName`,readOnly:x})]}),path:b,rowNumber:w}),E&&Tr(so,{count:l,i18n:I,withMessage:!0})]}),isCollapsed:C.collapsed,onToggle:O,children:_?Tr(St,{}):Tr(So,{className:`${Kn}__fields`,fields:a,margins:"small",parentIndexPath:"",parentPath:b,parentSchemaPath:F,permissions:L,readOnly:x})},C.id)},`${g}-row-${w}`),e[2]=f,e[3]=o,e[4]=n,e[5]=r.fields,e[6]=r.labels,e[7]=L,e[8]=s,e[9]=P,e[10]=i,e[11]=l,e[12]=E,e[13]=a,e[14]=c,e[15]=I,e[16]=_,e[17]=d,e[18]=m,e[19]=h,e[20]=p,e[21]=g,e[22]=b,e[23]=x,e[24]=y,e[25]=C.blockType,e[26]=C.collapsed,e[27]=C.id,e[28]=S,e[29]=w,e[30]=F,e[31]=R,e[32]=A,e[33]=$,e[34]=V,e[35]=D,e[36]=M}else M=e[36];return M};var Er="blocks-field",NP=t=>{let e=TP(50),{i18n:o,t:n}=k(),{field:r,path:s,permissions:i,readOnly:l,schemaPath:a,validate:c}=t,{name:u,admin:d,blockReferences:f,blocks:m,label:h,labels:p,localized:g,maxRows:b,minRows:v,required:x}=r,y;e[0]!==d?(y=d===void 0?{}:d,e[0]=d,e[1]=y):y=e[1];let{className:C,description:S,isSortable:w}=y,F=w===void 0?!0:w,R=a??u,A=v??x?1:0,{setDocFieldPreferences:D}=Te(),{addFieldRow:_,dispatchFields:I,moveFieldRow:T,removeFieldRow:E,setModified:$}=Oe(),{code:j}=Pe(),{config:N,config:P}=H(),{localization:L}=N,V=bl("blocks-drawer"),M=Yt(),O={plural:n("fields:blocks"),singular:n("fields:block"),...p},B;e:{if(L&&L.fallback){let q=L.defaultLocale;B=j===q;break e}B=!0}let G=B,X;e[2]!==G||e[3]!==b||e[4]!==A||e[5]!==x||e[6]!==c?(X=(q,W)=>{if(!G&&q===null)return!0;if(typeof c=="function")return c(q,{...W,maxRows:b,minRows:A,required:x})},e[2]=G,e[3]=b,e[4]=A,e[5]=x,e[6]=c,e[7]=X):X=e[7];let Z=X,oe;e[8]!==Z||e[9]!==s?(oe={hasRows:!0,potentiallyStalePath:s,validate:Z},e[8]=Z,e[9]=s,e[10]=oe):oe=e[10];let{customComponents:z,disabled:Y,errorPaths:le,path:J,rows:ue,showError:te,valid:K,value:he}=Fe(oe),fe;e[11]!==z?(fe=z===void 0?{}:z,e[11]=z,e[12]=fe):fe=e[12];let{AfterInput:Ne,BeforeInput:be,Description:Xe,Error:Q,Label:ke}=fe,Ce;e[13]!==ue?(Ce=ue===void 0?[]:ue,e[13]=ue,e[14]=Ce):Ce=e[14];let ae=Ce,ie;e[15]!==_||e[16]!==J||e[17]!==R?(ie=(q,W)=>{_({blockType:W,path:J,rowIndex:q,schemaPath:R}),setTimeout(()=>{Ji(`${J}-row-${q+1}`)},0)},e[15]=_,e[16]=J,e[17]=R,e[18]=ie):ie=e[18];let U=ie,ne;e[19]!==I||e[20]!==J||e[21]!==$?(ne=q=>{I({type:"DUPLICATE_ROW",path:J,rowIndex:q}),$(!0),setTimeout(()=>{Ji(`${J}-row-${q+1}`)},0)},e[19]=I,e[20]=J,e[21]=$,e[22]=ne):ne=e[22];let de=ne,Ae;e[23]!==J||e[24]!==E?(Ae=q=>{E({path:J,rowIndex:q})},e[23]=J,e[24]=E,e[25]=Ae):Ae=e[25];let We=Ae,Le;e[26]!==T||e[27]!==J?(Le=(q,W)=>{T({moveFromIndex:q,moveToIndex:W,path:J})},e[26]=T,e[27]=J,e[28]=Le):Le=e[28];let Ve=Le,ht;e[29]!==I||e[30]!==J||e[31]!==ae||e[32]!==D?(ht=q=>{let{collapsedIDs:W,updatedRows:ee}=fd({collapsed:q,rows:ae});I({type:"SET_ALL_ROWS_COLLAPSED",path:J,updatedRows:ee}),D(J,{collapsed:W})},e[29]=I,e[30]=J,e[31]=ae,e[32]=D,e[33]=ht):ht=e[33];let Ye=ht,ut;e[34]!==I||e[35]!==J||e[36]!==ae||e[37]!==D?(ut=(q,W)=>{let{collapsedIDs:ee,updatedRows:pe}=md({collapsed:W,rowID:q,rows:ae});I({type:"SET_ROW_COLLAPSED",path:J,updatedRows:pe}),D(J,{collapsed:ee})},e[34]=I,e[35]=J,e[36]=ae,e[37]=D,e[38]=ut):ut=e[38];let Mt=ut,Ue=b&&ae.length>=b,He=le.length,qe=M&&He+(K?0:1)>0,vt=ae.length<A||x&&ae.length===0,Et=l&&ae.length===0,Ct=qe?`${Er}--has-error`:`${Er}--has-no-error`,Qe;e[39]!==C||e[40]!==Ct?(Qe=[ye,Er,C,Ct].filter(Boolean),e[39]=C,e[40]=Ct,e[41]=Qe):Qe=e[41];let Pt;e[42]!==Q||e[43]!==J||e[44]!==te?(Pt=te&&Jt(re,{CustomComponent:Q,Fallback:Jt(Ge,{path:J,showError:te})}),e[42]=Q,e[43]=J,e[44]=te,e[45]=Pt):Pt=e[45];let ge;return e[46]!==He||e[47]!==qe||e[48]!==o?(ge=qe&&He>0&&Jt(so,{count:He,i18n:o,withMessage:!0}),e[46]=He,e[47]=qe,e[48]=o,e[49]=ge):ge=e[49],es("div",{className:Qe.join(" "),id:`field-${J?.replace(/\./g,"__")}`,children:[Pt,es("header",{className:`${Er}__header`,children:[es("div",{className:`${Er}__header-wrap`,children:[es("div",{className:`${Er}__heading-with-error`,children:[Jt("h3",{children:Jt(re,{CustomComponent:ke,Fallback:Jt(ve,{label:h,localized:g,path:J,required:x})})}),ge]}),ae.length>0&&es("ul",{className:`${Er}__header-actions`,children:[Jt("li",{children:Jt("button",{className:`${Er}__header-action`,onClick:()=>Ye(!0),type:"button",children:n("fields:collapseAll")})}),Jt("li",{children:Jt("button",{className:`${Er}__header-action`,onClick:()=>Ye(!1),type:"button",children:n("fields:showAll")})})]})]}),Jt(re,{CustomComponent:Xe,Fallback:Jt(Be,{description:S,path:J})})]}),be,Jt(Fl,{fieldValue:he,localized:g,path:J}),(ae.length>0||!K&&(Et||vt))&&es(lr,{className:`${Er}__rows`,ids:ae.map(LP),onDragEnd:q=>{let{moveFromIndex:W,moveToIndex:ee}=q;return Ve(W,ee)},children:[ae.map((q,W)=>{let{blockType:ee,isLoading:pe}=q,De=P.blocksMap[ee]??(f??m).find(Ee=>typeof Ee!="string"&&Ee.slug===ee);if(De){let Ee=`${J}.${W}`,we=le.filter(ze=>ze.startsWith(Ee+".")).length;return Jt(Yr,{disabled:l||Y||!F,id:q.id,children:ze=>Jt(Ny,{...ze,addRow:U,block:De,blocks:f??m,duplicateRow:de,errorCount:we,fields:De.fields,hasMaxRows:Ue,isLoading:pe,isSortable:F,Label:ae?.[W]?.customComponents?.RowLabel,labels:O,moveRow:Ve,parentPath:J,path:Ee,permissions:i,readOnly:l||Y,removeRow:We,row:q,rowCount:ae.length,rowIndex:W,schemaPath:R+De.slug,setCollapse:Mt})},q.id)}return null}),!G&&es(EP.Fragment,{children:[vt&&Jt(Sr,{type:"error",children:n("validation:requiresAtLeast",{count:A,label:xh(A>1?O.plural:O.singular,o)||n(A>1?"general:row":"general:rows")})}),Et&&Jt(Sr,{children:n("validation:fieldHasNo",{label:xh(O.plural,o)})})]})]}),!Ue&&es(PP,{children:[Jt(cr,{className:`${Er}__drawer-toggler`,disabled:l||Y,slug:V,children:Jt(se,{buttonStyle:"icon-label",disabled:l||Y,el:"span",icon:"plus",iconPosition:"left",iconStyle:"with-border",children:n("fields:addLabel",{label:xh(O.singular,o)})})}),Jt(Nl,{addRow:U,addRowIndex:ae?.length||0,blocks:f??m,drawerSlug:V,labels:O})]}),Ne]})},Ll=$e(NP);function LP(t){return t.id}import{jsx as Us,jsxs as Ly}from"react/jsx-runtime";import{useCallback as OP,useMemo as MP}from"react";import{jsx as yh}from"react/jsx-runtime";import{lazy as $P,Suspense as kP}from"react";var jP=$P(()=>import("./CodeEditor-7N7BMHRP.js")),$l=t=>yh(kP,{fallback:yh(St,{}),children:yh(jP,{...t})});var BP={js:"javascript",ts:"typescript"},VP="code-field",GP=t=>{let{field:e,field:{admin:{className:o,description:n,editorOptions:r={},language:s="javascript"}={},label:i,localized:l,required:a},onMount:c,path:u,readOnly:d,validate:f}=t,m=OP((R,A)=>{if(typeof f=="function")return f(R,{...A,required:a})},[f,a]),{customComponents:{AfterInput:h,BeforeInput:p,Description:g,Error:b,Label:v}={},disabled:x,path:y,setValue:C,showError:S,value:w}=Fe({potentiallyStalePath:u,validate:m}),F=MP(()=>rt(e),[e]);return Ly("div",{className:[ye,VP,o,S&&"error",(d||x)&&"read-only"].filter(Boolean).join(" "),style:F,children:[Us(re,{CustomComponent:v,Fallback:Us(ve,{label:i,localized:l,path:y,required:a})}),Ly("div",{className:`${ye}__wrap`,children:[Us(re,{CustomComponent:b,Fallback:Us(Ge,{path:y,showError:S})}),p,Us($l,{defaultLanguage:BP[s]||s,onChange:d||x?()=>null:R=>C(R),onMount:c,options:r,readOnly:d||x,value:w||""}),h]}),Us(re,{CustomComponent:g,Fallback:Us(Be,{description:n,path:y})})]})},kl=$e(GP);import{jsx as Zs,jsxs as Ch}from"react/jsx-runtime";import{getTranslation as HP}from"@payloadcms/translations";import{Fragment as zP,useCallback as XP,useEffect as UP,useMemo as YP,useState as ky}from"react";import{c as WP}from"react/compiler-runtime";import{fieldAffectsData as $y}from"payload/shared";var Rd=t=>t.reduce((e,o)=>{let n="fields"in o?o.fields:void 0;return n?$y(o)?e.push(`${o.name}.`):e.push(...Rd(n)):o.type==="tabs"?"tabs"in o&&o.tabs?.forEach(r=>{"name"in r?e.push(`${r.name}.`):e.push(...Rd(r.fields))}):$y(o)&&e.push(o.name),e},[]);var Ys=t=>{let e=WP(12),{fields:o,path:n,setErrorCount:r}=t,[s]=ki(),i=Yt(),l;e[0]!==o?(l=Rd(o),e[0]=o,e[1]=l):l=e[1];let a=l,c;e[2]!==s||e[3]!==i||e[4]!==n||e[5]!==a||e[6]!==r?(c=()=>{if(i){let d;d=0,Object.entries(s).forEach(f=>{let[m]=f;if(a?.some(p=>{let g=[...n,p].join(".");return g.endsWith(".")?m.startsWith(g):m===g})){let p=s[m];"valid"in p&&!p.valid&&(d=d+1)}}),r(d)}},e[2]=s,e[3]=i,e[4]=n,e[5]=a,e[6]=r,e[7]=c):c=e[7];let u;return e[8]!==o||e[9]!==s||e[10]!==i?(u=[s,i,o],e[8]=o,e[9]=s,e[10]=i,e[11]=u):u=e[11],Bs(c,250,u),null};var jl="collapsible-field",ZP=t=>{let{field:e,field:{admin:{className:o,description:n,initCollapsed:r=!1}={},fields:s,label:i}={},indexPath:l,parentPath:a,parentSchemaPath:c,path:u,permissions:d,readOnly:f}=t,{i18n:m}=k(),{getPreference:h,setPreference:p}=Fo(),{preferencesKey:g}=Te(),[b,v]=ky(),x=`collapsible-${u?.replace(/\./g,"__")}`,[y,C]=ky(0),S=y>0,{customComponents:{AfterInput:w,BeforeInput:F,Description:R,Label:A}={},disabled:D}=Fe({path:u}),_=XP(async T=>{let E=await h(g);g&&p(g,{...E,...u?{fields:{...E?.fields||{},[u]:{...E?.fields?.[u],collapsed:T}}}:{fields:{...E?.fields||{},[x]:{...E?.fields?.[x],collapsed:T}}}})},[g,x,h,p,u]);UP(()=>{(async()=>{if(g){let E=await h(g),$=u?E?.fields?.[u]?.collapsed:E?.fields?.[x]?.collapsed;v($!==void 0?!!$:typeof r=="boolean"?r:!1)}else v(typeof r=="boolean"?r:!1)})()},[h,g,x,r,u]);let I=YP(()=>rt(e),[e]);return typeof b!="boolean"?null:Ch(zP,{children:[Zs(Ys,{fields:s,path:u.split(".").slice(0,-1),setErrorCount:C}),Ch("div",{className:[ye,jl,o,S?`${jl}--has-error`:`${jl}--has-no-error`].filter(Boolean).join(" "),id:`field-${x}`,style:I,children:[F,Zs(Xs,{className:`${jl}__collapsible`,collapsibleStyle:S?"error":"default",header:Ch("div",{className:`${jl}__row-label-wrap`,children:[Zs(cn,{CustomComponent:A,label:HP(i,m),path:u}),S&&Zs(so,{count:y,i18n:m,withMessage:!0})]}),initCollapsed:b,onToggle:_,children:Zs(So,{fields:s,margins:"small",parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:d,readOnly:f||D})}),w,Zs(re,{CustomComponent:R,Fallback:Zs(Be,{description:n,path:u})})]})]})},Ol=$e(ZP);import{jsx as ns,jsxs as _2}from"react/jsx-runtime";import{getTranslation as UN}from"@payloadcms/translations";import{useCallback as ug,useMemo as D2}from"react";import{jsx as wh}from"react/jsx-runtime";import{lazy as JP,Suspense as qP}from"react";var QP=JP(()=>import("./DatePicker-4DPXLCID.js")),Qi=t=>wh(qP,{fallback:wh(St,{height:50}),children:wh(QP,{...t})});import{jsx as R2,jsxs as zN}from"react/jsx-runtime";import{useMemo as XN}from"react";import{jsx as ei}from"react/jsx-runtime";import{getTranslation as w2}from"@payloadcms/translations";import S2,{useEffect as VN,useId as GN}from"react";function Pr(t){"@babel/helpers - typeof";return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pr(t)}function jy(t,e){if(Pr(t)!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(Pr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _d(t){var e=jy(t,"string");return Pr(e)=="symbol"?e:e+""}function Js(t,e,o){return(e=_d(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function Oy(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),o.push.apply(o,n)}return o}function Ie(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?Oy(Object(o),!0).forEach(function(n){Js(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):Oy(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function My(t){if(Array.isArray(t))return t}function By(t,e){var o=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(o!=null){var n,r,s,i,l=[],a=!0,c=!1;try{if(s=(o=o.call(t)).next,e===0){if(Object(o)!==o)return;a=!1}else for(;!(a=(n=s.call(o)).done)&&(l.push(n.value),l.length!==e);a=!0);}catch(u){c=!0,r=u}finally{try{if(!a&&o.return!=null&&(i=o.return(),Object(i)!==i))return}finally{if(c)throw r}}return l}}function Ml(t,e){(e==null||e>t.length)&&(e=t.length);for(var o=0,n=Array(e);o<e;o++)n[o]=t[o];return n}function Dd(t,e){if(t){if(typeof t=="string")return Ml(t,e);var o={}.toString.call(t).slice(8,-1);return o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set"?Array.from(t):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Ml(t,e):void 0}}function Vy(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nr(t,e){return My(t)||By(t,e)||Dd(t,e)||Vy()}function Bo(t,e){if(t==null)return{};var o,n,r=Mi(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)o=s[n],e.includes(o)||{}.propertyIsEnumerable.call(t,o)&&(r[o]=t[o])}return r}import{useState as Sh,useCallback as Fd}from"react";var KP=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Ad(t){var e=t.defaultInputValue,o=e===void 0?"":e,n=t.defaultMenuIsOpen,r=n===void 0?!1:n,s=t.defaultValue,i=s===void 0?null:s,l=t.inputValue,a=t.menuIsOpen,c=t.onChange,u=t.onInputChange,d=t.onMenuClose,f=t.onMenuOpen,m=t.value,h=Bo(t,KP),p=Sh(l!==void 0?l:o),g=Nr(p,2),b=g[0],v=g[1],x=Sh(a!==void 0?a:r),y=Nr(x,2),C=y[0],S=y[1],w=Sh(m!==void 0?m:i),F=Nr(w,2),R=F[0],A=F[1],D=Fd(function(N,P){typeof c=="function"&&c(N,P),A(N)},[c]),_=Fd(function(N,P){var L;typeof u=="function"&&(L=u(N,P)),v(L!==void 0?L:N)},[u]),I=Fd(function(){typeof f=="function"&&f(),S(!0)},[f]),T=Fd(function(){typeof d=="function"&&d(),S(!1)},[d]),E=l!==void 0?l:b,$=a!==void 0?a:C,j=m!==void 0?m:R;return Ie(Ie({},h),{},{inputValue:E,menuIsOpen:$,onChange:D,onInputChange:_,onMenuClose:T,onMenuOpen:I,value:j})}import*as o2 from"react";import{forwardRef as SN,useMemo as Jie}from"react";function Gy(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wy(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_d(n.key),n)}}function Hy(t,e,o){return e&&Wy(t.prototype,e),o&&Wy(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function zy(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bi(t,e)}function Bl(t){return Bl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Bl(t)}function Ih(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ih=function(){return!!t})()}function Xy(t,e){if(e&&(Pr(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C0(t)}function Uy(t){var e=Ih();return function(){var o,n=Bl(t);if(e){var r=Bl(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Xy(this,o)}}function Yy(t){if(Array.isArray(t))return Ml(t)}function Zy(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jy(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ts(t){return Yy(t)||Zy(t)||Dd(t)||Jy()}import*as ct from"react";import{useMemo as Zl,Fragment as Uh,useRef as ma,useCallback as rs,useEffect as zw,Component as M5}from"react";import*as pr from"react";import{useContext as E6,forwardRef as P6}from"react";var e6=!1;function t6(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function o6(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var qy=function(){function t(o){var n=this;this._insertTag=function(r){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(r,s),n.tags.push(r)},this.isSpeedy=o.speedy===void 0?!e6:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(o6(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=t6(r);try{s.insertRule(n,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var r;return(r=n.parentNode)==null?void 0:r.removeChild(n)}),this.tags=[],this.ctr=0},t}();var bo="-ms-",Vl="-moz-",nt="-webkit-",Td="comm",Ki="rule",ea="decl";var Qy="@import";var Ed="@keyframes";var Ky="@layer";var eC=Math.abs,qs=String.fromCharCode,tC=Object.assign;function oC(t,e){return Vt(t,0)^45?(((e<<2^Vt(t,0))<<2^Vt(t,1))<<2^Vt(t,2))<<2^Vt(t,3):0}function Pd(t){return t.trim()}function Rh(t,e){return(t=e.exec(t))?t[0]:t}function tt(t,e,o){return t.replace(e,o)}function Gl(t,e){return t.indexOf(e)}function Vt(t,e){return t.charCodeAt(e)|0}function os(t,e,o){return t.slice(e,o)}function Ao(t){return t.length}function ta(t){return t.length}function oa(t,e){return e.push(t),t}function _h(t,e){return t.map(e).join("")}var Nd=1,ra=1,rC=0,To=0,qt=0,sa="";function Wl(t,e,o,n,r,s,i){return{value:t,root:e,parent:o,type:n,props:r,children:s,line:Nd,column:ra,length:i,return:""}}function ia(t,e){return tC(Wl("",null,null,"",null,null,0),t,{length:-t.length},e)}function nC(){return qt}function sC(){return qt=To>0?Vt(sa,--To):0,ra--,qt===10&&(ra=1,Nd--),qt}function Eo(){return qt=To<rC?Vt(sa,To++):0,ra++,qt===10&&(ra=1,Nd++),qt}function fr(){return Vt(sa,To)}function Hl(){return To}function aa(t,e){return os(sa,t,e)}function na(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ld(t){return Nd=ra=1,rC=Ao(sa=t),To=0,[]}function $d(t){return sa="",t}function la(t){return Pd(aa(To-1,Dh(t===91?t+2:t===40?t+1:t)))}function iC(t){for(;(qt=fr())&&qt<33;)Eo();return na(t)>2||na(qt)>3?"":" "}function aC(t,e){for(;--e&&Eo()&&!(qt<48||qt>102||qt>57&&qt<65||qt>70&&qt<97););return aa(t,Hl()+(e<6&&fr()==32&&Eo()==32))}function Dh(t){for(;Eo();)switch(qt){case t:return To;case 34:case 39:t!==34&&t!==39&&Dh(qt);break;case 40:t===41&&Dh(t);break;case 92:Eo();break}return To}function lC(t,e){for(;Eo()&&t+qt!==57;)if(t+qt===84&&fr()===47)break;return"/*"+aa(e,To-1)+"*"+qs(t===47?t:Eo())}function cC(t){for(;!na(fr());)Eo();return aa(t,To)}function mC(t){return $d(kd("",null,null,null,[""],t=Ld(t),0,[0],t))}function kd(t,e,o,n,r,s,i,l,a){for(var c=0,u=0,d=i,f=0,m=0,h=0,p=1,g=1,b=1,v=0,x="",y=r,C=s,S=n,w=x;g;)switch(h=v,v=Eo()){case 40:if(h!=108&&Vt(w,d-1)==58){Gl(w+=tt(la(v),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:w+=la(v);break;case 9:case 10:case 13:case 32:w+=iC(h);break;case 92:w+=aC(Hl()-1,7);continue;case 47:switch(fr()){case 42:case 47:oa(r6(lC(Eo(),Hl()),e,o),a);break;default:w+="/"}break;case 123*p:l[c++]=Ao(w)*b;case 125*p:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:b==-1&&(w=tt(w,/\f/g,"")),m>0&&Ao(w)-d&&oa(m>32?dC(w+";",n,o,d-1):dC(tt(w," ","")+";",n,o,d-2),a);break;case 59:w+=";";default:if(oa(S=uC(w,e,o,c,u,r,l,x,y=[],C=[],d),s),v===123)if(u===0)kd(w,e,S,S,y,s,d,l,C);else switch(f===99&&Vt(w,3)===110?100:f){case 100:case 108:case 109:case 115:kd(t,S,S,n&&oa(uC(t,S,S,0,0,r,l,x,r,y=[],d),C),r,C,d,l,n?y:C);break;default:kd(w,S,S,S,[""],C,0,l,C)}}c=u=m=0,p=b=1,x=w="",d=i;break;case 58:d=1+Ao(w),m=h;default:if(p<1){if(v==123)--p;else if(v==125&&p++==0&&sC()==125)continue}switch(w+=qs(v),v*p){case 38:b=u>0?1:(w+="\f",-1);break;case 44:l[c++]=(Ao(w)-1)*b,b=1;break;case 64:fr()===45&&(w+=la(Eo())),f=fr(),u=d=Ao(x=w+=cC(Hl())),v++;break;case 45:h===45&&Ao(w)==2&&(p=0)}}return s}function uC(t,e,o,n,r,s,i,l,a,c,u){for(var d=r-1,f=r===0?s:[""],m=ta(f),h=0,p=0,g=0;h<n;++h)for(var b=0,v=os(t,d+1,d=eC(p=i[h])),x=t;b<m;++b)(x=Pd(p>0?f[b]+" "+v:tt(v,/&\f/g,f[b])))&&(a[g++]=x);return Wl(t,e,o,r===0?Ki:l,a,c,u)}function r6(t,e,o){return Wl(t,e,o,Td,qs(nC()),os(t,2,-2),0)}function dC(t,e,o,n){return Wl(t,e,o,ea,os(t,0,n),os(t,n+1,-1),n)}function Qs(t,e){for(var o="",n=ta(t),r=0;r<n;r++)o+=e(t[r],r,t,e)||"";return o}function fC(t,e,o,n){switch(t.type){case Ky:if(t.children.length)break;case Qy:case ea:return t.return=t.return||t.value;case Td:return"";case Ed:return t.return=t.value+"{"+Qs(t.children,n)+"}";case Ki:t.value=t.props.join(",")}return Ao(o=Qs(t.children,n))?t.return=t.value+"{"+o+"}":""}function pC(t){var e=ta(t);return function(o,n,r,s){for(var i="",l=0;l<e;l++)i+=t[l](o,n,r,s)||"";return i}}function hC(t){return function(e){e.root||(e=e.return)&&t(e)}}function gC(t){var e=Object.create(null);return function(o){return e[o]===void 0&&(e[o]=t(o)),e[o]}}var n6=function(e,o,n){for(var r=0,s=0;r=s,s=fr(),r===38&&s===12&&(o[n]=1),!na(s);)Eo();return aa(e,To)},s6=function(e,o){var n=-1,r=44;do switch(na(r)){case 0:r===38&&fr()===12&&(o[n]=1),e[n]+=n6(To-1,o,n);break;case 2:e[n]+=la(r);break;case 4:if(r===44){e[++n]=fr()===58?"&\f":"",o[n]=e[n].length;break}default:e[n]+=qs(r)}while(r=Eo());return e},i6=function(e,o){return $d(s6(Ld(e),o))},bC=new WeakMap,a6=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var o=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&o.charCodeAt(0)!==58&&!bC.get(n))&&!r){bC.set(e,!0);for(var s=[],i=i6(o,s),l=n.props,a=0,c=0;a<i.length;a++)for(var u=0;u<l.length;u++,c++)e.props[c]=s[a]?i[a].replace(/&\f/g,l[u]):l[u]+" "+i[a]}}},l6=function(e){if(e.type==="decl"){var o=e.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(e.return="",e.value="")}};function vC(t,e){switch(oC(t,e)){case 5103:return nt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return nt+t+Vl+t+bo+t+t;case 6828:case 4268:return nt+t+bo+t+t;case 6165:return nt+t+bo+"flex-"+t+t;case 5187:return nt+t+tt(t,/(\w+).+(:[^]+)/,nt+"box-$1$2"+bo+"flex-$1$2")+t;case 5443:return nt+t+bo+"flex-item-"+tt(t,/flex-|-self/,"")+t;case 4675:return nt+t+bo+"flex-line-pack"+tt(t,/align-content|flex-|-self/,"")+t;case 5548:return nt+t+bo+tt(t,"shrink","negative")+t;case 5292:return nt+t+bo+tt(t,"basis","preferred-size")+t;case 6060:return nt+"box-"+tt(t,"-grow","")+nt+t+bo+tt(t,"grow","positive")+t;case 4554:return nt+tt(t,/([^-])(transform)/g,"$1"+nt+"$2")+t;case 6187:return tt(tt(tt(t,/(zoom-|grab)/,nt+"$1"),/(image-set)/,nt+"$1"),t,"")+t;case 5495:case 3959:return tt(t,/(image-set\([^]*)/,nt+"$1$`$1");case 4968:return tt(tt(t,/(.+:)(flex-)?(.*)/,nt+"box-pack:$3"+bo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nt+t+t;case 4095:case 3583:case 4068:case 2532:return tt(t,/(.+)-inline(.+)/,nt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ao(t)-1-e>6)switch(Vt(t,e+1)){case 109:if(Vt(t,e+4)!==45)break;case 102:return tt(t,/(.+:)(.+)-([^]+)/,"$1"+nt+"$2-$3$1"+Vl+(Vt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Gl(t,"stretch")?vC(tt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Vt(t,e+1)!==115)break;case 6444:switch(Vt(t,Ao(t)-3-(~Gl(t,"!important")&&10))){case 107:return tt(t,":",":"+nt)+t;case 101:return tt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+nt+(Vt(t,14)===45?"inline-":"")+"box$3$1"+nt+"$2$3$1"+bo+"$2box$3")+t}break;case 5936:switch(Vt(t,e+11)){case 114:return nt+t+bo+tt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return nt+t+bo+tt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return nt+t+bo+tt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return nt+t+bo+t+t}return t}var c6=function(e,o,n,r){if(e.length>-1&&!e.return)switch(e.type){case ea:e.return=vC(e.value,e.length);break;case Ed:return Qs([ia(e,{value:tt(e.value,"@","@"+nt)})],r);case Ki:if(e.length)return _h(e.props,function(s){switch(Rh(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Qs([ia(e,{props:[tt(s,/:(read-\w+)/,":"+Vl+"$1")]})],r);case"::placeholder":return Qs([ia(e,{props:[tt(s,/:(plac\w+)/,":"+nt+"input-$1")]}),ia(e,{props:[tt(s,/:(plac\w+)/,":"+Vl+"$1")]}),ia(e,{props:[tt(s,/:(plac\w+)/,bo+"input-$1")]})],r)}return""})}},u6=[c6],Fh=function(e){var o=e.key;if(o==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(p){var g=p.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var r=e.stylisPlugins||u6,s={},i,l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(p){for(var g=p.getAttribute("data-emotion").split(" "),b=1;b<g.length;b++)s[g[b]]=!0;l.push(p)});var a,c=[a6,l6];{var u,d=[fC,hC(function(p){u.insert(p)})],f=pC(c.concat(r,d)),m=function(g){return Qs(mC(g),f)};a=function(g,b,v,x){u=v,m(g?g+"{"+b.styles+"}":b.styles),x&&(h.inserted[b.name]=!0)}}var h={key:o,sheet:new qy({key:o,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return h.sheet.hydrate(l),h};var S6=!0;function Lh(t,e,o){var n="";return o.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(n+=r+" ")}),n}var Ud=function(e,o,n){var r=e.key+"-"+o.name;(n===!1||S6===!1)&&e.registered[r]===void 0&&(e.registered[r]=o.styles)},$h=function(e,o,n){Ud(e,o,n);var r=e.key+"-"+o.name;if(e.inserted[o.name]===void 0){var s=o;do e.insert(o===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function TC(t){for(var e=0,o,n=0,r=t.length;r>=4;++n,r-=4)o=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,e=(o&65535)*1540483477+((o>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var EC={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var I6=!1,R6=/[A-Z]|^ms/g,_6=/_EMO_([^_]+?)_([^]*?)_EMO_/g,$C=function(e){return e.charCodeAt(1)===45},PC=function(e){return e!=null&&typeof e!="boolean"},kh=gC(function(t){return $C(t)?t:t.replace(R6,"-$&").toLowerCase()}),NC=function(e,o){switch(e){case"animation":case"animationName":if(typeof o=="string")return o.replace(_6,function(n,r,s){return qr={name:r,styles:s,next:qr},r})}return EC[e]!==1&&!$C(e)&&typeof o=="number"&&o!==0?o+"px":o},D6="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function zl(t,e,o){if(o==null)return"";var n=o;if(n.__emotion_styles!==void 0)return n;switch(typeof o){case"boolean":return"";case"object":{var r=o;if(r.anim===1)return qr={name:r.name,styles:r.styles,next:qr},r.name;var s=o;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)qr={name:i.name,styles:i.styles,next:qr},i=i.next;var l=s.styles+";";return l}return F6(t,e,o)}case"function":{if(t!==void 0){var a=qr,c=o(t);return qr=a,zl(t,e,c)}break}}var u=o;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function F6(t,e,o){var n="";if(Array.isArray(o))for(var r=0;r<o.length;r++)n+=zl(t,e,o[r])+";";else for(var s in o){var i=o[s];if(typeof i!="object"){var l=i;e!=null&&e[l]!==void 0?n+=s+"{"+e[l]+"}":PC(l)&&(n+=kh(s)+":"+NC(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&I6)throw new Error(D6);if(Array.isArray(i)&&typeof i[0]=="string"&&(e==null||e[i[0]]===void 0))for(var a=0;a<i.length;a++)PC(i[a])&&(n+=kh(s)+":"+NC(s,i[a])+";");else{var c=zl(t,e,i);switch(s){case"animation":case"animationName":{n+=kh(s)+":"+c+";";break}default:n+=s+"{"+c+"}"}}}}return n}var LC=/label:\s*([^\s;{]+)\s*(;|$)/g,qr;function Yd(t,e,o){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,r="";qr=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,r+=zl(o,e,s);else{var i=s;r+=i[0]}for(var l=1;l<t.length;l++)if(r+=zl(o,e,t[l]),n){var a=s;r+=a[l]}LC.lastIndex=0;for(var c="",u;(u=LC.exec(r))!==null;)c+="-"+u[1];var d=TC(r)+c;return{name:d,styles:r,next:qr}}import*as Zd from"react";var A6=function(e){return e()},T6=Zd.useInsertionEffect?Zd.useInsertionEffect:!1,jh=T6||A6;var kC=!1,jC=pr.createContext(typeof HTMLElement<"u"?Fh({key:"css"}):null),rie=jC.Provider;var OC=function(e){return P6(function(o,n){var r=E6(jC);return e(o,r,n)})},MC=pr.createContext({});var Jd={}.hasOwnProperty,Oh="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",BC=function(e,o){var n={};for(var r in o)Jd.call(o,r)&&(n[r]=o[r]);return n[Oh]=e,n},N6=function(e){var o=e.cache,n=e.serialized,r=e.isStringTag;return Ud(o,n,r),jh(function(){return $h(o,n,r)}),null},L6=OC(function(t,e,o){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var r=t[Oh],s=[n],i="";typeof t.className=="string"?i=Lh(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var l=Yd(s,void 0,pr.useContext(MC));i+=e.key+"-"+l.name;var a={};for(var c in t)Jd.call(t,c)&&c!=="css"&&c!==Oh&&!kC&&(a[c]=t[c]);return a.className=i,o&&(a.ref=o),pr.createElement(pr.Fragment,null,pr.createElement(N6,{cache:e,serialized:l,isStringTag:typeof r=="string"}),pr.createElement(r,a))}),VC=L6;import*as ca from"react";var fie=Ds(AC()),_e=function(e,o){var n=arguments;if(o==null||!Jd.call(o,"css"))return ca.createElement.apply(void 0,n);var r=n.length,s=new Array(r);s[0]=VC,s[1]=BC(e,o);for(var i=2;i<r;i++)s[i]=n[i];return ca.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(_e||(_e={}));function Xl(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return Yd(e)}function GC(){var t=Xl.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function WC(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}DD();import{useContext as k6,useRef as Vh,useState as em,useMemo as j6,useCallback as Mh,createContext as O6}from"react";import{createPortal as M6}from"react-dom";import{useLayoutEffect as $6}from"react";var qd=$6;var B6=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ul=function(){};function V6(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function zC(t,e){for(var o=arguments.length,n=new Array(o>2?o-2:0),r=2;r<o;r++)n[r-2]=arguments[r];var s=[].concat(n);if(e&&t)for(var i in e)e.hasOwnProperty(i)&&e[i]&&s.push("".concat(V6(t,i)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var ua=function(e){return U6(e)?e.filter(Boolean):Pr(e)==="object"&&e!==null?[e]:[]},XC=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var o=Bo(e,B6);return Ie({},o)},$t=function(e,o,n){var r=e.cx,s=e.getStyles,i=e.getClassNames,l=e.className;return{css:s(o,e),className:r(n??{},i(o,e),l)}};function Yl(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function G6(t){return Yl(t)?window.innerHeight:t.clientHeight}function UC(t){return Yl(t)?window.pageYOffset:t.scrollTop}function tm(t,e){if(Yl(t)){window.scrollTo(0,e);return}t.scrollTop=e}function W6(t){var e=getComputedStyle(t),o=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var r=t;r=r.parentElement;)if(e=getComputedStyle(r),!(o&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return r;return document.documentElement}function H6(t,e,o,n){return o*((t=t/n-1)*t*t+1)+e}function Qd(t,e){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ul,r=UC(t),s=e-r,i=10,l=0;function a(){l+=i;var c=H6(l,r,s,o);tm(t,c),l<o?window.requestAnimationFrame(a):n(t)}a()}function Gh(t,e){var o=t.getBoundingClientRect(),n=e.getBoundingClientRect(),r=e.offsetHeight/3;n.bottom+r>o.bottom?tm(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+r,t.scrollHeight)):n.top-r<o.top&&tm(t,Math.max(e.offsetTop-r,0))}function z6(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function Wh(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function YC(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var ZC=!1,X6={get passive(){return ZC=!0}},Kd=typeof window<"u"?window:{};Kd.addEventListener&&Kd.removeEventListener&&(Kd.addEventListener("p",Ul,X6),Kd.removeEventListener("p",Ul,!1));var JC=ZC;function qC(t){return t!=null}function U6(t){return Array.isArray(t)}function Ks(t,e,o){return t?e:o}var QC=function(e){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];var s=Object.entries(e).filter(function(i){var l=Nr(i,1),a=l[0];return!n.includes(a)});return s.reduce(function(i,l){var a=Nr(l,2),c=a[0],u=a[1];return i[c]=u,i},{})},Y6=["children","innerProps"],Z6=["children","innerProps"];function J6(t){var e=t.maxHeight,o=t.menuEl,n=t.minHeight,r=t.placement,s=t.shouldScroll,i=t.isFixedPosition,l=t.controlHeight,a=W6(o),c={placement:"bottom",maxHeight:e};if(!o||!o.offsetParent)return c;var u=a.getBoundingClientRect(),d=u.height,f=o.getBoundingClientRect(),m=f.bottom,h=f.height,p=f.top,g=o.offsetParent.getBoundingClientRect(),b=g.top,v=i?window.innerHeight:G6(a),x=UC(a),y=parseInt(getComputedStyle(o).marginBottom,10),C=parseInt(getComputedStyle(o).marginTop,10),S=b-C,w=v-p,F=S+x,R=d-x-p,A=m-v+x+y,D=x+p-C,_=160;switch(r){case"auto":case"bottom":if(w>=h)return{placement:"bottom",maxHeight:e};if(R>=h&&!i)return s&&Qd(a,A,_),{placement:"bottom",maxHeight:e};if(!i&&R>=n||i&&w>=n){s&&Qd(a,A,_);var I=i?w-y:R-y;return{placement:"bottom",maxHeight:I}}if(r==="auto"||i){var T=e,E=i?S:F;return E>=n&&(T=Math.min(E-y-l,e)),{placement:"top",maxHeight:T}}if(r==="bottom")return s&&tm(a,A),{placement:"bottom",maxHeight:e};break;case"top":if(S>=h)return{placement:"top",maxHeight:e};if(F>=h&&!i)return s&&Qd(a,D,_),{placement:"top",maxHeight:e};if(!i&&F>=n||i&&S>=n){var $=e;return(!i&&F>=n||i&&S>=n)&&($=i?S-C:F-C),s&&Qd(a,D,_),{placement:"top",maxHeight:$}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return c}function q6(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var KC=function(e){return e==="auto"?"bottom":e},ew=function(e,o){var n,r=e.placement,s=e.theme,i=s.borderRadius,l=s.spacing,a=s.colors;return Ie((n={label:"menu"},Js(n,q6(r),"100%"),Js(n,"position","absolute"),Js(n,"width","100%"),Js(n,"zIndex",1),n),o?{}:{backgroundColor:a.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},tw=O6(null),ow=function(e){var o=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,s=e.menuPlacement,i=e.menuPosition,l=e.menuShouldScrollIntoView,a=e.theme,c=k6(tw)||{},u=c.setPortalPlacement,d=Vh(null),f=em(r),m=Nr(f,2),h=m[0],p=m[1],g=em(null),b=Nr(g,2),v=b[0],x=b[1],y=a.spacing.controlHeight;return qd(function(){var C=d.current;if(C){var S=i==="fixed",w=l&&!S,F=J6({maxHeight:r,menuEl:C,minHeight:n,placement:s,shouldScroll:w,isFixedPosition:S,controlHeight:y});p(F.maxHeight),x(F.placement),u?.(F.placement)}},[r,s,i,l,n,u,y]),o({ref:d,placerProps:Ie(Ie({},e),{},{placement:v||KC(s),maxHeight:h})})},Q6=function(e){var o=e.children,n=e.innerRef,r=e.innerProps;return _e("div",Se({},$t(e,"menu",{menu:!0}),{ref:n},r),o)},K6=Q6,rw=function(e,o){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return Ie({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},o?{}:{paddingBottom:r,paddingTop:r})},e5=function(e){var o=e.children,n=e.innerProps,r=e.innerRef,s=e.isMulti;return _e("div",Se({},$t(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:r},n),o)},nw=function(e,o){var n=e.theme,r=n.spacing.baseUnit,s=n.colors;return Ie({textAlign:"center"},o?{}:{color:s.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px")})},sw=nw,iw=nw,t5=function(e){var o=e.children,n=o===void 0?"No options":o,r=e.innerProps,s=Bo(e,Y6);return _e("div",Se({},$t(Ie(Ie({},s),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},o5=function(e){var o=e.children,n=o===void 0?"Loading...":o,r=e.innerProps,s=Bo(e,Z6);return _e("div",Se({},$t(Ie(Ie({},s),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},aw=function(e){var o=e.rect,n=e.offset,r=e.position;return{left:o.left,position:r,top:n,width:o.width,zIndex:1}},r5=function(e){var o=e.appendTo,n=e.children,r=e.controlElement,s=e.innerProps,i=e.menuPlacement,l=e.menuPosition,a=Vh(null),c=Vh(null),u=em(KC(i)),d=Nr(u,2),f=d[0],m=d[1],h=j6(function(){return{setPortalPlacement:m}},[]),p=em(null),g=Nr(p,2),b=g[0],v=g[1],x=Mh(function(){if(r){var w=z6(r),F=l==="fixed"?0:window.pageYOffset,R=w[f]+F;(R!==b?.offset||w.left!==b?.rect.left||w.width!==b?.rect.width)&&v({offset:R,rect:w})}},[r,l,f,b?.offset,b?.rect.left,b?.rect.width]);qd(function(){x()},[x]);var y=Mh(function(){typeof c.current=="function"&&(c.current(),c.current=null),r&&a.current&&(c.current=fv(r,a.current,x,{elementResize:"ResizeObserver"in window}))},[r,x]);qd(function(){y()},[y]);var C=Mh(function(w){a.current=w,y()},[y]);if(!o&&l!=="fixed"||!b)return null;var S=_e("div",Se({ref:C},$t(Ie(Ie({},e),{},{offset:b.offset,position:l,rect:b.rect}),"menuPortal",{"menu-portal":!0}),s),n);return _e(tw.Provider,{value:h},o?M6(S,o):S)},lw=function(e){var o=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:o?"none":void 0,position:"relative"}},n5=function(e){var o=e.children,n=e.innerProps,r=e.isDisabled,s=e.isRtl;return _e("div",Se({},$t(e,"container",{"--is-disabled":r,"--is-rtl":s}),n),o)},cw=function(e,o){var n=e.theme.spacing,r=e.isMulti,s=e.hasValue,i=e.selectProps.controlShouldRenderValue;return Ie({alignItems:"center",display:r&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},o?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},s5=function(e){var o=e.children,n=e.innerProps,r=e.isMulti,s=e.hasValue;return _e("div",Se({},$t(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":s}),n),o)},uw=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},i5=function(e){var o=e.children,n=e.innerProps;return _e("div",Se({},$t(e,"indicatorsContainer",{indicators:!0}),n),o)},HC,a5=["size"],l5=["innerProps","isRtl","size"];var c5={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},dw=function(e){var o=e.size,n=Bo(e,a5);return _e("svg",Se({height:o,width:o,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:c5},n))},Hh=function(e){return _e(dw,Se({size:20},e),_e("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},mw=function(e){return _e(dw,Se({size:20},e),_e("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},fw=function(e,o){var n=e.isFocused,r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Ie({label:"indicatorContainer",display:"flex",transition:"color 150ms"},o?{}:{color:n?i.neutral60:i.neutral20,padding:s*2,":hover":{color:n?i.neutral80:i.neutral40}})},pw=fw,u5=function(e){var o=e.children,n=e.innerProps;return _e("div",Se({},$t(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),o||_e(mw,null))},hw=fw,d5=function(e){var o=e.children,n=e.innerProps;return _e("div",Se({},$t(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),o||_e(Hh,null))},gw=function(e,o){var n=e.isDisabled,r=e.theme,s=r.spacing.baseUnit,i=r.colors;return Ie({label:"indicatorSeparator",alignSelf:"stretch",width:1},o?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},m5=function(e){var o=e.innerProps;return _e("span",Se({},o,$t(e,"indicatorSeparator",{"indicator-separator":!0})))},f5=GC(HC||(HC=WC([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),bw=function(e,o){var n=e.isFocused,r=e.size,s=e.theme,i=s.colors,l=s.spacing.baseUnit;return Ie({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},o?{}:{color:n?i.neutral60:i.neutral20,padding:l*2})},Bh=function(e){var o=e.delay,n=e.offset;return _e("span",{css:Xl({animation:"".concat(f5," 1s ease-in-out ").concat(o,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},p5=function(e){var o=e.innerProps,n=e.isRtl,r=e.size,s=r===void 0?4:r,i=Bo(e,l5);return _e("div",Se({},$t(Ie(Ie({},i),{},{innerProps:o,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),o),_e(Bh,{delay:0,offset:n}),_e(Bh,{delay:160,offset:!0}),_e(Bh,{delay:320,offset:!n}))},vw=function(e,o){var n=e.isDisabled,r=e.isFocused,s=e.theme,i=s.colors,l=s.borderRadius,a=s.spacing;return Ie({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},o?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:r?i.primary:i.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:r?i.primary:i.neutral30}})},h5=function(e){var o=e.children,n=e.isDisabled,r=e.isFocused,s=e.innerRef,i=e.innerProps,l=e.menuIsOpen;return _e("div",Se({ref:s},$t(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":l}),i,{"aria-disabled":n||void 0}),o)},g5=h5,b5=["data"],xw=function(e,o){var n=e.theme.spacing;return o?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},v5=function(e){var o=e.children,n=e.cx,r=e.getStyles,s=e.getClassNames,i=e.Heading,l=e.headingProps,a=e.innerProps,c=e.label,u=e.theme,d=e.selectProps;return _e("div",Se({},$t(e,"group",{group:!0}),a),_e(i,Se({},l,{selectProps:d,theme:u,getStyles:r,getClassNames:s,cx:n}),c),_e("div",null,o))},yw=function(e,o){var n=e.theme,r=n.colors,s=n.spacing;return Ie({label:"group",cursor:"default",display:"block"},o?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},x5=function(e){var o=XC(e);o.data;var n=Bo(o,b5);return _e("div",Se({},$t(e,"groupHeading",{"group-heading":!0}),n))},y5=v5,C5=["innerRef","isDisabled","isHidden","inputClassName"],Cw=function(e,o){var n=e.isDisabled,r=e.value,s=e.theme,i=s.spacing,l=s.colors;return Ie(Ie({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},w5),o?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:l.neutral80})},ww={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},w5={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ie({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},ww)},S5=function(e){return Ie({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},ww)},I5=function(e){var o=e.cx,n=e.value,r=XC(e),s=r.innerRef,i=r.isDisabled,l=r.isHidden,a=r.inputClassName,c=Bo(r,C5);return _e("div",Se({},$t(e,"input",{"input-container":!0}),{"data-value":n||""}),_e("input",Se({className:o({input:!0},a),ref:s,style:S5(l),disabled:i},c)))},R5=I5,Sw=function(e,o){var n=e.theme,r=n.spacing,s=n.borderRadius,i=n.colors;return Ie({label:"multiValue",display:"flex",minWidth:0},o?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:r.baseUnit/2})},Iw=function(e,o){var n=e.theme,r=n.borderRadius,s=n.colors,i=e.cropWithEllipsis;return Ie({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},o?{}:{borderRadius:r/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Rw=function(e,o){var n=e.theme,r=n.spacing,s=n.borderRadius,i=n.colors,l=e.isFocused;return Ie({alignItems:"center",display:"flex"},o?{}:{borderRadius:s/2,backgroundColor:l?i.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},_w=function(e){var o=e.children,n=e.innerProps;return _e("div",n,o)},_5=_w,D5=_w;function F5(t){var e=t.children,o=t.innerProps;return _e("div",Se({role:"button"},o),e||_e(Hh,{size:14}))}var A5=function(e){var o=e.children,n=e.components,r=e.data,s=e.innerProps,i=e.isDisabled,l=e.removeProps,a=e.selectProps,c=n.Container,u=n.Label,d=n.Remove;return _e(c,{data:r,innerProps:Ie(Ie({},$t(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:a},_e(u,{data:r,innerProps:Ie({},$t(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},o),_e(d,{data:r,innerProps:Ie(Ie({},$t(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(o||"option")},l),selectProps:a}))},T5=A5,Dw=function(e,o){var n=e.isDisabled,r=e.isFocused,s=e.isSelected,i=e.theme,l=i.spacing,a=i.colors;return Ie({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},o?{}:{backgroundColor:s?a.primary:r?a.primary25:"transparent",color:n?a.neutral20:s?a.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?a.primary:a.primary50}})},E5=function(e){var o=e.children,n=e.isDisabled,r=e.isFocused,s=e.isSelected,i=e.innerRef,l=e.innerProps;return _e("div",Se({},$t(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":s}),{ref:i,"aria-disabled":n},l),o)},P5=E5,Fw=function(e,o){var n=e.theme,r=n.spacing,s=n.colors;return Ie({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},o?{}:{color:s.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},N5=function(e){var o=e.children,n=e.innerProps;return _e("div",Se({},$t(e,"placeholder",{placeholder:!0}),n),o)},L5=N5,Aw=function(e,o){var n=e.isDisabled,r=e.theme,s=r.spacing,i=r.colors;return Ie({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o?{}:{color:n?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},$5=function(e){var o=e.children,n=e.isDisabled,r=e.innerProps;return _e("div",Se({},$t(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),o)},k5=$5,lo={ClearIndicator:d5,Control:g5,DropdownIndicator:u5,DownChevron:mw,CrossIcon:Hh,Group:y5,GroupHeading:x5,IndicatorsContainer:i5,IndicatorSeparator:m5,Input:R5,LoadingIndicator:p5,Menu:K6,MenuList:e5,MenuPortal:r5,LoadingMessage:o5,NoOptionsMessage:t5,MultiValue:T5,MultiValueContainer:_5,MultiValueLabel:D5,MultiValueRemove:F5,Option:P5,Placeholder:L5,SelectContainer:n5,SingleValue:k5,ValueContainer:s5},Tw=function(e){return Ie(Ie({},lo),e.components)};var Ew=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function j5(t,e){return!!(t===e||Ew(t)&&Ew(e))}function O5(t,e){if(t.length!==e.length)return!1;for(var o=0;o<t.length;o++)if(!j5(t[o],e[o]))return!1;return!0}function Pw(t,e){e===void 0&&(e=O5);var o=null;function n(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(o&&o.lastThis===this&&e(r,o.lastArgs))return o.lastResult;var i=t.apply(this,r);return o={lastResult:i,lastArgs:r,lastThis:this},i}return n.clear=function(){o=null},n}var B5={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},V5=function(e){return _e("span",Se({css:B5},e))},Nw=V5,G5={guidance:function(e){var o=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,s=e.context,i=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(o?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var o=e.action,n=e.label,r=n===void 0?"":n,s=e.labels,i=e.isDisabled;switch(o){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(e){var o=e.context,n=e.focused,r=e.options,s=e.label,i=s===void 0?"":s,l=e.selectValue,a=e.isDisabled,c=e.isSelected,u=e.isAppleDevice,d=function(p,g){return p&&p.length?"".concat(p.indexOf(g)+1," of ").concat(p.length):""};if(o==="value"&&l)return"value ".concat(i," focused, ").concat(d(l,n),".");if(o==="menu"&&u){var f=a?" disabled":"",m="".concat(c?" selected":"").concat(f);return"".concat(i).concat(m,", ").concat(d(r,n),".")}return""},onFilter:function(e){var o=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(o?" for search term "+o:"",".")}},W5=function(e){var o=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,s=e.focusableOptions,i=e.isFocused,l=e.selectValue,a=e.selectProps,c=e.id,u=e.isAppleDevice,d=a.ariaLiveMessages,f=a.getOptionLabel,m=a.inputValue,h=a.isMulti,p=a.isOptionDisabled,g=a.isSearchable,b=a.menuIsOpen,v=a.options,x=a.screenReaderStatus,y=a.tabSelectsValue,C=a.isLoading,S=a["aria-label"],w=a["aria-live"],F=Zl(function(){return Ie(Ie({},G5),d||{})},[d]),R=Zl(function(){var E="";if(o&&F.onChange){var $=o.option,j=o.options,N=o.removedValue,P=o.removedValues,L=o.value,V=function(oe){return Array.isArray(oe)?null:oe},M=N||$||V(L),O=M?f(M):"",B=j||P||void 0,G=B?B.map(f):[],X=Ie({isDisabled:M&&p(M,l),label:O,labels:G},o);E=F.onChange(X)}return E},[o,F,p,l,f]),A=Zl(function(){var E="",$=n||r,j=!!(n&&l&&l.includes(n));if($&&F.onFocus){var N={focused:$,label:f($),isDisabled:p($,l),isSelected:j,options:s,context:$===n?"menu":"value",selectValue:l,isAppleDevice:u};E=F.onFocus(N)}return E},[n,r,f,p,F,s,l,u]),D=Zl(function(){var E="";if(b&&v.length&&!C&&F.onFilter){var $=x({count:s.length});E=F.onFilter({inputValue:m,resultsMessage:$})}return E},[s,m,b,F,v,x,C]),_=o?.action==="initial-input-focus",I=Zl(function(){var E="";if(F.guidance){var $=r?"value":b?"menu":"input";E=F.guidance({"aria-label":S,context:$,isDisabled:n&&p(n,l),isMulti:h,isSearchable:g,tabSelectsValue:y,isInitialFocus:_})}return E},[S,n,r,h,p,g,b,F,l,y,_]),T=_e(Uh,null,_e("span",{id:"aria-selection"},R),_e("span",{id:"aria-focused"},A),_e("span",{id:"aria-results"},D),_e("span",{id:"aria-guidance"},I));return _e(Uh,null,_e(Nw,{id:c},_&&T),_e(Nw,{"aria-live":w,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!_&&T))},H5=W5,Yh=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],z5=new RegExp("["+Yh.map(function(t){return t.letters}).join("")+"]","g"),Xw={};for(om=0;om<Yh.length;om++)for(rm=Yh[om],nm=0;nm<rm.letters.length;nm++)Xw[rm.letters[nm]]=rm.base;var rm,nm,om,Uw=function(e){return e.replace(z5,function(o){return Xw[o]})},X5=Pw(Uw),Lw=function(e){return e.replace(/^\s+|\s+$/g,"")},U5=function(e){return"".concat(e.label," ").concat(e.value)},Y5=function(e){return function(o,n){if(o.data.__isNew__)return!0;var r=Ie({ignoreCase:!0,ignoreAccents:!0,stringify:U5,trim:!0,matchFrom:"any"},e),s=r.ignoreCase,i=r.ignoreAccents,l=r.stringify,a=r.trim,c=r.matchFrom,u=a?Lw(n):n,d=a?Lw(l(o)):l(o);return s&&(u=u.toLowerCase(),d=d.toLowerCase()),i&&(u=X5(u),d=Uw(d)),c==="start"?d.substr(0,u.length)===u:d.indexOf(u)>-1}},Z5=["innerRef"];function J5(t){var e=t.innerRef,o=Bo(t,Z5),n=QC(o,"onExited","in","enter","exit","appear");return _e("input",Se({ref:e},n,{css:Xl({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var q5=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Q5(t){var e=t.isEnabled,o=t.onBottomArrive,n=t.onBottomLeave,r=t.onTopArrive,s=t.onTopLeave,i=ma(!1),l=ma(!1),a=ma(0),c=ma(null),u=rs(function(g,b){if(c.current!==null){var v=c.current,x=v.scrollTop,y=v.scrollHeight,C=v.clientHeight,S=c.current,w=b>0,F=y-C-x,R=!1;F>b&&i.current&&(n&&n(g),i.current=!1),w&&l.current&&(s&&s(g),l.current=!1),w&&b>F?(o&&!i.current&&o(g),S.scrollTop=y,R=!0,i.current=!0):!w&&-b>x&&(r&&!l.current&&r(g),S.scrollTop=0,R=!0,l.current=!0),R&&q5(g)}},[o,n,r,s]),d=rs(function(g){u(g,g.deltaY)},[u]),f=rs(function(g){a.current=g.changedTouches[0].clientY},[]),m=rs(function(g){var b=a.current-g.changedTouches[0].clientY;u(g,b)},[u]),h=rs(function(g){if(g){var b=JC?{passive:!1}:!1;g.addEventListener("wheel",d,b),g.addEventListener("touchstart",f,b),g.addEventListener("touchmove",m,b)}},[m,f,d]),p=rs(function(g){g&&(g.removeEventListener("wheel",d,!1),g.removeEventListener("touchstart",f,!1),g.removeEventListener("touchmove",m,!1))},[m,f,d]);return zw(function(){if(e){var g=c.current;return h(g),function(){p(g)}}},[e,h,p]),function(g){c.current=g}}var $w=["boxSizing","height","overflow","paddingRight","position"],kw={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function jw(t){t.cancelable&&t.preventDefault()}function Ow(t){t.stopPropagation()}function Mw(){var t=this.scrollTop,e=this.scrollHeight,o=t+this.offsetHeight;t===0?this.scrollTop=1:o===e&&(this.scrollTop=t-1)}function Bw(){return"ontouchstart"in window||navigator.maxTouchPoints}var Vw=!!(typeof window<"u"&&window.document&&window.document.createElement),Jl=0,da={capture:!1,passive:!1};function K5(t){var e=t.isEnabled,o=t.accountForScrollbars,n=o===void 0?!0:o,r=ma({}),s=ma(null),i=rs(function(a){if(Vw){var c=document.body,u=c&&c.style;if(n&&$w.forEach(function(h){var p=u&&u[h];r.current[h]=p}),n&&Jl<1){var d=parseInt(r.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,m=window.innerWidth-f+d||0;Object.keys(kw).forEach(function(h){var p=kw[h];u&&(u[h]=p)}),u&&(u.paddingRight="".concat(m,"px"))}c&&Bw()&&(c.addEventListener("touchmove",jw,da),a&&(a.addEventListener("touchstart",Mw,da),a.addEventListener("touchmove",Ow,da))),Jl+=1}},[n]),l=rs(function(a){if(Vw){var c=document.body,u=c&&c.style;Jl=Math.max(Jl-1,0),n&&Jl<1&&$w.forEach(function(d){var f=r.current[d];u&&(u[d]=f)}),c&&Bw()&&(c.removeEventListener("touchmove",jw,da),a&&(a.removeEventListener("touchstart",Mw,da),a.removeEventListener("touchmove",Ow,da)))}},[n]);return zw(function(){if(e){var a=s.current;return i(a),function(){l(a)}}},[e,i,l]),function(a){s.current=a}}var eN=function(e){var o=e.target;return o.ownerDocument.activeElement&&o.ownerDocument.activeElement.blur()},tN={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function oN(t){var e=t.children,o=t.lockEnabled,n=t.captureEnabled,r=n===void 0?!0:n,s=t.onBottomArrive,i=t.onBottomLeave,l=t.onTopArrive,a=t.onTopLeave,c=Q5({isEnabled:r,onBottomArrive:s,onBottomLeave:i,onTopArrive:l,onTopLeave:a}),u=K5({isEnabled:o}),d=function(m){c(m),u(m)};return _e(Uh,null,o&&_e("div",{onClick:eN,css:tN}),e(d))}var rN={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},nN=function(e){var o=e.name,n=e.onFocus;return _e("input",{required:!0,name:o,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:rN,value:"",onChange:function(){}})},sN=nN;function Zh(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function iN(){return Zh(/^iPhone/i)}function Yw(){return Zh(/^Mac/i)}function aN(){return Zh(/^iPad/i)||Yw()&&navigator.maxTouchPoints>1}function lN(){return iN()||aN()}function cN(){return Yw()||lN()}var uN=function(e){return e.label},Jh=function(e){return e.label},qh=function(e){return e.value},dN=function(e){return!!e.isDisabled},mN={clearIndicator:hw,container:lw,control:vw,dropdownIndicator:pw,group:xw,groupHeading:yw,indicatorsContainer:uw,indicatorSeparator:gw,input:Cw,loadingIndicator:bw,loadingMessage:iw,menu:ew,menuList:rw,menuPortal:aw,multiValue:Sw,multiValueLabel:Iw,multiValueRemove:Rw,noOptionsMessage:sw,option:Dw,placeholder:Fw,singleValue:Aw,valueContainer:cw};var fN={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},pN=4,Zw=4,hN=38,gN=Zw*2,bN={baseUnit:Zw,controlHeight:hN,menuGutter:gN},zh={borderRadius:pN,colors:fN,spacing:bN},vN={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Wh(),captureMenuScroll:!Wh(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Y5(),formatGroupLabel:uN,getOptionLabel:Jh,getOptionValue:qh,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:dN,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!YC(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var o=e.count;return"".concat(o," result").concat(o!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Gw(t,e,o,n){var r=Qw(t,e,o),s=Kw(t,e,o),i=qw(t,e),l=im(t,e);return{type:"option",data:e,isDisabled:r,isSelected:s,label:i,value:l,index:n}}function sm(t,e){return t.options.map(function(o,n){if("options"in o){var r=o.options.map(function(i,l){return Gw(t,i,e,l)}).filter(function(i){return Hw(t,i)});return r.length>0?{type:"group",data:o,options:r,index:n}:void 0}var s=Gw(t,o,e,n);return Hw(t,s)?s:void 0}).filter(qC)}function Jw(t){return t.reduce(function(e,o){return o.type==="group"?e.push.apply(e,ts(o.options.map(function(n){return n.data}))):e.push(o.data),e},[])}function Ww(t,e){return t.reduce(function(o,n){return n.type==="group"?o.push.apply(o,ts(n.options.map(function(r){return{data:r.data,id:"".concat(e,"-").concat(n.index,"-").concat(r.index)}}))):o.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),o},[])}function xN(t,e){return Jw(sm(t,e))}function Hw(t,e){var o=t.inputValue,n=o===void 0?"":o,r=e.data,s=e.isSelected,i=e.label,l=e.value;return(!t2(t)||!s)&&e2(t,{label:i,value:l,data:r},n)}function yN(t,e){var o=t.focusedValue,n=t.selectValue,r=n.indexOf(o);if(r>-1){var s=e.indexOf(o);if(s>-1)return o;if(r<e.length)return e[r]}return null}function CN(t,e){var o=t.focusedOption;return o&&e.indexOf(o)>-1?o:e[0]}var Xh=function(e,o){var n,r=(n=e.find(function(s){return s.data===o}))===null||n===void 0?void 0:n.id;return r||null},qw=function(e,o){return e.getOptionLabel(o)},im=function(e,o){return e.getOptionValue(o)};function Qw(t,e,o){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,o):!1}function Kw(t,e,o){if(o.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,o);var n=im(t,e);return o.some(function(r){return im(t,r)===n})}function e2(t,e,o){return t.filterOption?t.filterOption(e,o):!0}var t2=function(e){var o=e.hideSelectedOptions,n=e.isMulti;return o===void 0?n:o},wN=1,ql=function(t){zy(o,t);var e=Uy(o);function o(n){var r;if(Gy(this,o),r=e.call(this,n),r.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.isAppleDevice=cN(),r.controlRef=null,r.getControlRef=function(a){r.controlRef=a},r.focusedOptionRef=null,r.getFocusedOptionRef=function(a){r.focusedOptionRef=a},r.menuListRef=null,r.getMenuListRef=function(a){r.menuListRef=a},r.inputRef=null,r.getInputRef=function(a){r.inputRef=a},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(a,c){var u=r.props,d=u.onChange,f=u.name;c.name=f,r.ariaOnChange(a,c),d(a,c)},r.setValue=function(a,c,u){var d=r.props,f=d.closeMenuOnSelect,m=d.isMulti,h=d.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:h}),f&&(r.setState({inputIsHiddenAfterUpdate:!m}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(a,{action:c,option:u})},r.selectOption=function(a){var c=r.props,u=c.blurInputOnSelect,d=c.isMulti,f=c.name,m=r.state.selectValue,h=d&&r.isOptionSelected(a,m),p=r.isOptionDisabled(a,m);if(h){var g=r.getOptionValue(a);r.setValue(m.filter(function(b){return r.getOptionValue(b)!==g}),"deselect-option",a)}else if(!p)d?r.setValue([].concat(ts(m),[a]),"select-option",a):r.setValue(a,"select-option");else{r.ariaOnChange(a,{action:"select-option",option:a,name:f});return}u&&r.blurInput()},r.removeValue=function(a){var c=r.props.isMulti,u=r.state.selectValue,d=r.getOptionValue(a),f=u.filter(function(h){return r.getOptionValue(h)!==d}),m=Ks(c,f,f[0]||null);r.onChange(m,{action:"remove-value",removedValue:a}),r.focusInput()},r.clearValue=function(){var a=r.state.selectValue;r.onChange(Ks(r.props.isMulti,[],null),{action:"clear",removedValues:a})},r.popValue=function(){var a=r.props.isMulti,c=r.state.selectValue,u=c[c.length-1],d=c.slice(0,c.length-1),f=Ks(a,d,d[0]||null);u&&r.onChange(f,{action:"pop-value",removedValue:u})},r.getFocusedOptionId=function(a){return Xh(r.state.focusableOptionsWithIds,a)},r.getFocusableOptionsWithIds=function(){return Ww(sm(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return zC.apply(void 0,[r.props.classNamePrefix].concat(c))},r.getOptionLabel=function(a){return qw(r.props,a)},r.getOptionValue=function(a){return im(r.props,a)},r.getStyles=function(a,c){var u=r.props.unstyled,d=mN[a](c,u);d.boxSizing="border-box";var f=r.props.styles[a];return f?f(d,c):d},r.getClassNames=function(a,c){var u,d;return(u=(d=r.props.classNames)[a])===null||u===void 0?void 0:u.call(d,c)},r.getElementId=function(a){return"".concat(r.state.instancePrefix,"-").concat(a)},r.getComponents=function(){return Tw(r.props)},r.buildCategorizedOptions=function(){return sm(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return Jw(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(a,c){r.setState({ariaSelection:Ie({value:a},c)})},r.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(a){r.blockOptionHover=!1},r.onControlMouseDown=function(a){if(!a.defaultPrevented){var c=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&r.onMenuClose():c&&r.openMenu("first"):(c&&(r.openAfterFocus=!0),r.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},r.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!r.props.isDisabled){var c=r.props,u=c.isMulti,d=c.menuIsOpen;r.focusInput(),d?(r.setState({inputIsHiddenAfterUpdate:!u}),r.onMenuClose()):r.openMenu("first"),a.preventDefault()}},r.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(r.clearValue(),a.preventDefault(),r.openAfterFocus=!1,a.type==="touchend"?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(a){typeof r.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&Yl(a.target)&&r.props.onMenuClose():typeof r.props.closeMenuOnScroll=="function"&&r.props.closeMenuOnScroll(a)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(a){var c=a.touches,u=c&&c.item(0);u&&(r.initialTouchX=u.clientX,r.initialTouchY=u.clientY,r.userIsDragging=!1)},r.onTouchMove=function(a){var c=a.touches,u=c&&c.item(0);if(u){var d=Math.abs(u.clientX-r.initialTouchX),f=Math.abs(u.clientY-r.initialTouchY),m=5;r.userIsDragging=d>m||f>m}},r.onTouchEnd=function(a){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(a.target)&&r.menuListRef&&!r.menuListRef.contains(a.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(a){r.userIsDragging||r.onControlMouseDown(a)},r.onClearIndicatorTouchEnd=function(a){r.userIsDragging||r.onClearIndicatorMouseDown(a)},r.onDropdownIndicatorTouchEnd=function(a){r.userIsDragging||r.onDropdownIndicatorMouseDown(a)},r.handleInputChange=function(a){var c=r.props.inputValue,u=a.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(u,{action:"input-change",prevInputValue:c}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(a){r.props.onFocus&&r.props.onFocus(a),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(a){var c=r.props.inputValue;if(r.menuListRef&&r.menuListRef.contains(document.activeElement)){r.inputRef.focus();return}r.props.onBlur&&r.props.onBlur(a),r.onInputChange("",{action:"input-blur",prevInputValue:c}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1})},r.onOptionHover=function(a){if(!(r.blockOptionHover||r.state.focusedOption===a)){var c=r.getFocusableOptions(),u=c.indexOf(a);r.setState({focusedOption:a,focusedOptionId:u>-1?r.getFocusedOptionId(a):null})}},r.shouldHideSelectedOptions=function(){return t2(r.props)},r.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),r.focus()},r.onKeyDown=function(a){var c=r.props,u=c.isMulti,d=c.backspaceRemovesValue,f=c.escapeClearsValue,m=c.inputValue,h=c.isClearable,p=c.isDisabled,g=c.menuIsOpen,b=c.onKeyDown,v=c.tabSelectsValue,x=c.openMenuOnFocus,y=r.state,C=y.focusedOption,S=y.focusedValue,w=y.selectValue;if(!p&&!(typeof b=="function"&&(b(a),a.defaultPrevented))){switch(r.blockOptionHover=!0,a.key){case"ArrowLeft":if(!u||m)return;r.focusValue("previous");break;case"ArrowRight":if(!u||m)return;r.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(S)r.removeValue(S);else{if(!d)return;u?r.popValue():h&&r.clearValue()}break;case"Tab":if(r.isComposing||a.shiftKey||!g||!v||!C||x&&r.isOptionSelected(C,w))return;r.selectOption(C);break;case"Enter":if(a.keyCode===229)break;if(g){if(!C||r.isComposing)return;r.selectOption(C);break}return;case"Escape":g?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:m}),r.onMenuClose()):h&&f&&r.clearValue();break;case" ":if(m)return;if(!g){r.openMenu("first");break}if(!C)return;r.selectOption(C);break;case"ArrowUp":g?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":g?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!g)return;r.focusOption("pageup");break;case"PageDown":if(!g)return;r.focusOption("pagedown");break;case"Home":if(!g)return;r.focusOption("first");break;case"End":if(!g)return;r.focusOption("last");break;default:return}a.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++wN),r.state.selectValue=ua(n.value),n.menuIsOpen&&r.state.selectValue.length){var s=r.getFocusableOptionsWithIds(),i=r.buildFocusableOptions(),l=i.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=s,r.state.focusedOption=i[l],r.state.focusedOptionId=Xh(s,i[l])}return r}return Hy(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Gh(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(r){var s=this.props,i=s.isDisabled,l=s.menuIsOpen,a=this.state.isFocused;(a&&!i&&r.isDisabled||a&&l&&!r.menuIsOpen)&&this.focusInput(),a&&i&&!r.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!a&&!i&&r.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Gh(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,s){this.props.onInputChange(r,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(r){var s=this,i=this.state,l=i.selectValue,a=i.isFocused,c=this.buildFocusableOptions(),u=r==="first"?0:c.length-1;if(!this.props.isMulti){var d=c.indexOf(l[0]);d>-1&&(u=d)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[u],focusedOptionId:this.getFocusedOptionId(c[u])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(r){var s=this.state,i=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=i.indexOf(l);l||(a=-1);var c=i.length-1,u=-1;if(i.length){switch(r){case"previous":a===0?u=0:a===-1?u=c:u=a-1;break;case"next":a>-1&&a<c&&(u=a+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:i[u]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var a=0,c=l.indexOf(i);i||(c=-1),r==="up"?a=c>0?c-1:l.length-1:r==="down"?a=(c+1)%l.length:r==="pageup"?(a=c-s,a<0&&(a=0)):r==="pagedown"?(a=c+s,a>l.length-1&&(a=l.length-1)):r==="last"&&(a=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[a])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(zh):Ie(Ie({},zh),this.props.theme):zh}},{key:"getCommonProps",value:function(){var r=this.clearValue,s=this.cx,i=this.getStyles,l=this.getClassNames,a=this.getValue,c=this.selectOption,u=this.setValue,d=this.props,f=d.isMulti,m=d.isRtl,h=d.options,p=this.hasValue();return{clearValue:r,cx:s,getStyles:i,getClassNames:l,getValue:a,hasValue:p,isMulti:f,isRtl:m,options:h,selectOption:c,selectProps:d,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,s=r.isClearable,i=r.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(r,s){return Qw(this.props,r,s)}},{key:"isOptionSelected",value:function(r,s){return Kw(this.props,r,s)}},{key:"filterOption",value:function(r,s){return e2(this.props,r,s)}},{key:"formatOptionLabel",value:function(r,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(r,{context:s,inputValue:i,selectValue:l})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,s=r.isDisabled,i=r.isSearchable,l=r.inputId,a=r.inputValue,c=r.tabIndex,u=r.form,d=r.menuIsOpen,f=r.required,m=this.getComponents(),h=m.Input,p=this.state,g=p.inputIsHidden,b=p.ariaSelection,v=this.commonProps,x=l||this.getElementId("input"),y=Ie(Ie(Ie({"aria-autocomplete":"list","aria-expanded":d,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},d&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?b?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?ct.createElement(h,Se({},v,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:x,innerRef:this.getInputRef,isDisabled:s,isHidden:g,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:u,type:"text",value:a},y)):ct.createElement(J5,Se({id:x,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ul,onFocus:this.onInputFocus,disabled:s,tabIndex:c,inputMode:"none",form:u,value:""},y))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,s=this.getComponents(),i=s.MultiValue,l=s.MultiValueContainer,a=s.MultiValueLabel,c=s.MultiValueRemove,u=s.SingleValue,d=s.Placeholder,f=this.commonProps,m=this.props,h=m.controlShouldRenderValue,p=m.isDisabled,g=m.isMulti,b=m.inputValue,v=m.placeholder,x=this.state,y=x.selectValue,C=x.focusedValue,S=x.isFocused;if(!this.hasValue()||!h)return b?null:ct.createElement(d,Se({},f,{key:"placeholder",isDisabled:p,isFocused:S,innerProps:{id:this.getElementId("placeholder")}}),v);if(g)return y.map(function(F,R){var A=F===C,D="".concat(r.getOptionLabel(F),"-").concat(r.getOptionValue(F));return ct.createElement(i,Se({},f,{components:{Container:l,Label:a,Remove:c},isFocused:A,isDisabled:p,key:D,index:R,removeProps:{onClick:function(){return r.removeValue(F)},onTouchEnd:function(){return r.removeValue(F)},onMouseDown:function(I){I.preventDefault()}},data:F}),r.formatOptionLabel(F,"value"))});if(b)return null;var w=y[0];return ct.createElement(u,Se({},f,{data:w,isDisabled:p}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),s=r.ClearIndicator,i=this.commonProps,l=this.props,a=l.isDisabled,c=l.isLoading,u=this.state.isFocused;if(!this.isClearable()||!s||a||!this.hasValue()||c)return null;var d={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return ct.createElement(s,Se({},i,{innerProps:d,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),s=r.LoadingIndicator,i=this.commonProps,l=this.props,a=l.isDisabled,c=l.isLoading,u=this.state.isFocused;if(!s||!c)return null;var d={"aria-hidden":"true"};return ct.createElement(s,Se({},i,{innerProps:d,isDisabled:a,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator,i=r.IndicatorSeparator;if(!s||!i)return null;var l=this.commonProps,a=this.props.isDisabled,c=this.state.isFocused;return ct.createElement(i,Se({},l,{isDisabled:a,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator;if(!s)return null;var i=this.commonProps,l=this.props.isDisabled,a=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return ct.createElement(s,Se({},i,{innerProps:c,isDisabled:l,isFocused:a}))}},{key:"renderMenu",value:function(){var r=this,s=this.getComponents(),i=s.Group,l=s.GroupHeading,a=s.Menu,c=s.MenuList,u=s.MenuPortal,d=s.LoadingMessage,f=s.NoOptionsMessage,m=s.Option,h=this.commonProps,p=this.state.focusedOption,g=this.props,b=g.captureMenuScroll,v=g.inputValue,x=g.isLoading,y=g.loadingMessage,C=g.minMenuHeight,S=g.maxMenuHeight,w=g.menuIsOpen,F=g.menuPlacement,R=g.menuPosition,A=g.menuPortalTarget,D=g.menuShouldBlockScroll,_=g.menuShouldScrollIntoView,I=g.noOptionsMessage,T=g.onMenuScrollToTop,E=g.onMenuScrollToBottom;if(!w)return null;var $=function(O,B){var G=O.type,X=O.data,Z=O.isDisabled,oe=O.isSelected,z=O.label,Y=O.value,le=p===X,J=Z?void 0:function(){return r.onOptionHover(X)},ue=Z?void 0:function(){return r.selectOption(X)},te="".concat(r.getElementId("option"),"-").concat(B),K={id:te,onClick:ue,onMouseMove:J,onMouseOver:J,tabIndex:-1,role:"option","aria-selected":r.isAppleDevice?void 0:oe};return ct.createElement(m,Se({},h,{innerProps:K,data:X,isDisabled:Z,isSelected:oe,key:te,label:z,type:G,value:Y,isFocused:le,innerRef:le?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(O.data,"menu"))},j;if(this.hasOptions())j=this.getCategorizedOptions().map(function(M){if(M.type==="group"){var O=M.data,B=M.options,G=M.index,X="".concat(r.getElementId("group"),"-").concat(G),Z="".concat(X,"-heading");return ct.createElement(i,Se({},h,{key:X,data:O,options:B,Heading:l,headingProps:{id:Z,data:M.data},label:r.formatGroupLabel(M.data)}),M.options.map(function(oe){return $(oe,"".concat(G,"-").concat(oe.index))}))}else if(M.type==="option")return $(M,"".concat(M.index))});else if(x){var N=y({inputValue:v});if(N===null)return null;j=ct.createElement(d,h,N)}else{var P=I({inputValue:v});if(P===null)return null;j=ct.createElement(f,h,P)}var L={minMenuHeight:C,maxMenuHeight:S,menuPlacement:F,menuPosition:R,menuShouldScrollIntoView:_},V=ct.createElement(ow,Se({},h,L),function(M){var O=M.ref,B=M.placerProps,G=B.placement,X=B.maxHeight;return ct.createElement(a,Se({},h,L,{innerRef:O,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:x,placement:G}),ct.createElement(oN,{captureEnabled:b,onTopArrive:T,onBottomArrive:E,lockEnabled:D},function(Z){return ct.createElement(c,Se({},h,{innerRef:function(z){r.getMenuListRef(z),Z(z)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:r.getElementId("listbox")},isLoading:x,maxHeight:X,focusedOption:p}),j)}))});return A||R==="fixed"?ct.createElement(u,Se({},h,{appendTo:A,controlElement:this.controlRef,menuPlacement:F,menuPosition:R}),V):V}},{key:"renderFormField",value:function(){var r=this,s=this.props,i=s.delimiter,l=s.isDisabled,a=s.isMulti,c=s.name,u=s.required,d=this.state.selectValue;if(u&&!this.hasValue()&&!l)return ct.createElement(sN,{name:c,onFocus:this.onValueInputFocus});if(!(!c||l))if(a)if(i){var f=d.map(function(p){return r.getOptionValue(p)}).join(i);return ct.createElement("input",{name:c,type:"hidden",value:f})}else{var m=d.length>0?d.map(function(p,g){return ct.createElement("input",{key:"i-".concat(g),name:c,type:"hidden",value:r.getOptionValue(p)})}):ct.createElement("input",{name:c,type:"hidden",value:""});return ct.createElement("div",null,m)}else{var h=d[0]?this.getOptionValue(d[0]):"";return ct.createElement("input",{name:c,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,s=this.state,i=s.ariaSelection,l=s.focusedOption,a=s.focusedValue,c=s.isFocused,u=s.selectValue,d=this.getFocusableOptions();return ct.createElement(H5,Se({},r,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:l,focusedValue:a,isFocused:c,selectValue:u,focusableOptions:d,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var r=this.getComponents(),s=r.Control,i=r.IndicatorsContainer,l=r.SelectContainer,a=r.ValueContainer,c=this.props,u=c.className,d=c.id,f=c.isDisabled,m=c.menuIsOpen,h=this.state.isFocused,p=this.commonProps=this.getCommonProps();return ct.createElement(l,Se({},p,{className:u,innerProps:{id:d,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:h}),this.renderLiveRegion(),ct.createElement(s,Se({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:h,menuIsOpen:m}),ct.createElement(a,Se({},p,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),ct.createElement(i,Se({},p,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,s){var i=s.prevProps,l=s.clearFocusValueOnUpdate,a=s.inputIsHiddenAfterUpdate,c=s.ariaSelection,u=s.isFocused,d=s.prevWasFocused,f=s.instancePrefix,m=r.options,h=r.value,p=r.menuIsOpen,g=r.inputValue,b=r.isMulti,v=ua(h),x={};if(i&&(h!==i.value||m!==i.options||p!==i.menuIsOpen||g!==i.inputValue)){var y=p?xN(r,v):[],C=p?Ww(sm(r,v),"".concat(f,"-option")):[],S=l?yN(s,v):null,w=CN(s,y),F=Xh(C,w);x={selectValue:v,focusedOption:w,focusedOptionId:F,focusableOptionsWithIds:C,focusedValue:S,clearFocusValueOnUpdate:!1}}var R=a!=null&&r!==i?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},A=c,D=u&&d;return u&&!D&&(A={value:Ks(b,v,v[0]||null),options:v,action:"initial-input-focus"},D=!d),c?.action==="initial-input-focus"&&(A=null),Ie(Ie(Ie({},x),R),{},{prevProps:r,ariaSelection:A,prevWasFocused:D})}}]),o}(M5);ql.defaultProps=vN;import"react-dom";var IN=SN(function(t,e){var o=Ad(t);return o2.createElement(ql,Se({ref:e},o))}),r2=IN;import*as a2 from"react";import{forwardRef as DN}from"react";import{useMemo as n2,useCallback as RN}from"react";var _N=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],s2=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=String(e).toLowerCase(),s=String(n.getOptionValue(o)).toLowerCase(),i=String(n.getOptionLabel(o)).toLowerCase();return s===r||i===r},Qh={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,o,n,r){return!(!e||o.some(function(s){return s2(e,s,r)})||n.some(function(s){return s2(e,s,r)}))},getNewOptionData:function(e,o){return{label:o,value:e,__isNew__:!0}}};function i2(t){var e=t.allowCreateWhileLoading,o=e===void 0?!1:e,n=t.createOptionPosition,r=n===void 0?"last":n,s=t.formatCreateLabel,i=s===void 0?Qh.formatCreateLabel:s,l=t.isValidNewOption,a=l===void 0?Qh.isValidNewOption:l,c=t.getNewOptionData,u=c===void 0?Qh.getNewOptionData:c,d=t.onCreateOption,f=t.options,m=f===void 0?[]:f,h=t.onChange,p=Bo(t,_N),g=p.getOptionValue,b=g===void 0?qh:g,v=p.getOptionLabel,x=v===void 0?Jh:v,y=p.inputValue,C=p.isLoading,S=p.isMulti,w=p.value,F=p.name,R=n2(function(){return a(y,ua(w),m,{getOptionValue:b,getOptionLabel:x})?u(y,i(y)):void 0},[i,u,x,b,y,a,m,w]),A=n2(function(){return(o||!C)&&R?r==="first"?[R].concat(ts(m)):[].concat(ts(m),[R]):m},[o,r,C,R,m]),D=RN(function(_,I){if(I.action!=="select-option")return h(_,I);var T=Array.isArray(_)?_:[_];if(T[T.length-1]===R){if(d)d(y);else{var E=u(y,y),$={action:"create-option",name:F,option:E};h(Ks(S,[].concat(ts(ua(w)),[E]),E),$)}return}h(_,I)},[u,y,S,F,R,d,h,w]);return Ie(Ie({},p),{},{options:A,onChange:D})}import"react-dom";var FN=DN(function(t,e){var o=Ad(t),n=i2(o);return a2.createElement(ql,Se({ref:e},n))}),l2=FN;import{jsx as c2}from"react/jsx-runtime";import"react";var u2="clear-indicator",Kh=t=>{let{clearValue:e,innerProps:{ref:o,...n}}=t;return c2("div",{className:u2,ref:typeof o=="string"?null:o,...n,onKeyDown:r=>{r.key==="Enter"&&(e(),r.stopPropagation())},role:"button",tabIndex:0,children:c2(ft,{className:`${u2}__icon`})})};import{jsx as d2}from"react/jsx-runtime";import AN from"react";var eg=t=>{let{children:e,innerProps:o,selectProps:{customProps:{disableKeyDown:n,disableMouseDown:r}={}}={}}=t;return d2(AN.Fragment,{children:d2(lo.Control,{...t,innerProps:{...o,onKeyDown:s=>{if(n){s.stopPropagation();let i=new CustomEvent("bypassKeyDown",{detail:s});document.dispatchEvent(i)}},onMouseDown:s=>{r||o.onMouseDown(s)}},children:e})})};import{jsx as m2}from"react/jsx-runtime";import"react";var f2="dropdown-indicator",tg=t=>{let{innerProps:{ref:e,...o}}=t;return m2("button",{className:f2,ref:e,...o,onKeyDown:n=>{n.key==="Enter"&&(n.key=" ")},type:"button",children:m2(Je,{className:`${f2}__icon`})})};import{jsx as p2}from"react/jsx-runtime";import TN from"react";var og=t=>p2(TN.Fragment,{children:p2(lo.Input,{...t,"aria-activedescendant":void 0})});import{c as EN}from"react/compiler-runtime";import{jsx as h2}from"react/jsx-runtime";import PN from"react";var g2="multi-value";function rg(t,e){return typeof e=="function"?e(t):t.value}var ng=t=>{let e=EN(26),{className:o,data:n,innerProps:r,isDisabled:s,selectProps:i}=t,l;e[0]!==i?(l=i===void 0?{}:i,e[0]=i,e[1]=l):l=e[1];let{customProps:a,getOptionValue:c,isSortable:u}=l,d;e[2]!==a?(d=a===void 0?{}:a,e[2]=a,e[3]=d):d=e[3];let{disableMouseDown:f}=d,m;e[4]!==n||e[5]!==c?(m=rg(n,c),e[4]=n,e[5]=c,e[6]=m):m=e[6];let h=!u,p;e[7]!==m||e[8]!==h?(p={id:m,disabled:h},e[7]=m,e[8]=h,e[9]=p):p=e[9];let{attributes:g,isDragging:b,listeners:v,setNodeRef:x,transform:y}=Oi(p),C=!s&&u&&"draggable",S=b&&`${g2}--is-dragging`,w;e[10]!==o||e[11]!==C||e[12]!==S?(w=[g2,o,C,S].filter(Boolean),e[10]=o,e[11]=C,e[12]=S,e[13]=w):w=e[13];let F=w.join(" "),R;if(e[14]!==g||e[15]!==F||e[16]!==f||e[17]!==r||e[18]!==u||e[19]!==v||e[20]!==t||e[21]!==x||e[22]!==y){let A;e[24]!==f?(A=D=>{f||D.stopPropagation()},e[24]=f,e[25]=A):A=e[25],R=h2(PN.Fragment,{children:h2(lo.MultiValue,{...t,className:F,innerProps:{...u?{...g,...v}:{},...r,onMouseDown:A,ref:x,style:u?{transform:y,...g?.style}:{}}})}),e[14]=g,e[15]=F,e[16]=f,e[17]=r,e[18]=u,e[19]=v,e[20]=t,e[21]=x,e[22]=y,e[23]=R}else R=e[23];return R};import{jsx as b2}from"react/jsx-runtime";import"react";var v2="multi-value-label",sg=t=>{let{data:e,selectProps:{customProps:{draggableProps:o,editableProps:n}={}}={}}=t,r=`${v2}__text`;return b2("div",{className:v2,children:b2(lo.MultiValueLabel,{...t,innerProps:{className:r,...n&&n(e,r,t.selectProps)||{},...o||{}}})})};import{c as NN}from"react/compiler-runtime";import{jsx as x2,jsxs as LN}from"react/jsx-runtime";import $N from"react";var ig="multi-value-remove",ag=t=>{let e=NN(12),{innerProps:o}=t,{className:n,onClick:r,onTouchEnd:s}=o,[i,l]=$N.useState(!1),{t:a}=k(),c;if(e[0]!==n||e[1]!==r||e[2]!==s||e[3]!==i||e[4]!==a){let u=a("general:remove"),d;e[6]!==n?(d=[ig,n].filter(Boolean),e[6]=n,e[7]=d):d=e[7];let f;e[8]!==r?(f=p=>{l(!1),r(p)},e[8]=r,e[9]=f):f=e[9];let m,h;e[10]===Symbol.for("react.memo_cache_sentinel")?(m=()=>l(!0),h=()=>l(!1),e[10]=m,e[11]=h):(m=e[10],h=e[11]),c=LN("button",{"aria-label":u,className:d.join(" "),onClick:f,onKeyDown:kN,onMouseDown:jN,onMouseEnter:m,onMouseLeave:h,onTouchEnd:s,type:"button",children:[x2(ho,{className:`${ig}__tooltip`,show:i,children:a("general:remove")}),x2(ft,{className:`${ig}__icon`})]}),e[0]=n,e[1]=r,e[2]=s,e[3]=i,e[4]=a,e[5]=c}else c=e[5];return c};function kN(t){t.key==="Enter"&&t.stopPropagation()}function jN(t){return t.stopPropagation()}import{jsx as y2}from"react/jsx-runtime";import ON from"react";var MN="react-select--single-value",lg=t=>{let{children:e,className:o}=t;return y2(ON.Fragment,{children:y2(lo.SingleValue,{...t,className:[MN,o].filter(Boolean).join(" "),children:e})})};import{jsx as C2}from"react/jsx-runtime";import"react";var BN="value-container",cg=t=>{let{selectProps:{customProps:e}={}}=t;return C2("div",{className:BN,ref:e?.droppableRef,children:C2(lo.ValueContainer,{...t})})};var WN=t=>({label:t,value:t}),I2=t=>{let{i18n:e,t:o}=k(),[n,r]=S2.useState(""),s=GN(),[i,l]=S2.useState(!1);VN(()=>{l(!0)},[]);let{className:a,components:c,customProps:u,disabled:d=!1,filterOption:f=void 0,getOptionValue:m,isClearable:h=!0,isCreatable:p,isLoading:g,isSearchable:b=!0,noOptionsMessage:v=()=>o("general:noOptions"),numberOnly:x=!1,onChange:y,onMenuClose:C,onMenuOpen:S,options:w,placeholder:F=o("general:selectValue"),showError:R,value:A}=t,D=()=>o("general:loading")+"...",_=[a,"react-select",R&&"react-select--error"].filter(Boolean).join(" "),I={menu:E=>({...E,zIndex:void 0})};if(!i)return ei(St,{height:"calc(var(--base) * 2 + 2px)"});if(!p)return ei(r2,{captureMenuScroll:!0,customProps:u,isLoading:g,placeholder:w2(F,e),...t,className:_,classNamePrefix:"rs",components:{ClearIndicator:Kh,Control:eg,DropdownIndicator:tg,Input:og,MultiValue:ng,MultiValueLabel:sg,MultiValueRemove:ag,SingleValue:lg,ValueContainer:cg,...c},filterOption:f,getOptionValue:m,instanceId:s,isClearable:h,isDisabled:d,isSearchable:b,loadingMessage:D,menuPlacement:"auto",noOptionsMessage:v,onChange:y,onMenuClose:C,onMenuOpen:S,options:w,styles:I,unstyled:!0,value:A});let T=E=>{if(x===!0){let $=["Tab","Escape","Backspace","Enter","ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],j=!/\D/.test(E.key),N=$.includes(E.key);if(!j&&!N){E.preventDefault();return}}if(!(!A||!n||n.trim()==="")&&!(f&&!f(null,n)))switch(E.key){case"Enter":case"Tab":y([...A,WN(n)]),r(""),E.preventDefault();break;default:break}};return ei(l2,{captureMenuScroll:!0,isLoading:g,placeholder:w2(F,e),...t,className:_,classNamePrefix:"rs",components:{ClearIndicator:Kh,Control:eg,DropdownIndicator:tg,Input:og,MultiValue:ng,MultiValueLabel:sg,MultiValueRemove:ag,SingleValue:lg,ValueContainer:cg,...c},filterOption:f,inputValue:n,instanceId:s,isClearable:h,isDisabled:d,isSearchable:b,loadingMessage:D,menuPlacement:"auto",noOptionsMessage:v,onChange:y,onInputChange:E=>r(E),onKeyDown:T,onMenuClose:C,onMenuOpen:S,options:w,styles:I,unstyled:!0,value:A})},HN=t=>{let{getOptionValue:e,onChange:o,value:n}=t,r=[];return n&&(r=(Array.isArray(n)?n:[n]).map(s=>rg(s,e))),ei(lr,{className:"react-select-container",ids:r,onDragEnd:({moveFromIndex:s,moveToIndex:i})=>{let l=n;n&&Array.isArray(n)&&(l=zu(n,s,i)),o(l)},children:ei(I2,{...t})})},mt=t=>{let{isMulti:e,isSortable:o}=t;return e&&o?ei(HN,{...t}):ei(I2,{...t})};var Ql=t=>t.map(e=>typeof e=="object"&&(e.value||e.value==="")?e:{label:e,value:e});var Kl=t=>{let{id:e,onChange:o,options:n,required:r,selectedTimezone:s}=t,{t:i}=k(),l=Ql(n),a=XN(()=>l.find(c=>(typeof c=="string"?c:c.value)===(s||"UTC")),[l,s]);return zN("div",{className:"timezone-picker-wrapper",children:[R2(ve,{htmlFor:e,label:`${i("general:timezone")} ${r?"*":""}`,required:r,unstyled:!0}),R2(mt,{className:"timezone-picker",inputId:e,isClearable:!0,isCreatable:!1,onChange:c=>{o&&o(c?.value||"")},options:l,value:a})]})};var F2="date-time-field",YN=t=>{let{field:e,field:{admin:{className:o,date:n,description:r,placeholder:s}={},label:i,localized:l,required:a,timezone:c},path:u,readOnly:d,validate:f}=t,m=n?.pickerAppearance||"default",h=Intl.DateTimeFormat().resolvedOptions().timeZone,{config:p}=H(),{i18n:g}=k(),{dispatchFields:b,setModified:v}=Oe(),x=ug((O,B)=>{if(typeof f=="function")return f(O,{...B,required:a})},[f,a]),{customComponents:{AfterInput:y,BeforeInput:C,Description:S,Error:w,Label:F}={},disabled:R,path:A,setValue:D,showError:_,value:I}=Fe({potentiallyStalePath:u,validate:x}),T=A+"_tz",E=Nt(([O,B])=>O?.[T]),$=p.admin.timezones.supportedTimezones,j=["dayOnly","default","monthOnly"].includes(m),N=E?.value,P=D2(()=>{if(c&&N&&h&&I){let O=Bt.tz(N),B=Bt.tz(h),G=new Bt(I).withTimeZone(N),X=Dr(G,O);return Dr(X,B).toISOString()}return I},[c,N,I,h]),L=D2(()=>rt(e),[e]),V=ug(O=>{if(!(d||R))if(c&&N&&O){let B=Bt.tz(N);if(j){let G=O.getTimezoneOffset()/60,X=O.getHours()+G;O.setHours(X);let Z=Dr(O,B);D(Z.toISOString()||null)}else{let G=new Bt(O),X=Dr(G,B);D(X.toISOString()||null)}}else D(O?.toISOString()||null)},[d,R,c,N,j,D]),M=ug(O=>{T&&(b({type:"UPDATE",path:T,value:O}),v(!0))},[b,v,T]);return _2("div",{className:[ye,F2,o,_&&`${F2}--has-error`,(d||R)&&"read-only"].filter(Boolean).join(" "),style:L,children:[ns(re,{CustomComponent:F,Fallback:ns(ve,{label:i,localized:l,required:a})}),_2("div",{className:`${ye}__wrap`,id:`field-${A.replace(/\./g,"__")}`,children:[ns(re,{CustomComponent:w,Fallback:ns(Ge,{path:A,showError:_})}),C,ns(Qi,{...n,onChange:V,overrides:{...n?.overrides},placeholder:UN(s,g),readOnly:d||R,value:P}),c&&$.length>0&&ns(Kl,{id:`${A}-timezone-picker`,onChange:M,options:$,required:a,selectedTimezone:N}),y]}),ns(re,{CustomComponent:S,Fallback:ns(Be,{description:r,path:A})})]})},ec=$e(YN);import{jsx as ti,jsxs as A2}from"react/jsx-runtime";import{getTranslation as ZN}from"@payloadcms/translations";import{useCallback as JN,useMemo as qN}from"react";var QN=t=>{let{field:e,field:{admin:{autoComplete:o,className:n,description:r,placeholder:s}={},label:i,localized:l,required:a}={},path:c,readOnly:u,validate:d}=t,{i18n:f}=k(),m=JN((R,A)=>{if(typeof d=="function")return d(R,{...A,required:a})},[d,a]),{customComponents:{AfterInput:h,BeforeInput:p,Description:g,Error:b,Label:v}={},disabled:x,path:y,setValue:C,showError:S,value:w}=Fe({potentiallyStalePath:c,validate:m}),F=qN(()=>rt(e),[e]);return A2("div",{className:[ye,"email",n,S&&"error",(u||x)&&"read-only"].filter(Boolean).join(" "),style:F,children:[ti(re,{CustomComponent:v,Fallback:ti(ve,{label:i,localized:l,path:y,required:a})}),A2("div",{className:`${ye}__wrap`,children:[ti(re,{CustomComponent:b,Fallback:ti(Ge,{path:y,showError:S})}),p,ti("input",{autoComplete:o,disabled:u||x,id:`field-${y.replace(/\./g,"__")}`,name:y,onChange:C,placeholder:ZN(s,f),required:a,type:"email",value:w||""}),h]}),ti(re,{CustomComponent:g,Fallback:ti(Be,{description:r,path:y})})]})},oi=$e(QN);import{jsx as ss,jsxs as am}from"react/jsx-runtime";import{getTranslation as l9}from"@payloadcms/translations";import{useMemo as c9}from"react";import{jsx as KN}from"react/jsx-runtime";import{createContext as e9,use as t9}from"react";var T2=e9(!1),E2=({children:t,withinRow:e=!0})=>KN(T2,{value:e,children:t}),P2=()=>t9(T2);import{jsx as o9}from"react/jsx-runtime";import{createContext as r9,use as n9}from"react";var N2=r9(!1),dg=({children:t,withinTab:e=!0})=>o9(N2,{value:e,children:t}),L2=()=>n9(N2);import{jsx as s9}from"react/jsx-runtime";import{createContext as i9,use as a9}from"react";var $2=i9(!1),k2=({children:t,withinGroup:e=!0})=>s9($2,{value:e,children:t}),j2=()=>a9($2);var Lr="group-field",u9=t=>{let{field:e,field:{name:o,admin:{className:n,description:r,hideGutter:s}={},fields:i,label:l},path:a,permissions:c,readOnly:u,schemaPath:d}=t,f=d??o,{i18n:m}=k(),{isWithinCollapsible:h}=qn(),p=j2(),g=P2(),b=L2(),{customComponents:{AfterInput:v,BeforeInput:x,Description:y,Label:C}={},errorPaths:S}=Fe({path:a}),w=Yt(),F=S.length,R=w&&F>0,A=!(h||p||g),D=c9(()=>rt(e),[e]);return am("div",{className:[ye,Lr,A&&`${Lr}--top-level`,h&&`${Lr}--within-collapsible`,p&&`${Lr}--within-group`,g&&`${Lr}--within-row`,b&&`${Lr}--within-tab`,!s&&p&&`${Lr}--gutter`,R&&`${Lr}--has-error`,n].filter(Boolean).join(" "),id:`field-${a?.replace(/\./g,"__")}`,style:D,children:[ss(k2,{children:am("div",{className:`${Lr}__wrap`,children:[!!(C||y||l||R)&&am("div",{className:`${Lr}__header`,children:[!!(C||y||l)&&am("header",{children:[ss(re,{CustomComponent:C,Fallback:ss("h3",{className:`${Lr}__title`,children:ss(ve,{as:"span",label:l9(l,m),localized:!1,path:a,required:!1})})}),ss(re,{CustomComponent:y,Fallback:ss(Be,{description:r,path:a})})]}),R&&ss(so,{count:F,i18n:m,withMessage:!0})]}),x,ss(So,{fields:i,margins:"small",parentIndexPath:"",parentPath:a,parentSchemaPath:f,permissions:c===!0?c:c?.fields,readOnly:u})]})}),v]})};var tc=$e(u9);import{c as d9}from"react/compiler-runtime";import{jsx as m9}from"react/jsx-runtime";import{useEffect as f9}from"react";var p9=t=>{let e=d9(12),{disableModifyingForm:o,path:n,value:r}=t,s=o===void 0?!0:o,i;e[0]!==n?(i={potentiallyStalePath:n},e[0]=n,e[1]=i):i=e[1];let{path:l,setValue:a,value:c}=Fe(i),u,d;e[2]!==s||e[3]!==a||e[4]!==r?(u=()=>{r!==void 0&&a(r,s)},d=[r,a,s],e[2]=s,e[3]=a,e[4]=r,e[5]=u,e[6]=d):(u=e[5],d=e[6]),f9(u,d);let f=`field-${l?.replace(/\./g,"__")}`,m=c||"",h;return e[7]!==l||e[8]!==a||e[9]!==f||e[10]!==m?(h=m9("input",{id:f,name:l,onChange:a,type:"hidden",value:m}),e[7]=l,e[8]=a,e[9]=f,e[10]=m,e[11]=h):h=e[11],h},oc=$e(p9);var Mg=Ds(fg(),1);import{jsx as si,jsxs as c$}from"react/jsx-runtime";import{flattenTopLevelFields as u$}from"payload/shared";import{useMemo as H3}from"react";import{jsx as to,jsxs as ni}from"react/jsx-runtime";import{getTranslation as kg}from"@payloadcms/translations";import{hoistQueryParamsToAnd as l$,transformColumnsToPreferences as G3}from"payload/shared";import{Fragment as W3,useCallback as Sm,useEffect as jg,useState as Sn}from"react";import{c as v9}from"react/compiler-runtime";import{useInsertionEffect as x9,useRef as y9}from"react";function eo(t){let e=v9(4),o=y9(t),n,r;e[0]!==t?(n=()=>{o.current=t},r=[t],e[0]=t,e[1]=n,e[2]=r):(n=e[1],r=e[2]),x9(n,r);let s;return e[3]===Symbol.for("react.memo_cache_sentinel")?(s=(...i)=>{let l=i,a=o.current;return a(...l)},e[3]=s):s=e[3],s}import{jsx as Y2}from"react/jsx-runtime";import{useRouter as R9,useSearchParams as _9}from"next/navigation.js";import{isNumber as D9,transformColumnsToSearchParams as F9}from"payload/shared";import*as gg from"qs-esm";import A9,{useCallback as nc,useEffect as T9,useMemo as E9,useRef as P9,useState as Z2}from"react";import{jsx as C9}from"react/jsx-runtime";import{createContext as w9,use as S9}from"react";var H2=w9({}),pg=({children:t,...e})=>C9(H2,{value:{isInDrawer:!!e.drawerSlug,...e},children:t}),Qr=()=>{let t=S9(H2);if(!t)throw new Error("useListDrawerContext must be used within a ListDrawerContextProvider");return t};import*as z2 from"qs-esm";function $r(t){let e=t.toString();return z2.parse(e,{depth:10,ignoreQueryPrefix:!0})}import{createContext as X2,use as I9}from"react";var hg=X2({}),Rt=()=>I9(hg),U2=X2(!1);var bg=({children:t,collectionSlug:e,columns:o,data:n,defaultLimit:r,defaultSort:s,listPreferences:i,modifySearchParams:l,onQueryChange:a,orderableFieldName:c})=>{"use no memo";let u=R9(),d=_9(),{startRouteTransition:f}=st(),[m,h]=Z2(!1),p=E9(()=>$r(d),[d]),g=P9({});g.current.modified=m;let{onQueryChange:b}=Qr(),[v,x]=Z2(()=>l?p:{}),y=nc(async(D,_)=>{h(_!==void 0?_:!0);let I="page"in D?D.page:v?.page;("where"in D||"search"in D)&&(I="1");let T={columns:"columns"in D?D.columns:v.columns,limit:"limit"in D?D.limit:v?.limit??String(r),page:I,preset:"preset"in D?D.preset:v?.preset,search:"search"in D?D.search:v?.search,sort:"sort"in D?D.sort:v?.sort??s,where:"where"in D?D.where:v?.where};l?f(()=>u.replace(`${gg.stringify({...T,columns:JSON.stringify(T.columns)},{addQueryPrefix:!0})}`)):(typeof b=="function"||typeof a=="function")&&(b||a)(T),x(T)},[v?.columns,v?.limit,v?.page,v?.search,v?.sort,v?.where,v?.preset,f,r,s,l,b,a,u]),C=nc(async D=>{await y({page:String(D)})},[y]),S=A9.useCallback(async D=>{await y({limit:String(D),page:"1"})},[y]),w=nc(async D=>{await y({search:D===""?void 0:D})},[y]),F=nc(async D=>{await y({sort:D})},[y]),R=nc(async D=>{await y({where:D})},[y]),A=eo(()=>{let D=!1,_={...v||{}};D9(r)&&!("limit"in v)&&(_.limit=String(r),D=!0),s&&!("sort"in v)&&(_.sort=s,D=!0),o&&i?.columns&&!("columns"in v)&&(_.columns=F9(o),D=!0),D&&(x(_),window.history.replaceState(null,"",`?${gg.stringify({..._,columns:JSON.stringify(_.columns)})}`))});return T9(()=>{l&&A()},[s,r,l,o]),Y2(hg,{value:{collectionSlug:e,data:n,handlePageChange:C,handlePerPageChange:S,handleSearchChange:w,handleSortChange:F,handleWhereChange:R,orderableFieldName:c,query:v,refineListData:y,setModified:h,...g.current},children:Y2(U2,{value:m,children:t})})};import{jsx as N9}from"react/jsx-runtime";import L9,{createContext as $9,useCallback as fa}from"react";var J2=$9(void 0),Ft=()=>{let t=L9.use(J2);if(t===void 0)throw new Error("useServerFunctions must be used within a ServerFunctionsProvider");return t},vg=({children:t,serverFunction:e})=>{if(!e)throw new Error("ServerFunctionsProvider requires a serverFunction prop");let o=fa(async a=>await e({name:"render-document-slots",args:a}),[e]),n=fa(async a=>{let{signal:c,...u}=a;try{if(!c?.aborted){let f=await e({name:"schedule-publish",args:{...u}});if(!c?.aborted)return f}}catch(f){console.error(f)}let d=`Error scheduling ${u.type}`;return u.doc&&(d+=` for document with ID ${u.doc.value} in collection ${u.doc.relationTo}`),{error:""}},[e]),r=fa(async a=>{let{signal:c,...u}=a||{};try{if(!c?.aborted){let d=await e({name:"form-state",args:{fallbackLocale:!1,...u}});if(!c?.aborted)return d}}catch(d){console.error(d)}return{state:null}},[e]),s=fa(async a=>{let{signal:c,...u}=a||{};try{if(!c?.aborted){let d=await e({name:"table-state",args:{fallbackLocale:!1,...u}});if(!c?.aborted)return d}}catch(d){console.error(d)}},[e]),i=fa(async a=>{let{signal:c,...u}=a||{};try{return await e({name:"render-document",args:{fallbackLocale:!1,...u}})}catch(d){console.error(d)}},[e]),l=fa(async a=>{let{signal:c,...u}=a||{};try{let d=await e({name:"copy-data-from-locale",args:u});if(!c?.aborted)return d}catch(d){console.error(d)}},[e]);return N9(J2,{value:{copyDataFromLocale:l,getDocumentSlots:o,getFormState:r,getTableState:s,renderDocument:i,schedulePublish:n,serverFunction:e},children:t})};import{jsx as O9}from"react/jsx-runtime";import{transformColumnsToSearchParams as q2}from"payload/shared";import Q2,{startTransition as K2,useCallback as yg,useRef as M9}from"react";import{createContext as k9,use as j9}from"react";var xg=k9({}),pa=()=>j9(xg);var sc=({children:t,collectionSlug:e,columnState:o,LinkedCellOverride:n})=>{let{getEntityConfig:r}=H(),{query:s,refineListData:i}=Rt(),{admin:{defaultColumns:l}={}}=r({collectionSlug:e}),[a,c]=Q2.useOptimistic(o,(p,g)=>g),u=M9({}),d=yg(async p=>{let g=(a||[]).map(b=>b.accessor===p?{...b,active:!b.active}:b);K2(()=>{c(g)}),await i({columns:q2(g)})},[i,a,c]),f=yg(async p=>{let{fromIndex:g,toIndex:b}=p,v=[...a||[]],[x]=v.splice(g,1);v.splice(b,0,x),K2(()=>{c(v)}),await i({columns:q2(v)})},[a,i,c]),m=yg(async p=>{let g=s.columns;p.forEach(b=>{let v=g.findIndex(x=>b===x);v!==void 0&&g[v][0]==="-"&&(g[v]=b.slice(1))}),await i({columns:g})},[s,i]),h=Q2.useCallback(async()=>{await m(l)},[l,m]);return O9(xg,{value:{columns:a,LinkedCellOverride:n,moveColumn:f,resetColumnsState:h,setActiveColumns:m,toggleColumn:d,...u.current},children:t})};import{jsx as ic}from"react/jsx-runtime";import{fieldIsHiddenOrDisabled as B9,fieldIsID as V9}from"payload/shared";import{useId as G9,useMemo as W9}from"react";var Cg="column-selector",cm=({collectionSlug:t})=>{let{columns:e,moveColumn:o,toggleColumn:n}=pa(),r=G9(),s=lt(),i=W9(()=>e.filter(l=>!(B9(l.field)&&!V9(l.field))&&!l?.field?.admin?.disableListColumn),[e]);return e?ic(lr,{className:Cg,ids:i.map(l=>l?.accessor),onDragEnd:({moveFromIndex:l,moveToIndex:a})=>{o({fromIndex:l,toIndex:a})},children:i.map((l,a)=>{let{accessor:c,active:u,field:d}=l;return ic(bt,{alignIcon:"left","aria-checked":u,className:[`${Cg}__column`,u&&`${Cg}__column--active`].filter(Boolean).join(" "),draggable:!0,icon:u?ic(ft,{}):ic(ko,{}),id:c,onClick:()=>{n(c)},children:l.CustomLabel??ic(ve,{label:d&&"label"in d&&d.label,unstyled:!0})},`${t}-${d&&"name"in d?d?.name:a}${s?`-${s}-`:""}${r}`)})}):null};import{c as m3}from"react/compiler-runtime";import{jsx as mm}from"react/jsx-runtime";import{createElement as sL}from"react";import{useEffect as iL,useId as aL,useState as lL}from"react";import{c as H9}from"react/compiler-runtime";import{useState as z9}from"react";var um=t=>{let e=H9(3),{getEntityConfig:o}=H(),n;e[0]!==o||e[1]!==t?(n=()=>t?(typeof t=="string"?[t]:t).map(i=>o({collectionSlug:i})):[],e[0]=o,e[1]=t,e[2]=n):n=e[2];let[r]=z9(n);return r};import{jsx as c3}from"react/jsx-runtime";import rL,{useCallback as lc,useEffect as u3,useRef as nL,useState as Rg}from"react";import{c as Ig}from"react/compiler-runtime";import{jsx as ri,jsxs as s3}from"react/jsx-runtime";import{getTranslation as q9}from"@payloadcms/translations";import Q9 from"react";import{c as U9}from"react/compiler-runtime";import{jsx as Y9,jsxs as Z9}from"react/jsx-runtime";import o3,{createContext as J9}from"react";import{c as X9}from"react/compiler-runtime";import*as is from"react";var wg=t=>{let e=X9(13),{delayBeforeShow:o,inTimeout:n,minShowTime:r,outTimeout:s,show:i}=t,l=n+r+s,[a,c]=Hf(o),[u,d]=is.useState(!1),[f,m]=is.useState(!1),h=is.useRef(0),p=is.useRef(void 0),g;e[0]!==s?(g=()=>{m(!0),p.current=setTimeout(()=>{d(!1),m(!1)},s)},e[0]=s,e[1]=g):g=e[1];let b=g,v,x;e[2]!==a||e[3]!==u||e[4]!==i||e[5]!==l||e[6]!==b?(v=()=>{let C=a&&!u&&i,S=u&&!i;if(C)h.current=Date.now(),d(!0);else if(S){let w=Date.now()-h.current,F=l-w;clearTimeout(p.current),p.current=setTimeout(b,Math.max(0,F))}},x=[u,i,b,l,a],e[2]=a,e[3]=u,e[4]=i,e[5]=l,e[6]=b,e[7]=v,e[8]=x):(v=e[7],x=e[8]),is.useEffect(v,x);let y;return e[9]!==u||e[10]!==f||e[11]!==c?(y={isMounted:u,isUnmounting:f,triggerDelayedRender:c},e[9]=u,e[10]=f,e[11]=c,e[12]=y):y=e[12],y};var e3={isLoading:!1,loaders:[],loadingText:"",overlayType:null},t3=(t,e)=>{let o=[...t.loaders],{type:n="fullscreen",key:r="user",loadingText:s}=e.payload;if(e.type==="add")o.push({type:n,key:r,loadingText:s});else if(e.type==="remove"){let l=o.findIndex(a=>a.key===r&&a.type===n);o.splice(l,1)}let i=o?.length>0?o[o.length-1]:null;return{isLoading:!!i,loaders:o,loadingText:i?.loadingText||t?.loadingText,overlayType:i?.type||t?.overlayType}};var Sg=250,r3=J9({isOnScreen:!1,toggleLoadingOverlay:void 0}),n3=t=>{let e=U9(21),{children:o}=t,{t:n}=k(),r;e[0]!==n?(r=n("general:loading"),e[0]=n,e[1]=r):r=e[1];let s=r,[i,l]=o3.useReducer(t3,e3),a;e[2]!==i.isLoading?(a={delayBeforeShow:1e3,inTimeout:Sg,minShowTime:500,outTimeout:Sg,show:i.isLoading},e[2]=i.isLoading,e[3]=a):a=e[3];let{isMounted:c,isUnmounting:u,triggerDelayedRender:d}=wg(a),f;e[4]!==s||e[5]!==d?(f=p=>{let{type:g,isLoading:b,key:v,loadingText:x}=p,y=x===void 0?s:x;b?(d(),l({type:"add",payload:{type:g,key:v,loadingText:y}})):l({type:"remove",payload:{type:g,key:v}})},e[4]=s,e[5]=d,e[6]=f):f=e[6];let m=f,h;if(e[7]!==o||e[8]!==s||e[9]!==c||e[10]!==u||e[11]!==i.loadingText||e[12]!==i.overlayType||e[13]!==m){let p;e[15]!==s||e[16]!==c||e[17]!==u||e[18]!==i.loadingText||e[19]!==i.overlayType?(p=c&&Y9(wn,{animationDuration:`${Sg}ms`,loadingText:i.loadingText||s,overlayType:i.overlayType,show:!u}),e[15]=s,e[16]=c,e[17]=u,e[18]=i.loadingText,e[19]=i.overlayType,e[20]=p):p=e[20],h=Z9(r3,{value:{isOnScreen:c,toggleLoadingOverlay:m},children:[p,o]}),e[7]=o,e[8]=s,e[9]=c,e[10]=u,e[11]=i.loadingText,e[12]=i.overlayType,e[13]=m,e[14]=h}else h=e[14];return h},dm=()=>{let t=o3.use(r3);if(t===void 0)throw new Error("useLoadingOverlay must be used within a LoadingOverlayProvider");return t};var kr="loading-overlay",wn=t=>{let e=Ig(11),{animationDuration:o,loadingText:n,overlayType:r,show:s}=t,i=s===void 0?!0:s,{t:l}=k(),a=i?`${kr}--entering`:`${kr}--exiting`,c=r?`${kr}--${r}`:"",u;e[0]!==a||e[1]!==c?(u=[kr,a,c].filter(Boolean),e[0]=a,e[1]=c,e[2]=u):u=e[2];let d=u.join(" "),f=o||"500ms",m;if(e[3]!==n||e[4]!==l||e[5]!==d||e[6]!==f){let h;e[8]!==n||e[9]!==l?(h=n||l("general:loading"),e[8]=n,e[9]=l,e[10]=h):h=e[10],m=s3("div",{className:d,style:{animationDuration:f},children:[s3("div",{className:`${kr}__bars`,children:[ri("div",{className:`${kr}__bar`}),ri("div",{className:`${kr}__bar`}),ri("div",{className:`${kr}__bar`}),ri("div",{className:`${kr}__bar`}),ri("div",{className:`${kr}__bar`})]}),ri("span",{className:`${kr}__text`,children:h})]}),e[3]=n,e[4]=l,e[5]=d,e[6]=f,e[7]=m}else m=e[7];return m},i3=t=>{let e=Ig(7),{name:o,type:n,loadingText:r,show:s}=t,i=n===void 0?"fullscreen":n,{toggleLoadingOverlay:l}=dm(),a,c;return e[0]!==o||e[1]!==r||e[2]!==s||e[3]!==l||e[4]!==i?(a=()=>(l({type:i,isLoading:s,key:o,loadingText:r||void 0}),()=>{l({type:i,isLoading:!1,key:o})}),c=[s,l,o,i,r],e[0]=o,e[1]=r,e[2]=s,e[3]=l,e[4]=i,e[5]=a,e[6]=c):(a=e[5],c=e[6]),Q9.useEffect(a,c),null},K9=t=>{let e=Ig(6),{name:o,type:n,action:r,formIsLoading:s,loadingSuffix:i}=t,l=n===void 0?"fullscreen":n,a=s===void 0?!1:s,c=ar(),{i18n:u,t:d}=k(),m=`${{create:d("general:creating"),loading:d("general:loading"),update:d("general:updating")}[r]} ${i?q9(i,u):""}`,h;return e[0]!==a||e[1]!==c||e[2]!==o||e[3]!==m||e[4]!==l?(h=ri(i3,{loadingText:m.trim(),name:o,show:a||c,type:l}),e[0]=a,e[1]=c,e[2]=o,e[3]=m,e[4]=l,e[5]=h):h=e[5],h};function er(t){if(t)try{t.abort()}catch{}}function tr(t){let e=new AbortController;if(t.current)try{t.current.abort()}catch{}return t.current=e,e}import{jsx as eL}from"react/jsx-runtime";import{createContext as tL,use as oL}from"react";var a3=tL({}),l3=({children:t,...e})=>eL(a3,{value:e,children:t}),ac=()=>{let t=oL(a3);if(!t)throw new Error("useDocumentDrawerContext must be used within a DocumentDrawerProvider");return t};var d3=({id:t,AfterFields:e,collectionSlug:o,disableActions:n,drawerSlug:r,Header:s,initialData:i,onDelete:l,onDuplicate:a,onSave:c,overrideEntityVisibility:u=!0,redirectAfterCreate:d,redirectAfterDelete:f,redirectAfterDuplicate:m})=>{let{getEntityConfig:h}=H(),p=Pe(),[g]=Rg(()=>h({collectionSlug:o})),b=rL.useRef(null),{closeModal:v}=ce(),{t:x}=k(),{renderDocument:y}=Ft(),[C,S]=Rg(void 0),[w,F]=Rg(!0),R=nL(!1),A=lc(E=>{let $=tr(b);(async()=>{F(!0);try{let N=await y({collectionSlug:o,disableActions:n,docID:E,drawerSlug:r,initialData:i,locale:p,overrideEntityVisibility:u,redirectAfterCreate:d,redirectAfterDelete:f!==void 0?f:!1,redirectAfterDuplicate:m!==void 0?m:!1,signal:$.signal});N?.Document&&(S(N.Document),F(!1))}catch(N){me.error(N?.message||x("error:unspecific")),v(r)}b.current=null})()},[o,n,r,i,f,m,y,v,u,x,p]),D=lc(E=>{A(E.doc.id),typeof c=="function"&&c({...E,collectionConfig:g})},[c,g,A]),_=lc(E=>{A(E.doc.id),typeof a=="function"&&a({...E,collectionConfig:g})},[a,g,A]),I=lc(E=>{typeof l=="function"&&l({...E,collectionConfig:g}),v(r)},[l,v,r,g]),T=lc(()=>{A()},[A]);return u3(()=>{!C&&!R.current&&(A(t),R.current=!0)},[C,A,t]),u3(()=>{let E=b.current;return()=>{er(E)}},[]),w?c3(wn,{}):c3(l3,{clearDoc:T,drawerSlug:r,onDelete:I,onDuplicate:_,onSave:D,children:C})};var as="doc-drawer",cL=({id:t,collectionSlug:e,depth:o,uuid:n})=>`doc-drawer_${e}_${o}${t?`_${t}`:""}_${n}`,uL=t=>{let e=m3(21),o,n,r,s,i,l,a,c;e[0]!==t?({id:l,children:o,className:n,collectionSlug:r,disabled:s,drawerSlug:i,onClick:a,...c}=t,e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s,e[5]=i,e[6]=l,e[7]=a,e[8]=c):(o=e[1],n=e[2],r=e[3],s=e[4],i=e[5],l=e[6],a=e[7],c=e[8]);let{t:u}=k(),[d]=um(r),f=l?"general:editLabel":"fields:addNewLabel",m=d?.labels.singular,h;if(e[9]!==o||e[10]!==n||e[11]!==s||e[12]!==i||e[13]!==a||e[14]!==c||e[15]!==u||e[16]!==f||e[17]!==m){let p=u(f,{label:m}),g;e[19]!==n?(g=[n,`${as}__toggler`].filter(Boolean),e[19]=n,e[20]=g):g=e[20],h=mm(cr,{"aria-label":p,className:g.join(" "),disabled:s,onClick:a,slug:i,...c,children:o}),e[9]=o,e[10]=n,e[11]=s,e[12]=i,e[13]=a,e[14]=c,e[15]=u,e[16]=f,e[17]=m,e[18]=h}else h=e[18];return h},dL=t=>{let{drawerSlug:e}=t;return mm(Lt,{className:as,gutter:!1,Header:null,slug:e,children:mm(d3,{...t})})},Qt=t=>{let e=m3(38),{id:o,collectionSlug:n,overrideEntityVisibility:r}=t,s=lt(),i=aL(),{closeModal:l,modalState:a,openModal:c,toggleModal:u}=ce(),[d,f]=lL(!1),m;e[0]!==n||e[1]!==s||e[2]!==o||e[3]!==i?(m=cL({id:o,collectionSlug:n,depth:s,uuid:i}),e[0]=n,e[1]=s,e[2]=o,e[3]=i,e[4]=m):m=e[4];let h=m,p,g;e[5]!==h||e[6]!==a?(p=()=>{f(!!a[h]?.isOpen)},g=[a,h],e[5]=h,e[6]=a,e[7]=p,e[8]=g):(p=e[7],g=e[8]),iL(p,g);let b;e[9]!==h||e[10]!==u?(b=()=>{u(h)},e[9]=h,e[10]=u,e[11]=b):b=e[11];let v=b,x;e[12]!==l||e[13]!==h?(x=()=>{l(h)},e[12]=l,e[13]=h,e[14]=x):x=e[14];let y=x,C;e[15]!==h||e[16]!==c?(C=()=>{c(h)},e[15]=h,e[16]=c,e[17]=C):C=e[17];let S=C,w,F;e[18]!==n||e[19]!==h||e[20]!==o||e[21]!==r?(F=j=>sL(dL,{...j,collectionSlug:n,drawerSlug:h,id:o,key:h,overrideEntityVisibility:r}),e[18]=n,e[19]=h,e[20]=o,e[21]=r,e[22]=F):F=e[22],w=F;let R=w,A,D;e[23]!==n||e[24]!==h||e[25]!==o?(D=j=>mm(uL,{...j,collectionSlug:n,drawerSlug:h,id:o}),e[23]=n,e[24]=h,e[25]=o,e[26]=D):D=e[26],A=D;let _=A,I,T;e[27]!==y||e[28]!==h||e[29]!==s||e[30]!==d||e[31]!==S||e[32]!==v?(T={closeDrawer:y,drawerDepth:s,drawerSlug:h,isDrawerOpen:d,openDrawer:S,toggleDrawer:v},e[27]=y,e[28]=h,e[29]=s,e[30]=d,e[31]=S,e[32]=v,e[33]=T):T=e[33],I=T;let E=I,$;return e[34]!==R||e[35]!==E||e[36]!==_?($=[R,_,E],e[34]=R,e[35]=E,e[36]=_,e[37]=$):$=e[37],$};import{c as mL}from"react/compiler-runtime";import{jsx as fL}from"react/jsx-runtime";import{createContext as pL,use as hL,useEffect as gL,useReducer as bL,useRef as vL}from"react";function f3(t,e){switch(e.type){case"ADD_LOADED":{let o={...t};typeof o[e.relationTo]!="object"&&(o[e.relationTo]={});let n=[...e.idsToLoad];return Array.isArray(e.docs)&&e.docs.forEach(r=>{n.splice(n.indexOf(r.id),1),o[e.relationTo][r.id]=r}),n.forEach(r=>{o[e.relationTo][r]=!1}),o}case"REQUEST":{let o={...t};return e.docs.forEach(({relationTo:n,value:r})=>{typeof o[n]!="object"&&(o[n]={}),o[n][r]=null}),o}default:return t}}var p3=pL({}),cc=t=>{let e=mL(15),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];let[r,s]=bL(f3,n),i=Zo(r,100),{config:l}=H(),{routes:a,serverURL:c}=l,{api:u}=a,{i18n:d}=k(),{code:f}=Pe(),m=vL(f),h;e[1]!==u||e[2]!==i||e[3]!==d||e[4]!==f||e[5]!==c?(h=C=>{let S=C===void 0?!1:C;Object.entries(i).forEach(async w=>{let[F,R]=w,A=[];if(Object.entries(R).forEach(D=>{let[_,I]=D;(I===null||S)&&A.push(_)}),A.length>0){let D=`${c}${u}/${F}`,_=new URLSearchParams;if(_.append("depth","0"),_.append("limit","250"),f&&_.append("locale",f),A&&A.length>0){let E=A.map(xL);_.append("where[id][in]",E.join(","))}let I=`?${_.toString()}`,T=await fetch(`${D}${I}`,{credentials:"include",headers:{"Accept-Language":d.language}});if(T.ok){let E=await T.json();E.docs&&s({type:"ADD_LOADED",docs:E.docs,idsToLoad:A,relationTo:F})}else s({type:"ADD_LOADED",docs:[],idsToLoad:A,relationTo:F})}})},e[1]=u,e[2]=i,e[3]=d,e[4]=f,e[5]=c,e[6]=h):h=e[6];let p=h,g,b;e[7]!==p||e[8]!==f?(g=()=>{p(f&&m.current!==f),m.current=f},b=[f,p],e[7]=p,e[8]=f,e[9]=g,e[10]=b):(g=e[9],b=e[10]),gL(g,b);let v;e[11]===Symbol.for("react.memo_cache_sentinel")?(v=C=>{s({type:"REQUEST",docs:C})},e[11]=v):v=e[11];let x=v,y;return e[12]!==o||e[13]!==r?(y=fL(p3,{value:{documents:r,getRelationships:x},children:o}),e[12]=o,e[13]=r,e[14]=y):y=e[14],y},_g=()=>hL(p3);function xL(t){return String(t)}import{c as e$}from"react/compiler-runtime";import{jsx as Cm,jsxs as t$}from"react/jsx-runtime";import"react";import{c as qL}from"react/compiler-runtime";import{jsx as L3}from"react/jsx-runtime";import $3 from"react";import{c as HL}from"react/compiler-runtime";import{jsx as ba,jsxs as zL}from"react/jsx-runtime";import{getTranslation as XL}from"@payloadcms/translations";import{fieldAffectsData as UL,fieldIsID as YL}from"payload/shared";import ZL from"react";import{formatAdminURL as h3}from"payload/shared";import{getTranslation as yL}from"@payloadcms/translations";import CL from"react";var g3=(t,e,o)=>{if((e?.type==="select"||e?.type==="radio")&&Array.isArray(e.options)){let n=e.options.find(r=>typeof r=="object"?r.value===t:r===t);if(n)return typeof n=="object"&&"label"in n?CL.isValidElement(n.label)?n.label:yL(n.label,o)||n.value:n}return t};import{jsx as b3}from"react/jsx-runtime";import"react";var fm=({cellData:t,nowrap:e})=>{let o=t?.length>100?`${t.substring(0,100)}\u2026`:t;return b3("code",{className:"code-cell",style:e?{whiteSpace:"nowrap"}:{},children:b3("span",{children:o})})};import{c as wL}from"react/compiler-runtime";import{jsx as SL}from"react/jsx-runtime";import{getTranslation as v3}from"@payloadcms/translations";import"react";var x3=t=>{let e=wL(2),{cellData:o,field:n}=t,{labels:r}=n,{i18n:s}=k(),i=o??[],l=i.length===1?`${i.length} ${v3(r?.singular||s.t("general:rows"),s)}`:`${i.length} ${v3(r?.plural||s.t("general:rows"),s)}`,a;return e[0]!==l?(a=SL("span",{children:l}),e[0]=l,e[1]=a):a=e[1],a};import{c as IL}from"react/compiler-runtime";import{jsx as RL}from"react/jsx-runtime";import{getTranslation as pm}from"@payloadcms/translations";import"react";var y3=t=>{let e=IL(2),{cellData:o,field:n}=t,{blockReferences:r,blocks:s,labels:i}=n,{i18n:l}=k(),{config:a}=H(),c=Array.isArray(o)?o.map(_L):[],u=(r??s)?.map(h=>{let p=typeof h=="string"?a.blocksMap[h]:h;return{slug:p.slug,label:pm(p.labels.singular,l)}}),d=`0 ${pm(i?.plural,l)}`,f=h=>h.map(p=>u.filter(b=>b.slug===p)?.[0]?.label).join(", ");if(c.length>5){let h=c.length-5;d=`${c.length} ${pm(i?.plural,l)} - ${l.t("fields:itemsAndMore",{count:h,items:f(c.slice(0,5))})}`}else c.length>0&&(d=`${c.length} ${pm(c.length===1?i?.singular:i?.plural,l)} - ${f(c)}`);let m;return e[0]!==d?(m=RL("span",{children:d}),e[0]=d,e[1]=m):m=e[1],m};function _L(t){let{blockType:e}=t;return e}import{c as DL}from"react/compiler-runtime";import{jsx as C3}from"react/jsx-runtime";import"react";var w3=t=>{let e=DL(3),{cellData:o}=t,{t:n}=k(),r=`general:${o}`,s;return e[0]!==n||e[1]!==r?(s=C3("code",{className:"bool-cell",children:C3("span",{children:n(r).toLowerCase()})}),e[0]=n,e[1]=r,e[2]=s):s=e[2],s};import{c as FL}from"react/compiler-runtime";import{jsx as AL}from"react/jsx-runtime";import"react";var S3=t=>{let e=FL(8),{cellData:o,field:n}=t,{admin:r}=n,s;e[0]!==r?(s=r===void 0?{}:r,e[0]=r,e[1]=s):s=e[1];let{date:i}=s,{config:l}=H(),{admin:a}=l,{dateFormat:c}=a,u=i?.displayFormat||c,{i18n:d}=k(),f;e[2]!==o||e[3]!==u||e[4]!==d?(f=o&&bn({date:o,i18n:d,pattern:u}),e[2]=o,e[3]=u,e[4]=d,e[5]=f):f=e[5];let m;return e[6]!==f?(m=AL("span",{children:f}),e[6]=f,e[7]=m):m=e[7],m};import{jsx as Fg,jsxs as EL,Fragment as PL}from"react/jsx-runtime";import{isImage as NL}from"payload/shared";import"react";var ha=({sizes:t,targetSizeMax:e=180,targetSizeMin:o=40,thumbnailURL:n,url:r,width:s})=>n||t&&Object.values(t).reduce((l,a)=>!a.width||a.width<o?l:a.width>=o&&a.width<=e?!l.width||a.width<l.width||l.width<o||l.width>e?a:l:!l.width||!l.original&&l.width<o&&a.width>l.width||l.width>e&&a.width<l.width?a:l,{original:!0,url:r,width:s}).url||r;import{c as I3}from"react/compiler-runtime";import{jsx as ga,jsxs as R3}from"react/jsx-runtime";import gm from"react";import{jsx as Dg,jsxs as TL}from"react/jsx-runtime";import"react";var hm=()=>TL("svg",{height:"150",viewBox:"0 0 150 150",width:"150",xmlns:"http://www.w3.org/2000/svg",children:[Dg("rect",{fill:"#333333",height:"150",transform:"translate(0 0.5)",width:"150"}),Dg("path",{d:"M82.8876 50.5H55.5555V100.5H94.4444V61.9818H82.8876V50.5Z",fill:"white"}),Dg("path",{d:"M82.8876 61.9818H94.4444L82.8876 50.5V61.9818Z",fill:"#9A9A9A"})]});var bm="thumbnail",jr=t=>{let e=I3(17),{className:o,doc:n,fileSrc:r,imageCacheTag:s,size:i}=t,l=o===void 0?"":o,a;e[0]!==n?(a=n===void 0?{}:n,e[0]=n,e[1]=a):a=e[1];let{filename:c}=a,[u,d]=gm.useState(void 0),f=`${bm}--size-${i||"medium"}`,m;e[2]!==l||e[3]!==f?(m=[bm,f,l],e[2]=l,e[3]=f,e[4]=m):m=e[4];let h=m.join(" "),p,g;e[5]!==r?(p=()=>{if(!r){d(!1);return}d(void 0);let x=new Image;x.src=r,x.onload=()=>{d(!0)},x.onerror=()=>{d(!1)}},g=[r],e[5]=r,e[6]=p,e[7]=g):(p=e[6],g=e[7]),gm.useEffect(p,g);let b=null;if(r){let x=r?.includes("?")?"&":"?";b=s?`${r}${x}${encodeURIComponent(s)}`:r}let v;if(e[8]!==h||e[9]!==u||e[10]!==c||e[11]!==b){let x;e[13]!==u||e[14]!==c||e[15]!==b?(x=u&&ga("img",{alt:c,src:b}),e[13]=u,e[14]=c,e[15]=b,e[16]=x):x=e[16],v=R3("div",{className:h,children:[u===void 0&&ga(St,{height:"100%"}),x,u===!1&&ga(hm,{})]}),e[8]=h,e[9]=u,e[10]=c,e[11]=b,e[12]=v}else v=e[12];return v};function _3(t){let e=I3(17),{alt:o,className:n,filename:r,fileSrc:s,imageCacheTag:i,size:l}=t,a=n===void 0?"":n,[c,u]=gm.useState(void 0),d=`${bm}--size-${l||"medium"}`,f;e[0]!==a||e[1]!==d?(f=[bm,d,a],e[0]=a,e[1]=d,e[2]=f):f=e[2];let m=f.join(" "),h,p;e[3]!==s?(h=()=>{if(!s){u(!1);return}u(void 0);let v=new Image;v.src=s,v.onload=()=>{u(!0)},v.onerror=()=>{u(!1)}},p=[s],e[3]=s,e[4]=h,e[5]=p):(h=e[4],p=e[5]),gm.useEffect(h,p);let g="";if(s){let v=s?.includes("?")?"&":"?";g=i?`${s}${v}${encodeURIComponent(i)}`:s}let b;if(e[6]!==o||e[7]!==m||e[8]!==c||e[9]!==r||e[10]!==g){let v;e[12]!==o||e[13]!==c||e[14]!==r||e[15]!==g?(v=c&&ga("img",{alt:o||r,src:g}),e[12]=o,e[13]=c,e[14]=r,e[15]=g,e[16]=v):v=e[16],b=R3("div",{className:m,children:[c===void 0&&ga(St,{height:"100%"}),v,c===!1&&ga(hm,{})]}),e[6]=o,e[7]=m,e[8]=c,e[9]=r,e[10]=g,e[11]=b}else b=e[11];return b}var Ag="file",vm=({cellData:t,collectionConfig:e,field:o,rowData:n})=>{if(("displayPreview"in o?o.displayPreview:void 0)??e.upload?.displayPreview??!0){let i=NL(n?.mimeType),l=i?n?.thumbnailURL||n?.url:n?.thumbnailURL;return i&&(l=ha({sizes:n?.sizes,thumbnailURL:n?.thumbnailURL,url:n?.url,width:n?.width})),EL("div",{className:Ag,children:[Fg(jr,{className:`${Ag}__thumbnail`,collectionSlug:e?.slug,doc:{...n,filename:t},fileSrc:l,size:"small",uploadConfig:e?.upload}),Fg("span",{className:`${Ag}__filename`,children:String(t)})]})}else return Fg(PL,{children:String(t)})};import{jsx as D3}from"react/jsx-runtime";import"react";var F3=({cellData:t})=>{let e=t?.length>100?`${t.substring(0,100)}\u2026`:t;return D3("code",{className:"json-cell",children:D3("span",{children:JSON.stringify(e)})})};import{c as LL}from"react/compiler-runtime";import{jsx as $L,jsxs as T3}from"react/jsx-runtime";import{getTranslation as kL}from"@payloadcms/translations";import jL,{useEffect as E3,useState as P3}from"react";var A3=!!(typeof window<"u"&&window.document&&window.document.createElement);var OL="relationship-cell",xm=3,ym=t=>{let e=LL(40),{cellData:o,customCellProps:n,field:r,field:s}=t,{label:i}=s,l="relationTo"in r&&r.relationTo||"collection"in r&&r.collection,a;a="collection"in r?o?.docs:o;let c=a,{config:u,getEntityConfig:d}=H(),{collections:f,routes:m}=u,[h,p]=un(),g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=[],e[0]=g):g=e[0];let[b,v]=P3(g),{documents:x,getRelationships:y}=_g(),[C,S]=P3(!1),{i18n:w,t:F}=k(),R=A3?p?.boundingClientRect?.top<window.innerHeight:!1,A;e[1]!==c||e[2]!==y||e[3]!==C||e[4]!==R||e[5]!==l?(A=()=>{if((c||typeof c=="number")&&R&&!C){let E=[],$=Array.isArray(c)?c:[c];$.slice(0,$.length<xm?$.length:xm).forEach(j=>{typeof j=="object"&&"relationTo"in j&&"value"in j&&E.push(j),(typeof j=="number"||typeof j=="string")&&typeof l=="string"&&E.push({relationTo:l,value:j})}),y(E),S(!0),v(E)}},e[1]=c,e[2]=y,e[3]=C,e[4]=R,e[5]=l,e[6]=A):A=e[6];let D;e[7]!==c||e[8]!==f||e[9]!==y||e[10]!==C||e[11]!==R||e[12]!==l||e[13]!==m.api?(D=[c,l,f,R,m.api,C,y],e[7]=c,e[8]=f,e[9]=y,e[10]=C,e[11]=R,e[12]=l,e[13]=m.api,e[14]=D):D=e[14],E3(A,D);let _;e[15]!==C?(_=()=>{C&&S(!1)},e[15]=C,e[16]=_):_=e[16];let I;e[17]!==c?(I=[c],e[17]=c,e[18]=I):I=e[18],E3(_,I);let T;if(e[19]!==c||e[20]!==u.admin||e[21]!==n||e[22]!==x||e[23]!==r||e[24]!==d||e[25]!==w||e[26]!==h||e[27]!==i||e[28]!==F||e[29]!==b){let E;e[31]!==u.admin||e[32]!==n||e[33]!==x||e[34]!==r||e[35]!==d||e[36]!==w||e[37]!==F||e[38]!==b.length?(E=($,j)=>{let{relationTo:N,value:P}=$,L=x[N][P],V=d({collectionSlug:N}),M=ur({collectionConfig:V,data:L||null,dateFormat:u.admin.dateFormat,fallback:`${F("general:untitled")} - ID: ${P}`,i18n:w}),O=null;return r.type==="upload"&&(("displayPreview"in r?r.displayPreview:void 0)??V.upload?.displayPreview??!0)&&L&&(O=$L(vm,{cellData:M,collectionConfig:V,collectionSlug:V.slug,customCellProps:n,field:r,rowData:L})),T3(jL.Fragment,{children:[L===!1&&`${F("general:untitled")} - ID: ${P}`,L===null&&`${F("general:loading")}...`,L?O||M:null,b.length>j+1&&", "]},j)},e[31]=u.admin,e[32]=n,e[33]=x,e[34]=r,e[35]=d,e[36]=w,e[37]=F,e[38]=b.length,e[39]=E):E=e[39],T=T3("div",{className:OL,ref:h,children:[b.map(E),Array.isArray(c)&&c.length>xm&&F("fields:itemsAndMore",{count:c.length-xm,items:""}),b.length===0&&F("general:noLabel",{label:kL(i||"",w)})]}),e[19]=c,e[20]=u.admin,e[21]=n,e[22]=x,e[23]=r,e[24]=d,e[25]=w,e[26]=h,e[27]=i,e[28]=F,e[29]=b,e[30]=T}else T=e[30];return T};import{c as ML}from"react/compiler-runtime";import{jsx as BL}from"react/jsx-runtime";import{getTranslation as VL}from"@payloadcms/translations";import{optionsAreObjects as GL}from"payload/shared";import"react";var Tg=t=>{let e=ML(10),{cellData:o,field:n}=t,{options:r}=n,{i18n:s}=k(),i;e[0]!==s||e[1]!==r?(i=u=>u.map(d=>{let f=r.filter(m=>m.value===d)?.[0]?.label;return VL(f,s)}).join(", "),e[0]=s,e[1]=r,e[2]=i):i=e[2];let l=i,a;if(GL(r)){let u;e[3]!==o||e[4]!==l?(u=Array.isArray(o)?l(o):l([o]),e[3]=o,e[4]=l,e[5]=u):u=e[5],a=u}else{let u;e[6]!==o?(u=Array.isArray(o)?o.join(", "):o,e[6]=o,e[7]=u):u=e[7],a=u}let c;return e[8]!==a?(c=BL("span",{children:a}),e[8]=a,e[9]=c):c=e[9],c};import{jsx as WL}from"react/jsx-runtime";import"react";var N3=({cellData:t})=>{let e=t?.length>100?`${t.substring(0,100)}\u2026`:t;return WL("span",{children:e})};var Eg={array:x3,blocks:y3,checkbox:w3,code:fm,date:S3,File:vm,join:ym,json:F3,radio:Tg,relationship:ym,select:Tg,textarea:N3,upload:ym};var uc=t=>{let e=HL(14),{cellData:o,className:n,collectionSlug:r,field:s,field:i,link:l,onClick:a,rowData:c}=t,{admin:u}=i,{i18n:d}=k(),{config:f,getEntityConfig:m}=H(),{routes:h}=f,{admin:p}=h,g,b;if(e[0]!==u||e[1]!==p||e[2]!==o||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==m||e[7]!==d||e[8]!==l||e[9]!==a||e[10]!==t||e[11]!==c){b=Symbol.for("react.early_return_sentinel");e:{let v=m({collectionSlug:r}),x=u&&"className"in u?u.className:void 0,y=n||(s.admin&&"className"in s.admin?s.admin.className:null)||x,C=a,S="span",w={className:y};if(l&&(w.prefetch=!1,S=ro,w.href=v?.slug?h3({adminRoute:p,path:`/collections/${v?.slug}/${encodeURIComponent(c.id)}`}):""),typeof C=="function"&&(S="button",w.type="button",w.onClick=()=>{C({cellData:o,collectionSlug:v?.slug,rowData:c})}),YL(s)){b=ba(S,{...w,children:ba(fm,{cellData:`ID: ${o}`,collectionConfig:v,collectionSlug:r,field:{...s,type:"code"},nowrap:!0,rowData:c})});break e}let F=g3(o,s,d),R=typeof o<"u"&&Eg[s.type],A=null;if(ZL.isValidElement(F))A=F;else if(R)A=ba(R,{cellData:o,rowData:c,...t});else if(!R)if(v?.upload&&UL(s)&&s.name==="filename"&&s.type==="text"){let D=Eg.File;A=ba(D,{cellData:o,rowData:c,...t,collectionConfig:v,field:s})}else{b=zL(S,{...w,children:[(F===""||typeof F>"u"||F===null)&&d.t("general:noLabel",{label:XL(("label"in s?s.label:null)||"data",d)}),typeof F=="string"&&F,typeof F=="number"&&F,typeof F=="object"&&F!==null&&JSON.stringify(F)]});break e}if((s.type==="select"||s.type==="radio")&&s.options.length&&o){let D=Array.isArray(o)?o.map(JL).join(" "):`selected--${o}`,_=[w.className,D].filter(Boolean).join(" ");b=ba(S,{...w,className:_,children:A});break e}g=ba(S,{...w,children:A})}e[0]=u,e[1]=p,e[2]=o,e[3]=n,e[4]=r,e[5]=s,e[6]=m,e[7]=d,e[8]=l,e[9]=a,e[10]=t,e[11]=c,e[12]=g,e[13]=b}else g=e[12],b=e[13];return b!==Symbol.for("react.early_return_sentinel")?b:g};function JL(t){return`selected--${t}`}var QL="default-cell",k3=$3.createContext(null),Pg=()=>$3.use(k3),KL=t=>{let e=qL(9),{clientProps:o,columnIndex:n,isLinkedColumn:r}=t,{drawerSlug:s,onSelect:i}=Qr(),{LinkedCellOverride:l}=pa(),a;if(e[0]!==l||e[1]!==o||e[2]!==n||e[3]!==s||e[4]!==r||e[5]!==i){let c={...o,columnIndex:n};if(r&&s){c.className=`${QL}__first-cell`,c.link=!1;let u;e[7]!==i?(u=d=>{let{collectionSlug:f,rowData:m}=d;typeof i=="function"&&i({collectionSlug:f,doc:m,docID:m.id})},e[7]=i,e[8]=u):u=e[8],c.onClick=u}a=L3(k3,{value:c,children:r&&l?l:L3(uc,{...c})}),e[0]=l,e[1]=o,e[2]=n,e[3]=s,e[4]=r,e[5]=i,e[6]=a}else a=e[6];return a};var j3=t=>{let e=e$(15),{onDrawerDelete:o,onDrawerSave:n}=t,r=Pg(),s=r?.rowData.id,i=r?.collectionSlug,l;e[0]!==s||e[1]!==i?(l={id:s,collectionSlug:i},e[0]=s,e[1]=i,e[2]=l):l=e[2];let[a,c,u]=Qt(l),{closeDrawer:d}=u,f;e[3]!==d||e[4]!==n?(f=b=>{d(),typeof n=="function"&&n(b)},e[3]=d,e[4]=n,e[5]=f):f=e[5];let m=f,h;e[6]!==d||e[7]!==o?(h=b=>{d(),typeof o=="function"&&o(b)},e[6]=d,e[7]=o,e[8]=h):h=e[8];let p=h,g;return e[9]!==a||e[10]!==c||e[11]!==r||e[12]!==p||e[13]!==m?(g=t$("div",{className:"drawer-link",children:[Cm(uc,{...r,className:"drawer-link__cell",link:!1,onClick:null}),Cm(c,{children:Cm(Ir,{})}),Cm(a,{onDelete:p,onSave:m})]}),e[9]=a,e[10]=c,e[11]=r,e[12]=p,e[13]=m,e[14]=g):g=e[14],g};import{c as i$}from"react/compiler-runtime";import{jsx as a$}from"react/jsx-runtime";import"react";import{jsx as $g}from"react/jsx-runtime";import"react";import{jsx as O3}from"react/jsx-runtime";import"react";var Ng="clickable-arrow",M3=t=>{let{direction:e="right",isDisabled:o=!1,updatePage:n}=t,r=[Ng,o&&`${Ng}--is-disabled`,e&&`${Ng}--${e}`].filter(Boolean).join(" ");return O3("button",{className:r,disabled:o,onClick:o?void 0:n,type:"button",children:O3(Je,{})})};import{jsx as o$}from"react/jsx-runtime";import"react";var wm="paginator__page",Lg=({isCurrent:t,isFirstPage:e=!1,isLastPage:o=!1,page:n=1,updatePage:r})=>{let s=[wm,t&&`${wm}--is-current`,e&&`${wm}--is-first-page`,o&&`${wm}--is-last-page`].filter(Boolean).join(" ");return o$("button",{className:s,onClick:()=>r(n),type:"button",children:n})};import{jsx as r$}from"react/jsx-runtime";import"react";var B3=()=>r$("span",{className:"paginator__separator",children:"\u2014"});var n$={ClickableArrow:M3,Page:Lg,Separator:B3},s$="paginator",dc=t=>{let{hasNextPage:e=!1,hasPrevPage:o=!1,nextPage:n=null,numberOfNeighbors:r=1,onChange:s,page:i,prevPage:l=null,totalPages:a=null}=t;if(!e&&!o)return null;let c=h=>{typeof s=="function"&&s(h)},u=Array.from({length:a},(h,p)=>p+1),d=i-1-r;d<=0&&(d=0);let f=i-1+r+1,m=u.slice(d,f);return i-r-1>=2&&m.unshift({type:"Separator"}),i>r+1&&m.unshift({type:"Page",props:{isFirstPage:!0,page:1,updatePage:c}}),i+r+1<a&&m.push({type:"Separator"}),f<a&&m.push({type:"Page",props:{isLastPage:!0,page:a,updatePage:c}}),m.unshift({type:"ClickableArrow",props:{direction:"right",isDisabled:!e,updatePage:()=>c(n)}}),m.unshift({type:"ClickableArrow",props:{direction:"left",isDisabled:!o,updatePage:()=>c(l)}}),$g("div",{className:s$,children:m.map((h,p)=>{if(typeof h=="number")return $g(Lg,{isCurrent:i===h,page:h,updatePage:c},p);let g=n$[h.type];return $g(g,{...h.props},p)})})};var V3=()=>{let t=i$(11),{data:e,handlePageChange:o}=Rt(),n=e.nextPage||2,r;t[0]!==o?(r=a=>{o(a)},t[0]=o,t[1]=r):r=t[1];let s=e.page||1,i=e.prevPage||void 0,l;return t[2]!==e.hasNextPage||t[3]!==e.hasPrevPage||t[4]!==e.limit||t[5]!==e.totalPages||t[6]!==n||t[7]!==r||t[8]!==s||t[9]!==i?(l=a$(dc,{hasNextPage:e.hasNextPage,hasPrevPage:e.hasPrevPage,limit:e.limit,nextPage:n,numberOfNeighbors:1,onChange:r,page:s,prevPage:i,totalPages:e.totalPages}),t[2]=e.hasNextPage,t[3]=e.hasPrevPage,t[4]=e.limit,t[5]=e.totalPages,t[6]=n,t[7]=r,t[8]=s,t[9]=i,t[10]=l):l=t[10],l};var or="relationship-table",Og=t=>{let{AfterInput:e,allowCreate:o=!0,BeforeInput:n,disableTable:r=!1,field:s,filterOptions:i,initialData:l,initialDrawerData:a,Label:c,parent:u,relationTo:d}=t,[f,m]=Sn(null),{config:h,getEntityConfig:p}=H(),{permissions:g}=Re(),[b]=Sn(()=>{if(l)return{...l,docs:Array.isArray(l.docs)?l.docs.reduce((z,Y)=>typeof Y=="string"?[...z,{id:Y}]:[...z,Y],[]):[]}}),{i18n:v,t:x}=k(),[y,C]=Sn(),[S,w]=Sn(!1),[F]=Sn(()=>p({collectionSlug:d})),[R,A]=Sn(Array.isArray(d)?void 0:d),[D,_]=Sn(!r),[I,T]=Sn(b),[E,$]=Sn(),{getTableState:j}=Ft(),N=Sm(async z=>{let Y={limit:String(s?.defaultLimit||F?.admin?.pagination?.defaultLimit),sort:s.defaultSort||F?.defaultSort,...y||{},where:{...y?.where||{}}};i&&(Y.where=l$(Y.where,i));let le=s.admin.defaultColumns?s.admin.defaultColumns.map(K=>({accessor:K,active:!0})):void 0,{data:J,state:ue,Table:te}=await j({collectionSlug:d,columns:G3(y?.columns)||le,docs:z,enableRowSelections:!1,orderableFieldName:!s.orderable||Array.isArray(s.collection)?void 0:`_${s.collection}_${s.name}_order`,parent:u,query:Y,renderRowTypes:!0,tableAppearance:"condensed"});T(J),m(te),$(ue),_(!1)},[s.defaultLimit,s.defaultSort,s.admin.defaultColumns,s.collection,s.name,s.orderable,F?.admin?.pagination?.defaultLimit,F?.defaultSort,y,i,j,d,u]),P=eo((z,Y)=>{!Y&&(!f||z)&&N()});jg(()=>{P(y,r)},[y,r]);let[L,V,{closeDrawer:M,isDrawerOpen:O,openDrawer:B}]=Qt({collectionSlug:R}),G=Sm(z=>{let Y=I?.docs?.findIndex(J=>J.id===z.doc.id),le;if(Y!==-1){let J=[...I.docs];J[Y]=z.doc,le=J}else le=[z.doc,...I.docs];N(le)},[I?.docs,N]),X=Sm(z=>{M(),G(z)},[M,G]),Z=Sm(z=>{let Y=I.docs.filter(le=>le.id!==z.id);N(Y)},[I?.docs,N]),oe=o!==!1&&g?.collections?.[Array.isArray(d)?d[0]:d]?.create;return jg(()=>{Array.isArray(d)&&R&&B()},[R,B,d]),jg(()=>{Array.isArray(d)&&!O&&R&&A(void 0)},[O]),ni("div",{className:or,children:[ni("div",{className:`${or}__header`,children:[c,ni("div",{className:`${or}__actions`,children:[!Array.isArray(d)&&oe&&to(V,{className:`${or}__add-new`,children:v.t("fields:addNew")}),Array.isArray(d)&&to(W3,{children:to(po,{button:ni(se,{buttonStyle:"none",className:`${or}__add-new-polymorphic`,children:[v.t("fields:addNew"),to(ko,{})]}),buttonType:"custom",horizontalAlign:"center",render:({close:z})=>to(Me.ButtonGroup,{children:d.map(Y=>g.collections[Y].create?to(Me.Button,{className:`${or}__relation-button--${Y}`,onClick:()=>{z(),A(Y)},children:kg(h.collections.find(le=>le.slug===Y).labels.singular,v)},Y):null)}),size:"medium"})}),to(bt,{"aria-controls":`${or}-columns`,"aria-expanded":S,className:`${or}__toggle-columns ${S?`${or}__buttons-active`:""}`,icon:to(Je,{direction:S?"up":"down"}),onClick:()=>w(!S),pillStyle:"light",children:x("general:columns")})]})]}),n,D?to("p",{children:x("general:loading")}):ni(W3,{children:[I?.docs&&I.docs.length===0&&ni("div",{className:`${or}__no-results`,children:[to("p",{children:v.t("general:noResults",{label:Array.isArray(d)?v.t("general:documents"):kg(F?.labels?.plural,v)})}),oe&&to(se,{onClick:B,children:v.t("general:createNewLabel",{label:kg(F?.labels?.singular,v)})})]}),I?.docs&&I.docs.length>0&&to(cc,{children:to(bg,{columns:G3(E),data:I,defaultLimit:s.defaultLimit??F?.admin?.pagination?.defaultLimit,modifySearchParams:!1,onQueryChange:C,orderableFieldName:!s.orderable||Array.isArray(s.collection)?void 0:`_${s.collection}_${s.name}_order`,children:ni(sc,{collectionSlug:Array.isArray(d)?d[0]:d,columnState:E,LinkedCellOverride:to(j3,{onDrawerDelete:Z,onDrawerSave:G}),children:[to(Fr,{className:`${or}__columns`,height:S?"auto":0,id:`${or}-columns`,children:to("div",{className:`${or}__columns-inner`,children:F&&to(cm,{collectionSlug:F.slug})})}),f,to(V3,{})]})})})]}),e,to(L,{initialData:a,onSave:X})]})};var z3=Mg.default.default||Mg.default,Im=({collectionSlug:t,config:e,docID:o,fields:n,segments:r})=>{let s=u$(n),i=r[0],l=s.find(c=>c.name===i);if(!l)return null;if(l.type==="relationship"||l.type==="upload"){let c=o;return Array.isArray(l.relationTo)&&(c={relationTo:t,value:o}),{[l.name]:l.hasMany?[c]:c}}let a=r.slice(1,r.length);if(l.type==="tab"||l.type==="group")return{[l.name]:Im({collectionSlug:t,config:e,docID:o,fields:l.fields,segments:a})};if(l.type==="array"){let c=Im({collectionSlug:t,config:e,docID:o,fields:l.fields,segments:a});return c.id=z3().toHexString(),{[l.name]:[c]}}if(l.type==="blocks")for(let c of l.blockReferences??l.blocks){let u=typeof c=="string"?e.blocksMap[c]:c,d=Im({collectionSlug:t,config:e,docID:o,fields:u.fields,segments:a});if(d)return d.id=z3().toHexString(),d.blockType=u.slug,{[l.name]:[d]}}},d$=t=>{let{field:e,field:{admin:{allowCreate:o,description:n},collection:r,label:s,localized:i,on:l,required:a},path:c}=t,{id:u,docConfig:d}=Te(),{config:f,getEntityConfig:m}=H(),{customComponents:{AfterInput:h,BeforeInput:p,Description:g,Error:b,Label:v}={},path:x,showError:y,value:C}=Fe({potentiallyStalePath:c}),S=H3(()=>{if(!u)return null;let F=u;Array.isArray(e.targetField.relationTo)&&(F={relationTo:d.slug,value:F});let R=Array.isArray(r)?{}:{[l]:{equals:F}};return e.where?{and:[R,e.where]}:R},[u,r,e.targetField.relationTo,e.where,l,d?.slug]),w=H3(()=>{let F=m({collectionSlug:Array.isArray(e.collection)?e.collection[0]:e.collection});return Im({collectionSlug:d?.slug,config:f,docID:u,fields:F.fields,segments:e.on.split(".")})},[m,e.collection,e.on,d?.slug,u,f]);return d?c$("div",{className:[ye,y&&"error","join"].filter(Boolean).join(" "),id:`field-${x?.replace(/\./g,"__")}`,children:[si(re,{CustomComponent:b,Fallback:si(Ge,{path:x,showError:y})}),si(Og,{AfterInput:h,allowCreate:typeof u<"u"&&o,BeforeInput:p,disableTable:S===null,field:e,filterOptions:S,initialData:u&&C?C:{docs:[]},initialDrawerData:w,Label:si("h4",{style:{margin:0},children:v||si(ve,{label:s,localized:i,path:x,required:a})}),parent:Array.isArray(r)?{id:u,collectionSlug:d.slug,joinPath:x}:void 0,relationTo:r}),si(re,{CustomComponent:g,Fallback:si(Be,{description:n,path:x})})]}):null},mc=$e(d$);import{jsx as ii,jsxs as X3}from"react/jsx-runtime";import m$,{useCallback as Bg,useEffect as f$,useMemo as p$,useState as Vg}from"react";var h$="json-field",g$=t=>{let{field:e,field:{admin:{className:o,description:n,editorOptions:r,maxHeight:s}={},jsonSchema:i,label:l,localized:a,required:c},path:u,readOnly:d,validate:f}=t,[m,h]=Vg(),p=m$.useRef("system"),[g,b]=Vg(""),v=Bg((P,L)=>{if(typeof f=="function")return f(P,{...L,jsonError:m,required:c})},[f,c,m]),{customComponents:{AfterInput:x,BeforeInput:y,Description:C,Error:S,Label:w}={},disabled:F,initialValue:R,path:A,setValue:D,showError:_,value:I}=Fe({potentiallyStalePath:u,validate:v}),[T,E]=Vg(()=>(I||R)!==void 0?JSON.stringify(I??R,null,2):void 0),$=Bg((P,L)=>{if(!i)return;L.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[...L.languages.json.jsonDefaults.diagnosticsOptions.schemas||[],i],validate:!0});let V=i.uri,M=V.includes("?")?`${V}&${crypto.randomUUID?crypto.randomUUID():yn()}`:`${V}?${crypto.randomUUID?crypto.randomUUID():yn()}`;P.setModel(L.editor.createModel(JSON.stringify(I,null,2),"json",L.Uri.parse(M)))},[i,I]),j=Bg(P=>{if(!(d||F)){p.current="user";try{D(P?JSON.parse(P):null),h(void 0)}catch(L){D(P||null),h(L)}}},[d,F,D]);f$(()=>{p.current==="system"&&(E((I||R)!==void 0?JSON.stringify(I??R,null,2):void 0),b(new Date().toString())),p.current="system"},[R,I]);let N=p$(()=>rt(e),[e]);return X3("div",{className:[ye,h$,o,_&&"error",(d||F)&&"read-only"].filter(Boolean).join(" "),style:N,children:[ii(re,{CustomComponent:w,Fallback:ii(ve,{label:l,localized:a,path:A,required:c})}),X3("div",{className:`${ye}__wrap`,children:[ii(re,{CustomComponent:S,Fallback:ii(Ge,{message:m,path:A,showError:_})}),y,ii($l,{defaultLanguage:"json",maxHeight:s,onChange:j,onMount:$,options:r,readOnly:d||F,value:T,wrapperProps:{id:`field-${A?.replace(/\./g,"__")}`}},g),x]}),ii(re,{CustomComponent:C,Fallback:ii(Be,{description:n,path:A})})]})},fc=$e(g$);import{jsx as In,jsxs as U3}from"react/jsx-runtime";import{getTranslation as b$}from"@payloadcms/translations";import{isNumber as v$}from"payload/shared";import{useCallback as Gg,useEffect as x$,useMemo as y$,useState as C$}from"react";var w$=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,step:s=1}={},hasMany:i=!1,label:l,localized:a,max:c=1/0,maxRows:u=1/0,min:d=-1/0,required:f},onChange:m,path:h,readOnly:p,validate:g}=t,{i18n:b,t:v}=k(),x=Gg((P,L)=>{if(typeof g=="function")return g(P,{...L,max:c,min:d,required:f})},[g,d,c,f]),{customComponents:{AfterInput:y,BeforeInput:C,Description:S,Error:w,Label:F}={},disabled:R,path:A,setValue:D,showError:_,value:I}=Fe({potentiallyStalePath:h,validate:x}),T=Gg(P=>{let L=parseFloat(P.target.value),V=L;Number.isNaN(L)&&(V=null),typeof m=="function"&&m(V),D(V)},[m,D]),[E,$]=C$([]),j=Gg(P=>{if(!(p||R)){let L;P?Array.isArray(P)?L=P.map(V=>Number(V.value?.value||V.value)):L=[Number(P.value?.value||P.value)]:L=[],D(L)}},[p,R,D]);x$(()=>{i&&Array.isArray(I)&&$(I.map((P,L)=>({id:`${P}${L}`,label:`${P}`,value:{toString:()=>`${P}${L}`,value:P?.value||P}})))},[I,i]);let N=y$(()=>rt(e),[e]);return U3("div",{className:[ye,"number",o,_&&"error",(p||R)&&"read-only",i&&"has-many"].filter(Boolean).join(" "),style:N,children:[In(re,{CustomComponent:F,Fallback:In(ve,{label:l,localized:a,path:A,required:f})}),U3("div",{className:`${ye}__wrap`,children:[In(re,{CustomComponent:w,Fallback:In(Ge,{path:A,showError:_})}),C,i?In(mt,{className:`field-${A.replace(/\./g,"__")}`,disabled:p||R,filterOption:(P,L)=>{let V=Array.isArray(I)&&I.length>=u;return v$(L)&&!V},isClearable:!0,isCreatable:!0,isMulti:!0,isSortable:!0,noOptionsMessage:()=>Array.isArray(I)&&I.length>=u?v("validation:limitReached",{max:u,value:I.length+1}):null,onChange:j,options:[],placeholder:v("general:enterAValue"),showError:_,value:E}):In("div",{children:In("input",{disabled:p||R,id:`field-${A.replace(/\./g,"__")}`,max:c,min:d,name:A,onChange:T,onWheel:P=>{P.target.blur()},placeholder:b$(r,b),step:s,type:"number",value:typeof I=="number"?I:""})}),y,In(re,{CustomComponent:S,Fallback:In(Be,{description:n,path:A})})]})]})},pc=$e(w$);import{jsx as Kr,jsxs as va}from"react/jsx-runtime";import{getTranslation as Wg}from"@payloadcms/translations";import{useCallback as Y3,useMemo as S$}from"react";var Z3="point",I$=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,step:s}={},label:i,localized:l,required:a},path:c,readOnly:u,validate:d}=t,{i18n:f,t:m}=k(),h=Y3((_,I)=>{if(typeof d=="function")return d(_,{...I,required:a})},[d,a]),{customComponents:{AfterInput:p,BeforeInput:g,Description:b,Error:v,Label:x}={},disabled:y,path:C,setValue:S,showError:w,value:F=[null,null]}=Fe({potentiallyStalePath:c,validate:h}),R=Y3((_,I)=>{let T=parseFloat(_.target.value);Number.isNaN(T)&&(T=_.target.value);let E=[...F];E[I]=T,S(E)},[S,F]),A=_=>{let I=m(_==="longitude"?"fields:longitude":"fields:latitude"),T=i?Wg(i,f):"";return`${T}${T?" - ":""}${I}`},D=S$(()=>rt(e),[e]);return va("div",{className:[ye,Z3,o,w&&"error",(u||y)&&"read-only"].filter(Boolean).join(" "),style:D,children:[va("ul",{className:`${Z3}__wrap`,children:[va("li",{children:[Kr(re,{CustomComponent:x,Fallback:Kr(ve,{label:A("longitude"),localized:l,path:C,required:a})}),va("div",{className:"input-wrapper",children:[g,Kr("input",{disabled:u||y,id:`field-longitude-${C?.replace(/\./g,"__")}`,name:`${C}.longitude`,onChange:_=>R(_,0),placeholder:Wg(r,f),step:s,type:"number",value:F&&typeof F[0]=="number"?F[0]:""}),p]})]}),va("li",{children:[Kr(re,{CustomComponent:x,Fallback:Kr(ve,{label:A("latitude"),localized:l,path:C,required:a})}),va("div",{className:"input-wrapper",children:[Kr(re,{CustomComponent:v,Fallback:Kr(Ge,{path:C,showError:w})}),g,Kr("input",{disabled:u||y,id:`field-latitude-${C?.replace(/\./g,"__")}`,name:`${C}.latitude`,onChange:_=>R(_,1),placeholder:Wg(r,f),step:s,type:"number",value:F&&typeof F[1]=="number"?F[1]:""}),p]})]})]}),Kr(re,{CustomComponent:b,Fallback:Kr(Be,{description:n,path:C})})]})},hc=$e(I$);import{jsx as Rn,jsxs as J3}from"react/jsx-runtime";import{optionIsObject as q3}from"payload/shared";import{useCallback as F$,useMemo as A$}from"react";import{c as R$}from"react/compiler-runtime";import{jsx as Rm,jsxs as _$}from"react/jsx-runtime";import{getTranslation as D$}from"@payloadcms/translations";import"react";var gc="radio-input",bc=t=>{let e=R$(16),{isSelected:o,onChange:n,option:r,path:s,readOnly:i,uuid:l}=t,{i18n:a}=k(),c=lt(),u=`field-${s}-${r.value}${c>1?`-${c}`:""}${l?`-${l}`:""}`,d=o&&`${gc}--is-selected`,f;e[0]!==d?(f=[gc,d].filter(Boolean),e[0]=d,e[1]=f):f=e[1];let m=f.join(" "),h;e[2]!==n||e[3]!==r.value?(h=()=>typeof n=="function"?n(r.value):null,e[2]=n,e[3]=r.value,e[4]=h):h=e[4];let p;if(e[5]!==a||e[6]!==u||e[7]!==o||e[8]!==r.label||e[9]!==s||e[10]!==i||e[11]!==m||e[12]!==h){let g=Rm("input",{checked:o,disabled:i,id:u,name:s,onChange:h,type:"radio"}),b=i&&`${gc}__styled-radio--disabled`,v;e[14]!==b?(v=[`${gc}__styled-radio`,b].filter(Boolean),e[14]=b,e[15]=v):v=e[15],p=Rm("label",{htmlFor:u,children:_$("div",{className:m,children:[g,Rm("span",{className:v.join(" ")}),Rm("span",{className:`${gc}__label`,children:D$(r.label,a)})]})}),e[5]=a,e[6]=u,e[7]=o,e[8]=r.label,e[9]=s,e[10]=i,e[11]=m,e[12]=h,e[13]=p}else p=e[13];return p};var _m="radio-group",T$=t=>{let{disableModifyingForm:e,field:o,field:{admin:{className:n,description:r,layout:s="horizontal"}={},label:i,localized:l,options:a=[],required:c}={},onChange:u,path:d,readOnly:f,validate:m,value:h}=t,{uuid:p}=Oe(),g=F$((I,T)=>{if(typeof m=="function")return m(I,{...T,options:a,required:c})},[m,a,c]),{customComponents:{AfterInput:b,BeforeInput:v,Description:x,Error:y,Label:C}={},disabled:S,path:w,setValue:F,showError:R,value:A}=Fe({potentiallyStalePath:d,validate:g}),D=A||h,_=A$(()=>rt(o),[o]);return J3("div",{className:[ye,_m,n,`${_m}--layout-${s}`,R&&"error",(f||S)&&`${_m}--read-only`].filter(Boolean).join(" "),style:_,children:[Rn(re,{CustomComponent:y,Fallback:Rn(Ge,{path:w,showError:R})}),Rn(re,{CustomComponent:C,Fallback:Rn(ve,{label:i,localized:l,path:w,required:c})}),J3("div",{className:`${ye}__wrap`,children:[v,Rn("ul",{className:`${_m}--group`,id:`field-${w.replace(/\./g,"__")}`,children:a.map(I=>{let T="";q3(I)?T=I.value:T=I;let E=String(T)===String(D),$=`field-${w}-${T}${p?`-${p}`:""}`;return Rn("li",{children:Rn(bc,{id:$,isSelected:E,onChange:()=>{typeof u=="function"&&u(T),f||S||F(T,!!e)},option:q3(I)?I:{label:I,value:I},path:w,readOnly:f||S,uuid:p})},`${w} - ${T}`)})}),b,Rn(re,{CustomComponent:x,Fallback:Rn(Be,{description:r,path:w})})]})]})},vc=$e(T$);import{jsx as Or,jsxs as Yg}from"react/jsx-runtime";import{dequal as ok}from"dequal/lite";import{wordBoundariesRegex as rk}from"payload/shared";import*as Zg from"qs-esm";import{useCallback as _n,useEffect as Em,useMemo as pS,useReducer as nk,useRef as Cc,useState as ls}from"react";import{c as E$}from"react/compiler-runtime";import{jsx as en,jsxs as Dm}from"react/jsx-runtime";import{getTranslation as Q3}from"@payloadcms/translations";import{Fragment as Hg,useEffect as Fm,useState as xc}from"react";var xa="relationship-add-new",K3=t=>{let e=E$(45),{Button:o,hasMany:n,path:r,relationTo:s,setValue:i,unstyled:l,value:a}=t,c=um(s),{permissions:u}=Re(),[d,f]=xc(!1),[m,h]=xc(),p=c.length>1,g;e[0]!==c[0]||e[1]!==p?(g=()=>p?void 0:c[0],e[0]=c[0],e[1]=p,e[2]=g):g=e[2];let[b,v]=xc(g),[x,y]=xc(!1),{i18n:C,t:S}=k(),[w,F]=xc(!1),R=b?.slug,A;e[3]!==R?(A={collectionSlug:R},e[3]=R,e[4]=A):A=e[4];let[D,_,I]=Qt(A),{isDrawerOpen:T,toggleDrawer:E}=I,$;e[5]!==b?.slug||e[6]!==n||e[7]!==s||e[8]!==i||e[9]!==a?($=Y=>{let{doc:le,operation:J}=Y;if(J==="create"){let ue=Array.isArray(s)?{relationTo:b?.slug,value:le.id}:le.id;(Array.isArray(s)&&Array.isArray(a)?!a.some(K=>K&&typeof K=="object"&&K.value===le.id):a!==le.id)&&i(n?[...Array.isArray(a)?a:[],ue]:ue),h(void 0)}},e[5]=b?.slug,e[6]=n,e[7]=s,e[8]=i,e[9]=a,e[10]=$):$=e[10];let j=$,N;e[11]===Symbol.for("react.memo_cache_sentinel")?(N=Y=>{y(Y)},e[11]=N):N=e[11];let P=N,L,V;e[12]!==u||e[13]!==c?(L=()=>{u&&(c.length===1?f(u.collections[c[0]?.slug]?.create):f(c.some(Y=>u.collections[Y?.slug]?.create)))},V=[u,c],e[12]=u,e[13]=c,e[14]=L,e[15]=V):(L=e[14],V=e[15]),Fm(L,V);let M,O;e[16]!==c||e[17]!==p||e[18]!==m?(O=()=>{p&&m&&v(c.find(Y=>Y?.slug===m))},M=[m,p,c],e[16]=c,e[17]=p,e[18]=m,e[19]=M,e[20]=O):(M=e[19],O=e[20]),Fm(O,M);let B,G;e[21]!==b||e[22]!==p||e[23]!==E?(B=()=>{p&&b&&(E(),h(void 0))},G=[E,p,b],e[21]=b,e[22]=p,e[23]=E,e[24]=B,e[25]=G):(B=e[24],G=e[25]),Fm(B,G);let X,Z;e[26]!==T||e[27]!==p?(X=()=>{p&&!T&&v(void 0)},Z=[T,p],e[26]=T,e[27]=p,e[28]=X,e[29]=Z):(X=e[28],Z=e[29]),Fm(X,Z);let oe=c[0].labels.singular,z;if(e[30]!==o||e[31]!==D||e[32]!==_||e[33]!==b||e[34]!==C||e[35]!==j||e[36]!==r||e[37]!==u||e[38]!==x||e[39]!==c||e[40]!==d||e[41]!==w||e[42]!==S||e[43]!==l){z=Symbol.for("react.early_return_sentinel");e:{let Y=S("fields:addNewLabel",{label:Q3(oe,C)});if(d){z=Dm("div",{className:xa,id:`${r}-add-new`,children:[c.length===1&&Dm(Hg,{children:[en(_,{className:[`${xa}__add-button`,l&&`${xa}__add-button--unstyled`].filter(Boolean).join(" "),onClick:()=>F(!1),onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),children:o||Dm(Hg,{children:[en(ho,{className:`${xa}__tooltip`,show:w,children:Y}),en(ko,{})]})}),en(D,{onSave:j})]}),c.length>1&&Dm(Hg,{children:[en(po,{button:o||en(se,{buttonStyle:"none",className:`${xa}__add-button`,tooltip:x?void 0:S("fields:addNew"),children:en(ko,{})}),buttonType:"custom",horizontalAlign:"center",onToggleOpen:P,render:le=>{let{close:J}=le;return en(dp,{children:c.map(ue=>u.collections[ue?.slug].create?en(mp,{className:`${xa}__relation-button--${ue?.slug}`,onClick:()=>{J(),h(ue?.slug)},children:Q3(ue?.labels?.singular,C)},ue?.slug):null)})},size:"medium"}),b&&u.collections[b?.slug]?.create&&en(D,{onSave:j})]})]});break e}}e[30]=o,e[31]=D,e[32]=_,e[33]=b,e[34]=C,e[35]=j,e[36]=r,e[37]=u,e[38]=x,e[39]=c,e[40]=d,e[41]=w,e[42]=S,e[43]=l,e[44]=z}else z=e[44];return z!==Symbol.for("react.early_return_sentinel")?z:null};import{c as L$}from"react/compiler-runtime";import{jsx as Tm}from"react/jsx-runtime";import{createElement as $$}from"react";import{useEffect as rS,useId as k$,useState as nS}from"react";import{jsx as eS,jsxs as P$}from"react/jsx-runtime";import{hoistQueryParamsToAnd as N$}from"payload/shared";import{useCallback as Am,useEffect as tS,useState as zg}from"react";var oS=({allowCreate:t=!0,collectionSlugs:e,disableQueryPresets:o,drawerSlug:n,enableRowSelections:r,filterOptions:s,onBulkSelect:i,onSelect:l,overrideEntityVisibility:a=!0,selectedCollection:c})=>{let{closeModal:u,isModalOpen:d}=ce(),{serverFunction:f}=Ft(),[m,h]=zg(void 0),[p,g]=zg(!0),{config:{collections:b},getEntityConfig:v}=H(),x=d(n),y=b.filter(({slug:E})=>e.includes(E)),[C,S]=zg(()=>{let E=c||y[0]?.slug,$=v({collectionSlug:E});return $?{label:$.labels,value:$.slug}:void 0}),[w,F,{drawerSlug:R}]=Qt({collectionSlug:C.value}),A=eo(E=>{E&&E!==C?.value&&S({label:v({collectionSlug:E})?.labels,value:E})});tS(()=>{A(c)},[c]);let D=Am(async(E,$)=>{try{let j={...$||{},where:{...$?.where||{}}},N=s?.[E];s&&typeof N!="boolean"&&(j.where=N$(j.where,N));let{List:P}=await f({name:"render-list",args:{allowCreate:t,collectionSlug:E,disableBulkDelete:!0,disableBulkEdit:!0,disableQueryPresets:o,drawerSlug:n,enableRowSelections:r,overrideEntityVisibility:a,query:j}});h(P),g(!1)}catch(j){console.error("Error rendering List View: ",j),x&&u(n)}},[f,u,t,n,x,r,s,a,o]);tS(()=>{m||D(C.value)},[D,m,C.value]);let _=Am(({doc:E})=>{typeof l=="function"&&l({collectionSlug:C.value,doc:E,docID:E.id}),u(R),u(n)},[u,R,n,l,C.value]),I=Am(E=>{D(C.value,E)},[D,C.value]),T=Am(E=>{S(E),D(E.value)},[D]);return p?eS(wn,{}):P$(pg,{allowCreate:t,createNewDrawerSlug:R,DocumentDrawerToggler:F,drawerSlug:n,enabledCollections:e,onBulkSelect:i,onQueryChange:I,onSelect:l,selectedOption:C,setSelectedOption:T,children:[m,eS(w,{onSave:_})]})};var sS="list-drawer",j$=({depth:t,uuid:e})=>`list-drawer_${t}_${e}`,O$=({children:t,className:e,disabled:o,drawerSlug:n,onClick:r,...s})=>Tm(cr,{className:[e,`${sS}__toggler`].filter(Boolean).join(" "),disabled:o,onClick:r,slug:n,...s,children:t}),M$=t=>{let{drawerSlug:e}=t;return Tm(Lt,{className:sS,gutter:!1,Header:null,slug:e,children:Tm(oS,{...t})})},ai=t=>{let e=L$(42),{collectionSlugs:o,filterOptions:n,selectedCollection:r,uploads:s}=t,{config:i}=H(),{collections:l}=i,a=lt(),c=k$(),{closeModal:u,modalState:d,openModal:f,toggleModal:m}=ce(),[h,p]=nS(!1),[g,b]=nS(o),v;e[0]!==a||e[1]!==c?(v=j$({depth:a,uuid:c}),e[0]=a,e[1]=c,e[2]=v):v=e[2];let x=v,y,C;e[3]!==x||e[4]!==d?(y=()=>{p(!!d[x]?.isOpen)},C=[d,x],e[3]=x,e[4]=d,e[5]=y,e[6]=C):(y=e[5],C=e[6]),rS(y,C);let S,w;e[7]!==g||e[8]!==l||e[9]!==s?(S=()=>{if(!g||g.length===0){let B=l.filter(G=>{let{upload:X}=G;return s?!!X:!0});b(B.map(B$))}},w=[g,s,l],e[7]=g,e[8]=l,e[9]=s,e[10]=S,e[11]=w):(S=e[10],w=e[11]),rS(S,w);let F;e[12]!==x||e[13]!==m?(F=()=>{m(x)},e[12]=x,e[13]=m,e[14]=F):F=e[14];let R=F,A;e[15]!==u||e[16]!==x?(A=()=>{u(x)},e[15]=u,e[16]=x,e[17]=A):A=e[17];let D=A,_;e[18]!==x||e[19]!==f?(_=()=>{f(x)},e[18]=x,e[19]=f,e[20]=_):_=e[20];let I=_,T,E;e[21]!==D||e[22]!==g||e[23]!==x||e[24]!==n||e[25]!==r||e[26]!==s?(E=B=>$$(M$,{...B,closeDrawer:D,collectionSlugs:g,drawerSlug:x,filterOptions:n,key:x,selectedCollection:r,uploads:s}),e[21]=D,e[22]=g,e[23]=x,e[24]=n,e[25]=r,e[26]=s,e[27]=E):E=e[27],T=E;let $=T,j,N;e[28]!==x?(N=B=>Tm(O$,{...B,drawerSlug:x}),e[28]=x,e[29]=N):N=e[29],j=N;let P=j,L,V;e[30]!==D||e[31]!==g||e[32]!==a||e[33]!==x||e[34]!==h||e[35]!==I||e[36]!==R?(V={closeDrawer:D,collectionSlugs:g,drawerDepth:a,drawerSlug:x,isDrawerOpen:h,openDrawer:I,setCollectionSlugs:b,toggleDrawer:R},e[30]=D,e[31]=g,e[32]=a,e[33]=x,e[34]=h,e[35]=I,e[36]=R,e[37]=V):V=e[37],L=V;let M=L,O;return e[38]!==$||e[39]!==M||e[40]!==P?(O=[$,P,M],e[38]=$,e[39]=M,e[40]=P,e[41]=O):O=e[41],O};function B$(t){let{slug:e}=t;return e}import{c as V$}from"react/compiler-runtime";import{useRef as G$}from"react";var Xg=(t,e)=>{let o=V$(3),n=G$(void 0),r;return o[0]!==t||o[1]!==e?(r=(...s)=>{let i=s,l=()=>{clearTimeout(n.current),t(...i)};clearTimeout(n.current),n.current=setTimeout(l,e)},o[0]=t,o[1]=e,o[2]=r):r=o[2],r};var Ug=({hasMany:t,relationTo:e,value:o})=>{let n=Array.isArray(e),r;if(Array.isArray(e)?r=e.reduce((i,l)=>({...i,[l]:[]}),{}):r={[e]:[]},o===null)return r;let s=(i,l)=>{(typeof l=="string"||typeof l=="number")&&typeof i=="string"&&(r[i]?r[i].push(l):r[i]=[l])};return t&&Array.isArray(o)?o.forEach(i=>{n&&typeof i=="object"&&"relationTo"in i&&"value"in i&&s(i.relationTo,i.value),!n&&typeof e=="string"&&s(e,i)}):n&&Array.isArray(e)?typeof o=="object"&&"relationTo"in o&&"value"in o&&s(o.relationTo,o.value):s(e,o),r};var iS=({allowEdit:t,options:e,value:o})=>{if(o||typeof o=="number"){if(Array.isArray(o))return o.map(r=>{let s;return e.forEach(i=>{s||(s=i.options.find(l=>typeof r=="object"?l.value===r.value&&l.relationTo===r.relationTo:r===l.value))}),s?{allowEdit:t,...s}:void 0});let n;return e.forEach(r=>{n||(n=r.options.find(s=>typeof o=="object"?s.value===o.value&&s.relationTo===o.relationTo:o===s.value))}),n?{allowEdit:t,...n}:void 0}};import{getTranslation as W$}from"@payloadcms/translations";var lS=t=>t.reduce((e,o)=>o.options?[...e,...lS(o.options)]:[...e,{id:o.value,relationTo:o.relationTo}],[]),aS=t=>t.sort((e,o)=>typeof e?.label?.localeCompare=="function"&&typeof o?.label?.localeCompare=="function"?e.label.localeCompare(o.label):0),cS=(t,e)=>{switch(e.type){case"ADD":{let{collection:o,config:n,docs:r,i18n:s,ids:i=[],sort:l}=e,a=o.slug,c=lS(t),u=[...t],d=u.find(m=>m.label===o.labels.plural),f=r.reduce((m,h)=>{if(c.filter(p=>p.id===h.id&&p.relationTo===a).length===0){c.push({id:h.id,relationTo:a});let p=ur({collectionConfig:o,data:h,dateFormat:n.admin.dateFormat,fallback:`${s.t("general:untitled")} - ID: ${h.id}`,i18n:s});return[...m,{label:p,relationTo:a,value:h.id}]}return m},[]);if(i.forEach(m=>{c.filter(h=>h.id===m&&h.relationTo===a).length===0&&(c.push({id:m,relationTo:a}),f.push({allowEdit:!1,label:`${s.t("general:untitled")} - ID: ${m}`,relationTo:a,value:m}))}),d){let m=[...d.options,...f];d.options=l?aS(m):m}else u.push({label:W$(o.labels.plural,s),options:l?aS(f):f});return u}case"CLEAR":{let o=e.exemptValues?Array.isArray(e.exemptValues)?e.exemptValues:[e.exemptValues]:[];return t.filter(r=>{let s=r.options.filter(i=>o?o.some(l=>l&&i.value===(typeof l=="object"?l.value:l)):!1);return r.options=s,s.length>0})}case"REMOVE":{let{id:o,collection:n}=e,r=[...t],s=r.findIndex(i=>i.label===n.labels.plural);return s===-1||(r[s]={...r[s],options:r[s].options.filter(i=>i.value!==o)}),r}case"UPDATE":{let{collection:o,config:n,doc:r,i18n:s}=e,i=o.slug,l=[...t],a=ur({collectionConfig:o,data:r,dateFormat:n.admin.dateFormat,fallback:`${s.t("general:untitled")} - ID: ${r.id}`,i18n:s}),u=l.find(d=>d.label===o.labels.plural)?.options?.find(d=>d.value===r.id);return u&&(u.label=a,u.relationTo=i),l}default:return t}};import{c as H$}from"react/compiler-runtime";import{jsx as yc,jsxs as uS}from"react/jsx-runtime";import{Fragment as z$,useState as X$}from"react";var ya="relationship--multi-value-label",dS=t=>{let e=H$(26),{data:o,selectProps:n}=t,{allowEdit:r,label:s,relationTo:i,value:l}=o,a;e[0]!==n?(a=n===void 0?{}:n,e[0]=n,e[1]=a):a=e[1];let{customProps:c}=a,u;e[2]!==c?(u=c===void 0?{}:c,e[2]=c,e[3]=u):u=e[3];let{draggableProps:d,onDocumentDrawerOpen:f}=u,{permissions:m}=Re(),[h,p]=X$(!1),{t:g}=k(),b=!!m?.collections?.[i]?.read,v;e[4]!==d?(v=d||{},e[4]=d,e[5]=v):v=e[5];let x;if(e[6]!==r||e[7]!==b||e[8]!==s||e[9]!==f||e[10]!==t||e[11]!==i||e[12]!==h||e[13]!==g||e[14]!==v||e[15]!==l){let y;e[17]!==r||e[18]!==b||e[19]!==s||e[20]!==f||e[21]!==i||e[22]!==h||e[23]!==g||e[24]!==l?(y=i&&b&&r!==!1&&yc(z$,{children:uS("button",{"aria-label":`Edit ${s}`,className:`${ya}__drawer-toggler`,onClick:()=>{p(!1),f({id:l,collectionSlug:i,hasReadPermission:b})},onKeyDown:U$,onMouseDown:Y$,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onTouchEnd:Z$,type:"button",children:[yc(ho,{className:`${ya}__tooltip`,show:h,children:g("general:editLabel",{label:""})}),yc(Ir,{className:`${ya}__icon`})]})}),e[17]=r,e[18]=b,e[19]=s,e[20]=f,e[21]=i,e[22]=h,e[23]=g,e[24]=l,e[25]=y):y=e[25],x=uS("div",{className:ya,children:[yc("div",{className:`${ya}__content`,children:yc(lo.MultiValueLabel,{...t,innerProps:{className:`${ya}__text`,...v}})}),y]}),e[6]=r,e[7]=b,e[8]=s,e[9]=f,e[10]=t,e[11]=i,e[12]=h,e[13]=g,e[14]=v,e[15]=l,e[16]=x}else x=e[16];return x};function U$(t){t.key==="Enter"&&t.stopPropagation()}function Y$(t){return t.stopPropagation()}function Z$(t){return t.stopPropagation()}import{c as J$}from"react/compiler-runtime";import{jsx as Ca,jsxs as mS}from"react/jsx-runtime";import{Fragment as q$,useState as Q$}from"react";var wa="relationship--single-value",fS=t=>{let e=J$(24),{children:o,data:n,selectProps:r}=t,{allowEdit:s,label:i,relationTo:l,value:a}=n,c;e[0]!==r?(c=r===void 0?{}:r,e[0]=r,e[1]=c):c=e[1];let{customProps:u}=c,d;e[2]!==u?(d=u===void 0?{}:u,e[2]=u,e[3]=d):d=e[3];let{onDocumentDrawerOpen:f}=d,[m,h]=Q$(!1),{t:p}=k(),{permissions:g}=Re(),b=!!g?.collections?.[l]?.read,v;if(e[4]!==s||e[5]!==o||e[6]!==b||e[7]!==i||e[8]!==f||e[9]!==t||e[10]!==l||e[11]!==m||e[12]!==p||e[13]!==a){let x;e[15]!==s||e[16]!==b||e[17]!==i||e[18]!==f||e[19]!==l||e[20]!==m||e[21]!==p||e[22]!==a?(x=l&&b&&s!==!1&&Ca(q$,{children:mS("button",{"aria-label":p("general:editLabel",{label:i}),className:`${wa}__drawer-toggler`,onClick:()=>{h(!1),f({id:a,collectionSlug:l,hasReadPermission:b})},onKeyDown:K$,onMouseDown:ek,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),onTouchEnd:tk,type:"button",children:[Ca(ho,{className:`${wa}__tooltip`,show:m,children:p("general:edit")}),Ca(Ir,{})]})}),e[15]=s,e[16]=b,e[17]=i,e[18]=f,e[19]=l,e[20]=m,e[21]=p,e[22]=a,e[23]=x):x=e[23],v=Ca(lo.SingleValue,{...t,className:wa,children:Ca("div",{className:`${wa}__label`,children:mS("div",{className:`${wa}__label-text`,children:[Ca("div",{className:`${wa}__text`,children:o}),x]})})}),e[4]=s,e[5]=o,e[6]=b,e[7]=i,e[8]=f,e[9]=t,e[10]=l,e[11]=m,e[12]=p,e[13]=a,e[14]=v}else v=e[14];return v};function K$(t){t.key==="Enter"&&t.stopPropagation()}function ek(t){return t.stopPropagation()}function tk(t){return t.stopPropagation()}var sk=10,wc="relationship",ik=t=>{let{field:e,field:{admin:{allowCreate:o=!0,allowEdit:n=!0,appearance:r="select",className:s,description:i,isSortable:l=!0,sortOptions:a}={},hasMany:c,label:u,localized:d,relationTo:f,required:m},path:h,readOnly:p,validate:g}=t,{config:b,getEntityConfig:v}=H(),{routes:{api:x},serverURL:y}=b,{i18n:C,t:S}=k(),{permissions:w}=Re(),{code:F}=Pe(),R=Array.isArray(f),[A,D]=ls({id:void 0,collectionSlug:void 0,hasReadPermission:!1}),[_,I]=ls(-1),[T,E]=ls({}),[$,j]=ls(""),[N,P]=ls(""),[L,V]=ls(!1),[M,O]=ls(!1),[B,G]=ls(!1),X=Cc(!1),Z=_n((W,ee)=>{if(typeof g=="function")return g(W,{...ee,required:m})},[g,m]),{customComponents:{AfterInput:oe,BeforeInput:z,Description:Y,Error:le,Label:J}={},disabled:ue,filterOptions:te,initialValue:K,path:he,setValue:fe,showError:Ne,value:be}=Fe({potentiallyStalePath:h,validate:Z}),[Xe,Q]=nk(cS,[]),ke=Cc(be);ke.current=be;let[Ce,,{isDrawerOpen:ae,openDrawer:ie}]=Qt({id:A.id,collectionSlug:A.collectionSlug}),U=pS(()=>{let W=te;return be&&(Array.isArray(be)?be:[be]).forEach(ee=>{(Array.isArray(f)?f:[f]).forEach(pe=>{W={...te||{},[pe]:{...typeof te?.[pe]=="object"?te[pe]:{},id:{not_in:[typeof ee=="object"?ee.value:ee]}}}})}),W},[te,be,f]),[ne,,{closeDrawer:de,isDrawerOpen:Ae,openDrawer:We}]=ai({collectionSlugs:R?f:[f],filterOptions:U}),Le=_n(({collectionSlug:W,doc:ee})=>{let pe=R?{relationTo:W,value:ee.id}:ee.id;if(c){let De=Array.isArray(be)?be:[];De.push(pe),fe(De)}else fe(pe);de()},[c,R,fe,de,be]),Ve=Cc(!1),ht=_n(async({filterOptions:W,lastFullyLoadedRelation:ee,lastLoadedPage:pe,onSuccess:De,search:Ee,sort:we,value:ze})=>{if(!w)return;let Xt=typeof ee<"u"?ee:-1,Ze=Array.isArray(f)?f:[f],Dt=Xt===-1?Ze:Ze.slice(Xt+1),mo=0,fo=Ug({hasMany:c,relationTo:f,value:ze});$||(await Dt.reduce(async(Vn,je)=>{let xo=W?.[je],zo;if(N!==Ee?zo=1:zo=pe[je]+1,await Vn,xo===!1)return I(Ze.indexOf(je)),Promise.resolve();if(mo<10){let Ut=v({collectionSlug:je}),Gn=Ut?.admin?.useAsTitle||"id",Ei=Ut?.defaultSort||"id";typeof a=="string"?Ei=a:a?.[je]&&(Ei=a[je]);let tl={depth:0,draft:!0,limit:sk,locale:F,page:zo,sort:Ei,where:{and:[{id:{not_in:fo[je]}}]}};Ee&&tl.where.and.push({[Gn]:{like:Ee}}),xo&&typeof xo!="boolean"&&tl.where.and.push(xo);let _s=await fetch(`${y}${x}/${je}`,{body:Zg.stringify(tl),credentials:"include",headers:{"Accept-Language":C.language,"Content-Type":"application/x-www-form-urlencoded","X-HTTP-Method-Override":"GET"},method:"POST"});if(_s.ok){let Pi=await _s.json();E(Ni=>({...Ni,[je]:zo})),Pi.nextPage||I(Ze.indexOf(je)),Pi.docs.length>0&&(mo+=Pi.docs.length,Q({type:"ADD",collection:Ut,config:b,docs:Pi.docs,i18n:C,sort:we}))}else _s.status===403?(I(Ze.indexOf(je)),Q({type:"ADD",collection:Ut,config:b,docs:[],i18n:C,ids:fo[je],sort:we})):j(S("error:unspecific"))}},Promise.resolve()),typeof De=="function"&&De())},[w,f,c,$,N,v,F,y,a,x,C,b,S]),Ye=Xg((W,ee)=>{ht({filterOptions:te,lastLoadedPage:{},search:W,sort:!0,value:ee}),P(W)},300),ut=_n((W,ee)=>{N!==W&&(E({}),Ye(W,ee,W!==""))},[N,Ye]),Mt=eo(W=>{let ee=Ug({hasMany:c,relationTo:f,value:W});Object.entries(ee).reduce(async(pe,[De,Ee])=>{await pe;let we=Ee.filter(ze=>!Xe.find(Xt=>Xt?.options?.find(Ze=>Ze.value===ze&&Ze.relationTo===De)));if(we.length>0){let ze={depth:0,draft:!0,limit:we.length,locale:F,where:{id:{in:we}}};if(!$){let Xt=await fetch(`${y}${x}/${De}`,{body:Zg.stringify(ze),credentials:"include",headers:{"Accept-Language":C.language,"Content-Type":"application/x-www-form-urlencoded","X-HTTP-Method-Override":"GET"},method:"POST"}),Ze=v({collectionSlug:De}),Dt=[];Xt.ok&&(Dt=(await Xt.json()).docs),Q({type:"ADD",collection:Ze,config:b,docs:Dt,i18n:C,ids:we,sort:!0})}}},Promise.resolve())}),Ue=Cc(be),He=Cc(!0);Em(()=>{(He.current||!ok(be,Ue.current))&&Mt(be),He.current=!1,Ue.current=be},[be]),Em(()=>{let ee=(Array.isArray(f)?f:[f]).reduce((pe,De)=>(v({collectionSlug:De})?.admin?.useAsTitle||"id")==="id"&&pe,!0);O(!ee)},[f,v]);let qe=eo(async W=>await ht(W));Em(()=>{X.current&&B&&(V(!0),qe({filterOptions:te,lastLoadedPage:{},onSuccess:()=>{X.current=!0,V(!1)},value:ke.current})),Q({type:"CLEAR",exemptValues:ke.current}),I(-1),E({})},[f,te,F,he,B]);let vt=_n(W=>{Q({type:"UPDATE",collection:W.collectionConfig,config:b,doc:W.doc,i18n:C});let ee=ke.current,pe=W.doc.id;if(c){let De=ee.some(we=>typeof we=="string"?we===pe:we.value===pe),Ee=ee.map(we=>we.value===pe?{relationTo:W.collectionConfig.slug,value:pe}:we);fe(Ee,De)}else{let De=ee===pe;fe({relationTo:W.collectionConfig.slug,value:pe},De)}},[C,b,c,fe]),Et=_n(W=>{Q({type:"ADD",collection:W.collectionConfig,config:b,docs:[W.doc],i18n:C,sort:!0}),fe(c?ke.current?ke.current.concat({relationTo:W.collectionConfig.slug,value:W.doc.id}):null:{relationTo:W.collectionConfig.slug,value:W.doc.id})},[C,b,c,fe]),Ct=_n(W=>{Q({id:W.id,type:"REMOVE",collection:W.collectionConfig,config:b,i18n:C}),fe(c&&ke.current?ke.current.filter(ee=>ee.value!==W.id):null)},[C,b,c,fe]),Qe=_n((W,ee)=>{if(!ee)return!0;let pe=rk(ee||""),De=250,Ee=String(W.label);for(;Ee.length>De;){let we=Ee.indexOf(" ",ee.length);if(pe.test(Ee.slice(0,we===-1?ee.length:we+1)))return!0;Ee=Ee.slice(we===-1?ee.length:we+1)}return pe.test(Ee.slice(-De))},[]),Pt=_n(({id:W,collectionSlug:ee,hasReadPermission:pe})=>{Ve.current=!0,D({id:W,collectionSlug:ee,hasReadPermission:pe})},[]);Em(()=>{Ve.current&&(ie(),Ve.current=!1)},[ie,A]);let ge=iS({allowEdit:n,options:Xe,value:be});!Array.isArray(ge)&&ge?.value==="null"&&(ge.value=null);let q=pS(()=>rt(e),[e]);return Yg("div",{className:[ye,wc,s,Ne&&"error",$&&"error-loading",(p||ue)&&`${wc}--read-only`,!(p||ue)&&o&&`${wc}--allow-create`].filter(Boolean).join(" "),id:`field-${he.replace(/\./g,"__")}`,style:q,children:[Or(re,{CustomComponent:J,Fallback:Or(ve,{label:u,localized:d,path:he,required:m})}),Yg("div",{className:`${ye}__wrap`,children:[Or(re,{CustomComponent:le,Fallback:Or(Ge,{path:he,showError:Ne})}),z,!$&&Yg("div",{className:`${wc}__wrap`,children:[Or(mt,{backspaceRemovesValue:!(ae||Ae),components:{MultiValueLabel:dS,SingleValue:fS,...r!=="select"&&{DropdownIndicator:null}},customProps:{disableKeyDown:ae||Ae,disableMouseDown:ae||Ae,onDocumentDrawerOpen:Pt,onSave:vt},disabled:p||ue||ae||Ae,filterOption:M?Qe:void 0,getOptionValue:W=>{if(W)return c&&Array.isArray(f)?`${W.relationTo}_${W.value}`:W.value},isLoading:r==="select"&&L,isMulti:c,isSearchable:r==="select",isSortable:l,menuIsOpen:r==="select"?B:!1,onChange:p||ue?void 0:W=>{W===null?fe(c?[]:null):c&&Array.isArray(W)?fe(W?W.map(ee=>R?{relationTo:ee.relationTo,value:ee.value}:ee.value):null):R&&!Array.isArray(W)?fe({relationTo:W.relationTo,value:W.value}):Array.isArray(W)||fe(W.value)},onInputChange:W=>ut(W,be),onMenuClose:()=>{G(!1)},onMenuOpen:()=>{r==="drawer"?We():r==="select"&&(G(!0),X.current||(V(!0),ht({filterOptions:te,lastLoadedPage:{},onSuccess:()=>{X.current=!0,V(!1)},value:K})))},onMenuScrollToBottom:()=>{ht({filterOptions:te,lastFullyLoadedRelation:_,lastLoadedPage:T,search:N,sort:!1,value:K})},options:Xe,showError:Ne,value:ge??null}),!(p||ue)&&o&&Or(K3,{hasMany:c,path:he,relationTo:f,setValue:fe,value:be})]}),$&&Or("div",{className:`${wc}__error-loading`,children:$}),oe,Or(re,{CustomComponent:Y,Fallback:Or(Be,{description:i,path:he})})]}),A.collectionSlug&&A.hasReadPermission&&Or(Ce,{onDelete:Ct,onDuplicate:Et,onSave:vt}),r==="drawer"&&!p&&Or(ne,{allowCreate:o,enableRowSelections:!1,onSelect:Le})]})},Sc=$e(ik);var Ic=()=>null;import{jsx as Jg}from"react/jsx-runtime";import"react";var hS="row",ak=t=>{let{field:{admin:{className:e,style:o}={},fields:n},forceRender:r=!1,indexPath:s="",parentPath:i="",parentSchemaPath:l="",permissions:a,readOnly:c}=t;return Jg(E2,{children:Jg("div",{className:[ye,hS,e].filter(Boolean).join(" "),style:o||void 0,children:Jg(So,{className:`${hS}__fields`,fields:n,forceRender:r,margins:!1,parentIndexPath:s,parentPath:i,parentSchemaPath:l,permissions:a,readOnly:c})})})},Rc=$e(ak);import{jsx as ck}from"react/jsx-runtime";import uk,{useCallback as bS,useMemo as dk}from"react";import{c as lk}from"react/compiler-runtime";import{jsx as li,jsxs as gS}from"react/jsx-runtime";import{getTranslation as qg}from"@payloadcms/translations";import"react";var Sa=t=>{let e=lk(39),{AfterInput:o,BeforeInput:n,className:r,Description:s,description:i,Error:l,hasMany:a,isClearable:c,isSortable:u,label:d,Label:f,localized:m,onChange:h,onInputChange:p,options:g,path:b,readOnly:v,required:x,showError:y,style:C,value:S}=t,w=a===void 0?!1:a,F=c===void 0?!0:c,R=u===void 0?!0:u,{i18n:A}=k(),D;if(e[0]!==o||e[1]!==n||e[2]!==s||e[3]!==l||e[4]!==f||e[5]!==r||e[6]!==i||e[7]!==w||e[8]!==A||e[9]!==F||e[10]!==R||e[11]!==d||e[12]!==m||e[13]!==h||e[14]!==p||e[15]!==g||e[16]!==b||e[17]!==v||e[18]!==x||e[19]!==y||e[20]!==C||e[21]!==S){let _;if(w&&Array.isArray(S)){let j;e[23]!==A||e[24]!==g?(j=N=>{let P=g.find(L=>L.value===N);return{label:P?qg(P.label,A):N,value:P?.value??N}},e[23]=A,e[24]=g,e[25]=j):j=e[25],_=S.map(j)}else if(S){let j,N;if(e[26]!==A||e[27]!==g||e[28]!==S){let P;e[31]!==S?(P=L=>L.value===S,e[31]=S,e[32]=P):P=e[32],j=g.find(P),N=j?qg(j.label,A):S,e[26]=A,e[27]=g,e[28]=S,e[29]=j,e[30]=N}else j=e[29],N=e[30];_={label:N,value:j?.value??S}}else _=null;let I=y&&"error",T=v&&"read-only",E;e[33]!==r||e[34]!==I||e[35]!==T?(E=[ye,"select",r,I,T].filter(Boolean),e[33]=r,e[34]=I,e[35]=T,e[36]=E):E=e[36];let $;e[37]!==A?($=j=>({...j,label:qg(j.label,A)}),e[37]=A,e[38]=$):$=e[38],D=gS("div",{className:E.join(" "),id:`field-${b.replace(/\./g,"__")}`,style:C,children:[li(re,{CustomComponent:f,Fallback:li(ve,{label:d,localized:m,path:b,required:x})}),gS("div",{className:`${ye}__wrap`,children:[li(re,{CustomComponent:l,Fallback:li(Ge,{path:b,showError:y})}),n,li(mt,{disabled:v,isClearable:F,isMulti:w,isSortable:R,onChange:h,onInputChange:p,options:g.map($),showError:y,value:_}),o]}),li(re,{CustomComponent:s,Fallback:li(Be,{description:i,path:b})})]}),e[0]=o,e[1]=n,e[2]=s,e[3]=l,e[4]=f,e[5]=r,e[6]=i,e[7]=w,e[8]=A,e[9]=F,e[10]=R,e[11]=d,e[12]=m,e[13]=h,e[14]=p,e[15]=g,e[16]=b,e[17]=v,e[18]=x,e[19]=y,e[20]=C,e[21]=S,e[22]=D}else D=e[22];return D};var mk=t=>t.map(e=>typeof e=="object"&&(e.value||e.value==="")?e:{label:e,value:e}),fk=t=>{let{field:e,field:{name:o,admin:{className:n,description:r,isClearable:s=!0,isSortable:i=!0}={},hasMany:l=!1,label:a,localized:c,options:u=[],required:d},onChange:f,path:m,readOnly:h,validate:p}=t,g=uk.useMemo(()=>mk(u),[u]),b=bS((T,E)=>{if(typeof p=="function")return p(T,{...E,hasMany:l,options:g,required:d})},[p,d,l,g]),{customComponents:{AfterInput:v,BeforeInput:x,Description:y,Error:C,Label:S}={},disabled:w,path:F,setValue:R,showError:A,value:D}=Fe({potentiallyStalePath:m,validate:b}),_=bS(T=>{if(!h||w){let E=null;T&&l?Array.isArray(T)?E=T.map($=>$.value):E=[]:T&&!Array.isArray(T)&&(E=T.value),typeof f=="function"&&f(E),R(E)}},[h,w,l,R,f]),I=dk(()=>rt(e),[e]);return ck(Sa,{AfterInput:v,BeforeInput:x,className:n,Description:y,description:r,Error:C,hasMany:l,isClearable:s,isSortable:i,Label:S,label:a,localized:c,name:o,onChange:_,options:g,path:F,readOnly:h||w,required:d,showError:A,style:I,value:D})},_c=$e(fk);import{c as kS}from"react/compiler-runtime";import{jsx as Fn,jsxs as jS}from"react/jsx-runtime";import{getTranslation as ej}from"@payloadcms/translations";import{tabHasName as km,toKebabCase as tj}from"payload/shared";import{useEffect as $S,useState as ab}from"react";var ES=Ds(eb(),1);import{jsx as Mr}from"react/jsx-runtime";import{dequal as TS}from"dequal/lite";import{useRouter as Wk}from"next/navigation.js";import{deepCopyObjectSimpleWithoutReactComponents as nb,getDataByPath as Hk,getSiblingData as zk,reduceFieldsToValues as sb,wait as Xk}from"payload/shared";import Uk,{useCallback as Go,useEffect as ui,useReducer as Yk,useRef as Ac,useState as us}from"react";import{c as vk}from"react/compiler-runtime";import{jsx as CS,jsxs as xk}from"react/jsx-runtime";import yk from"react";function Ck(t){let e=[];for(let o of t)if(o){let n=o.split(" \u2192 "),r=!1;for(let s=0;s<e.length;s++)if(e[s].startsWith(n[0])){e.splice(s+1,0,o),r=!0;break}r||e.push(o)}return e}function wk(t){let[e,o]=t.split(":");if(!o)return{message:e};let n=o.split(",").map(r=>r.replaceAll(" > "," \u2192 ").trim());return n.length===1?{errors:n,message:`${e}:`}:{errors:Ck(n),message:`${e} (${n.length}):`}}function wS(t){let e=vk(5),{errorMessage:o}=t,n;e[0]!==o?(n=()=>wk(o),e[0]=o,e[1]=n):n=e[1];let[r]=yk.useState(n),{errors:s,message:i}=r,l;return e[2]!==s||e[3]!==i?(l=xk("div",{children:[i,Array.isArray(s)&&s.length>0?CS("ul",{"data-testid":"field-errors",children:s.map(Sk)}):null]}),e[2]=s,e[3]=i,e[4]=l):l=e[4],l}function Sk(t,e){return CS("li",{children:t},e)}import{c as Ik}from"react/compiler-runtime";import{useEffect as SS,useState as Rk}from"react";function tb(t,e,o){let n=Ik(11),r;n[0]!==t?(r=()=>t,n[0]=t,n[1]=r):r=n[1];let[s,i]=Rk(r),l;n[2]!==o||n[3]!==t?(l=()=>{let d=setTimeout(()=>{i(()=>t)},o);return()=>{clearTimeout(d)}},n[2]=o,n[3]=t,n[4]=l):l=n[4];let a;n[5]!==o||n[6]!==e?(a=[...e,o],n[5]=o,n[6]=e,n[7]=a):a=n[7],SS(l,a);let c,u;n[8]!==s?(c=()=>{s()},u=[s],n[8]=s,n[9]=c,n[10]=u):(c=n[9],u=n[10]),SS(c,u)}import{useCallback as _k,useRef as IS}from"react";function Nm(){let t=IS([]),e=IS(!1);return{queueTask:_k((n,r)=>{t.current.push(n);async function s(){if(!e.current&&!(typeof r?.beforeProcess=="function"&&r.beforeProcess()===!1))for(;t.current.length>0;){let i=t.current.pop();t.current=[],e.current=!0;try{await i()}catch(l){console.error("Error in queued function:",l)}finally{e.current=!1,typeof r?.afterProcess=="function"&&r.afterProcess()}}}s()},[])}}import{c as Dk}from"react/compiler-runtime";import{jsx as Fk}from"react/jsx-runtime";import RS,{useState as Ak}from"react";var _S=RS.createContext(null),ob=t=>{let e=Dk(6),{children:o}=t,[n,r]=Ak(Tk),s;e[0]!==n?(s=u=>{let{collectionSlug:d}=u;return n.get(d)},e[0]=n,e[1]=s):s=e[1];let i=s,l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=u=>{let{collectionSlug:d,handler:f}=u;r(m=>{let h=new Map(m);return h.set(d,f),h})},e[2]=l):l=e[2];let a=l,c;return e[3]!==o||e[4]!==i?(c=Fk(_S,{value:{getUploadHandler:i,setUploadHandler:a},children:o}),e[3]=o,e[4]=i,e[5]=c):c=e[5],c},Dc=()=>{let t=RS.use(_S);if(t===null)throw new Error("useUploadHandlers must be used within UploadHandlersProvider");return t};function Tk(){return new Map}var DS={413:"Your request was too large to submit successfully."};var rb=Ds(fg(),1);import{dequal as Pk}from"dequal/lite";import{deepCopyObjectSimpleWithoutReactComponents as AS}from"payload/shared";import{dequal as Ek}from"dequal/lite";var FS=({acceptValues:t,currentState:e={},incomingState:o})=>{let n={...e};for(let[r,s]of Object.entries(o||{}))!(r in e)&&!s.addedByServer||(!t&&!s.addedByServer&&(delete s.value,delete s.initialValue),n[r]={...e[r],...s},Array.isArray(s.rows)&&r in e&&(n[r].rows=[...e[r]?.rows||[]],s.rows.forEach(i=>{let l=e[r].rows.findIndex(a=>a.id===i.id);l>-1&&(n[r].rows[l]={...e[r].rows[l],...i})})),s.valid!==!1&&(n[r].valid=!0),s.passesCondition!==!1&&(n[r].passesCondition=!0),delete n[r].addedByServer);return Ek(n,e)?e:n};var Ia=(t,e)=>{let o={},n=Object.entries(e).reduce((r,[s,i])=>{let l=r;if(s.indexOf(`${t}.`)===0){let[a]=s.replace(`${t}.`,"").split(".");l[a]||(l[a]={}),l[a][s.replace(`${t}.${String(a)}.`,"")]={...i}}else o[s]=i;return l},[]);return{remainingFields:o,rows:n}},Ra=(t,e)=>e.reduce((o,n,r)=>({...o,...Object.entries(n).reduce((s,[i,l])=>({...s,[`${t}.${r}.${i}`]:{...l}}),{})}),{});var cs=rb.default.default||rb.default;function Fc(t,e){switch(e.type){case"ADD_ROW":{let{blockType:o,path:n,rowIndex:r,subFieldState:s={}}=e,i=typeof r=="number"?r:t[n]?.rows?.length||0,l=[...t[n]?.rows||[]],a={id:s?.id?.value||new cs().toHexString(),blockType:o||void 0,collapsed:!1,isLoading:!0};l.splice(i,0,a),o&&(s.blockType={initialValue:o,valid:!0,value:o});let{remainingFields:c,rows:u}=Ia(n,t);return u.splice(i,0,s),{...c,...Ra(n,u),[`${n}.${i}.id`]:{initialValue:a.id,passesCondition:!0,valid:!0,value:a.id},[n]:{...t[n],disableFormData:!0,rows:l,value:u.length}}}case"ADD_SERVER_ERRORS":{let o={...t},n=[];return e.errors.forEach(({message:r,path:s})=>{o[s]={...o[s]||{initialValue:null,value:null},errorMessage:r,valid:!1};let i=s.split(".");i.length>1&&n.push({fieldErrorPath:s,parentPath:i.slice(0,i.length-1).join(".")})}),o=Object.entries(o).reduce((r,[s,i])=>{let l=n.reduce((c,{fieldErrorPath:u,parentPath:d})=>(d.startsWith(s)&&c.push(u),c),[]),a=!1;if(l.length>0){let c=Array.isArray(i.errorPaths)?i.errorPaths:[];l.forEach(u=>{c.includes(u)||(c.push(u),a=!0)}),a&&(r[s]={...i,errorPaths:c})}return a||(r[s]=i),r},{}),o}case"DUPLICATE_ROW":{let{path:o,rowIndex:n}=e,{remainingFields:r,rows:s}=Ia(o,t),i=[...t[o].rows||[]],l=AS(i[n]);l.id&&(l.id=new cs().toHexString());let a=AS(s[n]);a.id&&(a.id.value=new cs().toHexString(),a.id.initialValue=new cs().toHexString());for(let u of Object.keys(a).filter(d=>d.endsWith(".id"))){let d=a[u];d&&typeof d.value=="string"&&cs.isValid(d.value)&&(a[u].value=new cs().toHexString(),a[u].initialValue=new cs().toHexString())}return Object.keys(a).length>0&&(s.splice(n+1,0,a),i.splice(n+1,0,l)),{...r,...Ra(o,s),[o]:{...t[o],disableFormData:!0,rows:i,value:s.length}}}case"MERGE_SERVER_STATE":{let{acceptValues:o,prevStateRef:n,serverState:r}=e,s=FS({acceptValues:o,currentState:t||{},incomingState:r});return n.current=s,s}case"MOVE_ROW":{let{moveFromIndex:o,moveToIndex:n,path:r}=e,{remainingFields:s,rows:i}=Ia(r,t),l=i[o];i.splice(o,1),i.splice(n,0,l);let a=[...t[r]?.rows||[]],c={...a[o]};return a.splice(o,1),a.splice(n,0,c),{...s,...Ra(r,i),[r]:{...t[r],rows:a}}}case"REMOVE":{let o={...t};return o[e.path]&&delete o[e.path],o}case"REMOVE_ROW":{let{path:o,rowIndex:n}=e,{remainingFields:r,rows:s}=Ia(o,t),i=[...t[o]?.rows||[]];return s.splice(n,1),i.splice(n,1),{...r,[o]:{...t[o],disableFormData:s.length>0,rows:i,value:s.length},...Ra(o,s)}}case"REPLACE_ROW":{let{blockType:o,path:n,rowIndex:r,subFieldState:s={}}=e,{remainingFields:i,rows:l}=Ia(n,t),a=Math.max(0,Math.min(r,l?.length-1||0)),c=[...t[n]?.rows||[]];return c[a]={id:new cs().toHexString(),blockType:o||void 0,collapsed:!1},o&&(s.blockType={initialValue:o,valid:!0,value:o}),l[a]=s,{...i,...Ra(n,l),[n]:{...t[n],disableFormData:!0,rows:c,value:l.length}}}case"REPLACE_STATE":{if(e.optimize!==!1){let o={};for(let[n,r]of Object.entries(e.state)){let s=t[n];r.valid!==!1&&(r.valid=!0),r.passesCondition!==!1&&(r.passesCondition=!0),Pk(s,r)?s&&(o[n]=s):o[n]=r}return o}if(e.sanitize)for(let o of Object.values(e.state))o.valid!==!1&&(o.valid=!0),o.passesCondition!==!1&&(o.passesCondition=!0);return e.state}case"SET_ALL_ROWS_COLLAPSED":{let{path:o,updatedRows:n}=e;return{...t,[o]:{...t[o],rows:n}}}case"SET_ROW_COLLAPSED":{let{path:o,updatedRows:n}=e;return{...t,[o]:{...t[o],rows:n}}}case"UPDATE":{let o=Object.entries(e).reduce((r,[s,i])=>["disableFormData","errorMessage","initialValue","rows","valid","validate","value"].includes(s)?{...r,[s]:i}:r,t?.[e.path]||{});return{...t,[e.path]:o}}case"UPDATE_MANY":{let o={...t};return Object.entries(e.formState).forEach(([n,r])=>{o[n]=r}),o}default:return t}}var Nk=()=>{},Lk=()=>{},$k=()=>{},kk=()=>{},jk=()=>{},Ok=()=>{},Mk=()=>{},Bk=()=>{},Vk=()=>{},Gk=()=>{},Lm={addFieldRow:()=>{},buildRowErrors:()=>{},createFormData:jk,disabled:!1,dispatchFields:$k,fields:{},formRef:null,getData:()=>{},getDataByPath:()=>{},getField:()=>{},getFields:()=>({}),getSiblingData:Lk,initializing:void 0,isValid:!0,moveFieldRow:()=>{},removeFieldRow:()=>{},replaceFieldRow:()=>{},replaceState:()=>{},reset:Gk,setBackgroundProcessing:Bk,setDisabled:()=>{},setIsValid:()=>{},setModified:Ok,setProcessing:Mk,setSubmitted:Vk,submit:Nk,validateForm:kk};var Zk="form",Dn=t=>{let{id:e,collectionSlug:o,docConfig:n,docPermissions:r,getDocPreferences:s,globalSlug:i}=Te(),{action:l,beforeSubmit:a,children:c,className:u,disabled:d,disableSuccessStatus:f,disableValidationOnSubmit:m,el:h,handleResponse:p,initialState:g,isDocumentForm:b,isInitializing:v,onChange:x,onSubmit:y,onSuccess:C,redirect:S,submitted:w,uuid:F,waitForAutocomplete:R}=t,A="method"in t?t?.method:void 0,D=Wk(),_=$i(),{code:I}=Pe(),{i18n:T,t:E}=k(),{refreshCookie:$,user:j}=Re(),N=qo(),{queueTask:P}=Nm(),{getFormState:L}=Ft(),{startRouteTransition:V}=st(),{getUploadHandler:M}=Dc(),{config:O}=H(),[B,G]=us(d||!1),[X,Z]=us(!1),[oe,z]=us(!1),[Y,le]=us(!0),[J,ue]=us(v),[te,K]=us(!1),[he,fe]=us(!1),[Ne,be]=us(!1),Xe=Ac(null),Q=Ac({}),ke=Ac(null),Ce=Ac(!0),ae=Yk(Fc,{},()=>g),[ie,U]=ae;Q.current.fields=ie;let ne=Ac(ie),de=Go(async()=>{let W={},ee=!0,pe=Q.current.getData(),De=Object.entries(Q.current.fields).map(async([Ee,we])=>{let ze=we,Xt=Ee?Ee.split("."):[];if(we.passesCondition!==!1){let Ze=ze.valid;if("validate"in we&&typeof we.validate=="function"){let Dt=we.value;we?.rows&&Array.isArray(we.rows)&&(Dt=Q.current.getDataByPath(Ee)),Ze=await we.validate(Dt,{...we,id:e,collectionSlug:o,blockData:void 0,data:_?.getData?_.getData():pe,event:"submit",operation:N,path:Xt,preferences:{},req:{payload:{config:O},t:E,user:j},siblingData:Q.current.getSiblingData(Ee)}),typeof Ze=="string"?(ze.errorMessage=Ze,ze.valid=!1):(ze.valid=!0,ze.errorMessage=void 0)}ze.valid===!1&&(ee=!1)}W[Ee]=ze});return await Promise.all(De),TS(Q.current.fields,W)||U({type:"REPLACE_STATE",state:W}),le(ee),ee},[o,O,U,e,N,E,j,_]),Ae=Go(async(W={},ee)=>{let{action:pe=l,method:De=A,overrides:Ee={},skipValidation:we}=W;if(B){ee&&ee.preventDefault();return}let ze,Xt,Ze=new Promise((je,xo)=>{Xt=je,ze=xo}),Dt=pe||typeof l=="string"||typeof l=="function";if(S||f||!Dt?(Xt=je=>me.success(je),ze=je=>me.error(je)):me.promise(Ze,{error:je=>je,loading:E("general:submitting"),success:je=>je}),ee&&(ee.stopPropagation(),ee.preventDefault()),K(!0),G(!0),R&&await Xk(100),Array.isArray(a)){let je,xo=nb(Q.current.fields);await a.reduce(async(Ut,Gn)=>{await Ut,je=await Gn({formState:xo})},Promise.resolve());let zo=Object.entries(je).every(([,Ut])=>Ut.valid!==!1);if(le(zo),!zo)return K(!1),be(!0),G(!1),U({type:"REPLACE_STATE",state:je})}let mo=we||m?!0:await Q.current.validateForm();if(le(mo),!mo){ze(E("error:correctInvalidFields")),K(!1),be(!0),G(!1);return}let fo={};if(typeof Ee=="function"?fo=Ee(Q.current.fields):typeof Ee=="object"&&(fo=Ee),y){let je=nb(Q.current.fields),xo=sb(je,!0);for(let[zo,Ut]of Object.entries(fo))xo[zo]=Ut;y(je,xo)}if(!Dt){K(!1),be(!0),G(!1);return}let Vn=await Q.current.createFormData(fo,{mergeOverrideData:typeof Ee!="function"});try{let je;if(typeof pe=="string"?je=await Ke[De.toLowerCase()](pe,{body:Vn,headers:{"Accept-Language":T.language}}):typeof l=="function"&&(je=await l(Vn)),z(!1),G(!1),typeof p=="function"){p(je,Xt,ze);return}let xo=je.headers.get("content-type"),zo=xo&&xo.indexOf("application/json")!==-1,Ut={};if(zo&&(Ut=await je.json()),je.status<400){if(typeof C=="function"){let Gn=await C(Ut);Gn&&U({type:"MERGE_SERVER_STATE",acceptValues:!0,prevStateRef:ne,serverState:Gn})}be(!1),K(!1),S?V(()=>D.push(S)):f||Xt(Ut.message||E("general:submissionSuccessful"))}else{if(K(!1),be(!0),Q.current={...Q.current},Ut.message){ze(Ut.message);return}if(Array.isArray(Ut.errors)){let[Ei,tl]=Ut.errors.reduce(([_s,Pi],Ni)=>{let cv=[],Bf=[];return Ni?.message&&Bf.push(Ni),Array.isArray(Ni?.data?.errors)&&Ni.data?.errors.forEach(Vf=>{Vf?.path?cv.push(Vf):Bf.push(Vf)}),[[..._s,...cv],[...Pi,...Bf]]},[[],[]]);le(!1),U({type:"ADD_SERVER_ERRORS",errors:Ei}),tl.forEach(_s=>{ze(Mr(wS,{errorMessage:_s.message||E("error:unknown")}))});return}let Gn=DS?.[je.status]||je?.statusText||E("error:unknown");ze(Gn)}}catch(je){console.error("Error submitting form",je),K(!1),be(!0),G(!1),ze(je.message)}},[a,V,l,f,m,B,U,p,A,y,C,S,D,E,T,R]),We=Go(()=>Q.current.fields,[]),Le=Go(W=>Q.current.fields[W],[]),Ve=Go(()=>sb(Q.current.fields,!0),[]),ht=Go(W=>zk(Q.current.fields,W),[]),Ye=Go(W=>Hk(Q.current.fields,W),[]),ut=Go(async(W,{mergeOverrideData:ee=!0})=>{let pe=sb(Q.current.fields,!0),De=pe?.file;if(n&&"upload"in n&&n.upload&&De){delete pe.file;let ze=M({collectionSlug:o});if(typeof ze=="function"){let Xt=De.name,Ze=await ze({file:De,updateFilename:Dt=>{Xt=Dt}});De=JSON.stringify({clientUploadContext:Ze,collectionSlug:o,filename:Xt,mimeType:De.type,size:De.size})}}ee?pe={...pe,...W}:pe=W;let Ee={_payload:JSON.stringify(pe)};return n&&"upload"in n&&n.upload&&De&&(Ee.file=De),(0,ES.serialize)(Ee,{indices:!0,nullsAsUndefineds:!1})},[o,n,M]),Mt=Go(async W=>{let ee=tr(ke),pe=await s(),{state:De}=await L({id:e,collectionSlug:o,data:W,docPermissions:r,docPreferences:pe,globalSlug:i,locale:I,operation:N,renderAllFields:!0,schemaPath:o||i,signal:ee.signal,skipValidation:!0});Q.current={...Lm},z(!1),U({type:"REPLACE_STATE",state:De}),ke.current=null},[o,U,i,e,N,L,r,s,I]),Ue=Go(W=>{Q.current={...Lm},z(!1),U({type:"REPLACE_STATE",state:W})},[U]),He=Go(({blockType:W,path:ee,rowIndex:pe,subFieldState:De})=>{let Ee=Ye(ee)||[],we=pe===void 0?Ee.length:pe;U({type:"ADD_ROW",blockType:W,path:ee,rowIndex:we,subFieldState:De}),z(!0)},[U,Ye]),qe=Go(({moveFromIndex:W,moveToIndex:ee,path:pe})=>{U({type:"MOVE_ROW",moveFromIndex:W,moveToIndex:ee,path:pe}),z(!0)},[U]),vt=Go(({path:W,rowIndex:ee})=>{U({type:"REMOVE_ROW",path:W,rowIndex:ee}),z(!0)},[U]),Et=Go(({blockType:W,path:ee,rowIndex:pe,subFieldState:De})=>{let Ee=Ye(ee),we=pe===void 0?Ee.length:pe;U({type:"REPLACE_ROW",blockType:W,path:ee,rowIndex:we,subFieldState:De}),z(!0)},[U,Ye]);ui(()=>{let W=ke.current;return()=>{er(W)}},[]),ui(()=>{v!==void 0&&ue(v)},[v]),Q.current.submit=Ae,Q.current.getFields=We,Q.current.getField=Le,Q.current.getData=Ve,Q.current.getSiblingData=ht,Q.current.getDataByPath=Ye,Q.current.validateForm=de,Q.current.createFormData=ut,Q.current.setModified=z,Q.current.setProcessing=K,Q.current.setBackgroundProcessing=fe,Q.current.setSubmitted=be,Q.current.setIsValid=le,Q.current.disabled=B,Q.current.setDisabled=G,Q.current.formRef=Xe,Q.current.reset=Mt,Q.current.replaceState=Ue,Q.current.dispatchFields=U,Q.current.addFieldRow=He,Q.current.removeFieldRow=vt,Q.current.moveFieldRow=qe,Q.current.replaceFieldRow=Et,Q.current.uuid=F,Q.current.initializing=J,Q.current.isValid=Y,ui(()=>{Z(!0)},[]),ui(()=>{typeof d=="boolean"&&G(d)},[d]),ui(()=>{typeof w=="boolean"&&be(w)},[w]),ui(()=>{g&&(Q.current={...Lm},U({type:"REPLACE_STATE",optimize:!1,sanitize:!0,state:g}))},[g,U]),Bs(()=>{$()},15e3,[ie]),ui(()=>{Q.current={...Q.current},z(!1)},[I]);let Ct=[u,Zk].filter(Boolean).join(" "),Qe=eo(W=>{P(async()=>{if(Array.isArray(x)){let ee;for(let pe of x)ee=await pe({formState:nb(ie),submitted:W});U({type:"MERGE_SERVER_STATE",prevStateRef:ne,serverState:ee})}})});tb(()=>{(Ce.current||!TS(ie,ne.current))&&oe&&Qe(Ne),ne.current=ie,Ce.current=!1},[oe,Ne,ie],250);let Pt=b?Au:Uk.Fragment,ge=b?{value:Q.current}:{};return Mr(h||"form",{action:typeof l=="function"?void 0:l,className:Ct,method:A,noValidate:!0,onSubmit:W=>void Q.current.submit({},W),ref:Xe,children:Mr(Pt,{...ge,children:Mr(Fu,{value:Q.current,children:Mr(Tu,{value:{fields:ie,...Q.current},children:Mr(Eu,{value:Ne,children:Mr(op,{value:!X||X&&J,children:Mr(Pu,{value:te,children:Mr(tp,{value:he,children:Mr(Nu,{value:oe,children:Mr(al.Provider,{value:ae,children:c})})})})})})})})})})};import{c as Jk}from"react/compiler-runtime";import{jsx as PS,jsxs as NS}from"react/jsx-runtime";import{getTranslation as qk}from"@payloadcms/translations";import{tabHasName as LS}from"payload/shared";import Qk,{useState as Kk}from"react";var $m="tabs-field__tab-button",ib=t=>{let e=Jk(15),{hidden:o,isActive:n,parentPath:r,setIsActive:s,tab:i}=t,{i18n:l}=k(),[a,c]=Kk(void 0),u;if(e[0]!==a||e[1]!==o||e[2]!==l||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==i){let d=[...r?r.split(".").slice(0,-1):[],...LS(i)?[i.name]:[]],f=a>0,m=PS(Ys,{fields:i.fields,path:d,setErrorCount:c}),h=f&&`${$m}--has-error`,p=n&&`${$m}--active`,g=o&&`${$m}--hidden`,b;e[8]!==h||e[9]!==p||e[10]!==g?(b=[$m,h,p,g].filter(Boolean),e[8]=h,e[9]=p,e[10]=g,e[11]=b):b=e[11];let v;e[12]!==l||e[13]!==i?(v=i.label?qk(i.label,l):LS(i)?i.name:"",e[12]=l,e[13]=i,e[14]=v):v=e[14],u=NS(Qk.Fragment,{children:[m,NS("button",{className:b.join(" "),onClick:s,type:"button",children:[v,f&&PS(so,{count:a,i18n:l})]})]}),e[0]=a,e[1]=o,e[2]=l,e[3]=n,e[4]=r,e[5]=s,e[6]=i,e[7]=u}else u=e[7];return u};var An="tabs-field";function _a({activeTabConfig:t,path:e}){let o=e;return km(t)&&t.name&&(e?o=`${e}.${t.name}`:o=t.name),o}var oj=t=>{let e=kS(89),{field:o,forceRender:n,indexPath:r,parentPath:s,parentSchemaPath:i,path:l,permissions:a,readOnly:c}=t,{admin:u,tabs:d}=o,f;e[0]!==u?(f=u===void 0?{}:u,e[0]=u,e[1]=f):f=e[1];let{className:m}=f,h;e[2]!==d?(h=d===void 0?[]:d,e[2]=d,e[3]=h):h=e[3];let p=h,g=n===void 0?!1:n,b=r===void 0?"":r,v=s===void 0?"":s,x=i===void 0?"":i,y=l===void 0?"":l,{getPreference:C,setPreference:S}=Fo(),{preferencesKey:w}=Te(),{i18n:F}=k(),{isWithinCollapsible:R}=qn(),A;e[4]!==p?(A=Ce=>{let[ae]=Ce;return p.map((ie,U)=>{let ne=ie?.id;return{index:U,passesCondition:ae?.[ne]?.passesCondition??!0,tab:ie}})},e[4]=p,e[5]=A):A=e[5];let D=Nt(A),_;e[6]!==D?(_=()=>D.filter(nj)?.[0]?.index??0,e[6]=D,e[7]=_):_=e[7];let[I,T]=ab(_),E=`tabs-${b}`,$;e[8]!==I||e[9]!==v||e[10]!==p?($=()=>_a({activeTabConfig:p[I],path:v}),e[8]=I,e[9]=v,e[10]=p,e[11]=$):$=e[11];let[j,N]=ab($),P;e[12]!==x||e[13]!==p[0]?(P=()=>_a({activeTabConfig:p[0],path:x}),e[12]=x,e[13]=p[0],e[14]=P):P=e[14];let[L,V]=ab(P),M;e[15]!==I||e[16]!==j||e[17]!==v||e[18]!==p?(M=km(p[I])?j:v,e[15]=I,e[16]=j,e[17]=v,e[18]=p,e[19]=M):M=e[19];let O=M,B=D[I],G=B?.tab,X;e[20]!==I||e[21]!==L||e[22]!==x||e[23]!==p?(X=km(p[I])?L:x,e[20]=I,e[21]=L,e[22]=x,e[23]=p,e[24]=X):X=e[24];let Z=X,oe=G.admin?.description??G.description,z;e[25]!==oe||e[26]!==F?(z=typeof oe=="function"?oe({i18n:F,t:F.t}):oe,e[25]=oe,e[26]=F,e[27]=z):z=e[27];let Y=z,le=D.some(sj),J;e[28]!==C||e[29]!==v||e[30]!==x||e[31]!==y||e[32]!==w||e[33]!==S||e[34]!==p||e[35]!==E?(J=async Ce=>{T(Ce),N(_a({activeTabConfig:p[Ce],path:v})),V(_a({activeTabConfig:p[Ce],path:x}));let ae=await C(w);w&&S(w,{...ae,...y?{fields:{...ae?.fields||{},[y]:{...ae?.fields?.[y],tabIndex:Ce}}}:{fields:{...ae?.fields,[E]:{...ae?.fields?.[E],tabIndex:Ce}}}})},e[28]=C,e[29]=v,e[30]=x,e[31]=y,e[32]=w,e[33]=S,e[34]=p,e[35]=E,e[36]=J):J=e[36];let ue=J,te,K;e[37]!==C||e[38]!==v||e[39]!==x||e[40]!==y||e[41]!==w||e[42]!==p||e[43]!==E?(te=()=>{w&&(async()=>{let ae=await C(w),U=(y?ae?.fields?.[y]?.tabIndex:ae?.fields?.[E]?.tabIndex)||0;T(U),N(_a({activeTabConfig:p[U],path:v})),V(_a({activeTabConfig:p[U],path:x}))})()},K=[y,C,w,E,p,v,x],e[37]=C,e[38]=v,e[39]=x,e[40]=y,e[41]=w,e[42]=p,e[43]=E,e[44]=te,e[45]=K):(te=e[44],K=e[45]),$S(te,K);let he;e[46]!==B?.passesCondition||e[47]!==ue||e[48]!==D?(he=()=>{if(B?.passesCondition===!1){let Ce=D.find(ij);Ce&&ue(Ce.index)}},e[46]=B?.passesCondition,e[47]=ue,e[48]=D,e[49]=he):he=e[49];let fe;e[50]!==B||e[51]!==ue||e[52]!==D?(fe=[B,D,ue],e[50]=B,e[51]=ue,e[52]=D,e[53]=fe):fe=e[53],$S(he,fe);let Ne=R&&`${An}--within-collapsible`,be=!le&&`${An}--hidden`,Xe;e[54]!==m||e[55]!==Ne||e[56]!==be?(Xe=[ye,m,An,Ne,be].filter(Boolean),e[54]=m,e[55]=Ne,e[56]=be,e[57]=Xe):Xe=e[57];let Q=Xe.join(" "),ke;if(e[58]!==O||e[59]!==Z||e[60]!==G||e[61]!==I||e[62]!==B||e[63]!==j||e[64]!==Y||e[65]!==g||e[66]!==ue||e[67]!==b||e[68]!==y||e[69]!==a||e[70]!==c||e[71]!==Q||e[72]!==D){let Ce;e[74]!==I||e[75]!==ue||e[76]!==y?(Ce=ie=>{let{index:U,passesCondition:ne,tab:de}=ie;return Fn(ib,{hidden:!ne,isActive:I===U,parentPath:y,setIsActive:()=>{ue(U)},tab:de},U)},e[74]=I,e[75]=ue,e[76]=y,e[77]=Ce):Ce=e[77];let ae;e[78]!==O||e[79]!==Z||e[80]!==G||e[81]!==B||e[82]!==j||e[83]!==Y||e[84]!==g||e[85]!==b||e[86]!==a||e[87]!==c?(ae=G&&Fn(rj,{description:Y,fields:G.fields,forceRender:g,hidden:!1,parentIndexPath:km(G)?"":`${b?b+"-":""}`+String(B.index),parentPath:O,parentSchemaPath:Z,path:j,permissions:a&&typeof a=="object"&&"name"in G?a[G.name]&&typeof a[G.name]=="object"&&"fields"in a[G.name]?a[G.name].fields:a[G.name]:a,readOnly:c}),e[78]=O,e[79]=Z,e[80]=G,e[81]=B,e[82]=j,e[83]=Y,e[84]=g,e[85]=b,e[86]=a,e[87]=c,e[88]=ae):ae=e[88],ke=Fn("div",{className:Q,children:jS(dg,{children:[Fn("div",{className:`${An}__tabs-wrap`,children:Fn("div",{className:`${An}__tabs`,children:D.map(Ce)})}),Fn("div",{className:`${An}__content-wrap`,children:ae})]})}),e[58]=O,e[59]=Z,e[60]=G,e[61]=I,e[62]=B,e[63]=j,e[64]=Y,e[65]=g,e[66]=ue,e[67]=b,e[68]=y,e[69]=a,e[70]=c,e[71]=Q,e[72]=D,e[73]=ke}else ke=e[73];return ke},Tc=$e(oj);function rj(t){let e=kS(19),{description:o,fields:n,forceRender:r,hidden:s,label:i,parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:u,readOnly:d}=t,{i18n:f}=k(),{customComponents:m,path:h}=Fe(),p;e[0]!==m?(p=m===void 0?{}:m,e[0]=m,e[1]=p):p=e[1];let{AfterInput:g,BeforeInput:b,Description:v,Field:x}=p;if(x)return x;let y=s&&`${An}__tab--hidden`,C=i&&`${An}__tabConfigLabel-${tj(ej(i,f))}`,S;e[2]!==y||e[3]!==C?(S=[y,`${An}__tab`,C].filter(Boolean),e[2]=y,e[3]=C,e[4]=S):S=e[4];let w=S.join(" "),F;return e[5]!==g||e[6]!==b||e[7]!==v||e[8]!==o||e[9]!==n||e[10]!==r||e[11]!==l||e[12]!==a||e[13]!==c||e[14]!==h||e[15]!==u||e[16]!==d||e[17]!==w?(F=jS("div",{className:w,children:[Fn(re,{CustomComponent:v,Fallback:Fn(Be,{description:o,marginPlacement:"bottom",path:h})}),b,Fn(So,{fields:n,forceRender:r,parentIndexPath:l,parentPath:a,parentSchemaPath:c,permissions:u,readOnly:d}),g]}),e[5]=g,e[6]=b,e[7]=v,e[8]=o,e[9]=n,e[10]=r,e[11]=l,e[12]=a,e[13]=c,e[14]=h,e[15]=u,e[16]=d,e[17]=w,e[18]=F):F=e[18],F}function nj(t){let{passesCondition:e}=t;return e}function sj(t){let{passesCondition:e}=t;return e}function ij(t){let{passesCondition:e}=t;return e}import{jsx as dj}from"react/jsx-runtime";import{useCallback as MS,useEffect as mj,useMemo as fj,useState as pj}from"react";import{c as aj}from"react/compiler-runtime";import{jsx as ds,jsxs as OS}from"react/jsx-runtime";import{getTranslation as lj}from"@payloadcms/translations";import"react";var lb=t=>{let e=aj(31),{AfterInput:o,BeforeInput:n,className:r,Description:s,description:i,Error:l,hasMany:a,inputRef:c,Label:u,label:d,localized:f,maxRows:m,onChange:h,onKeyDown:p,path:g,placeholder:b,readOnly:v,required:x,rtl:y,showError:C,style:S,value:w,valueToRender:F}=t,{i18n:R,t:A}=k(),D=uj,_=C&&"error",I=v&&"read-only",T=a&&"has-many",E;e[0]!==r||e[1]!==_||e[2]!==I||e[3]!==T?(E=[ye,"text",r,_,I,T].filter(Boolean),e[0]=r,e[1]=_,e[2]=I,e[3]=T,e[4]=E):E=e[4];let $=E.join(" "),j;return e[5]!==o||e[6]!==n||e[7]!==s||e[8]!==l||e[9]!==u||e[10]!==i||e[11]!==a||e[12]!==R||e[13]!==c||e[14]!==d||e[15]!==f||e[16]!==m||e[17]!==h||e[18]!==p||e[19]!==g||e[20]!==b||e[21]!==v||e[22]!==x||e[23]!==y||e[24]!==C||e[25]!==S||e[26]!==A||e[27]!==$||e[28]!==w||e[29]!==F?(j=OS("div",{className:$,style:S,children:[ds(re,{CustomComponent:u,Fallback:ds(ve,{label:d,localized:f,path:g,required:x})}),OS("div",{className:`${ye}__wrap`,children:[ds(re,{CustomComponent:l,Fallback:ds(Ge,{path:g,showError:C})}),n,a?ds(mt,{className:`field-${g.replace(/\./g,"__")}`,components:{DropdownIndicator:null},customProps:{editableProps:D},disabled:v,filterOption:()=>m?!(Array.isArray(w)&&m&&w.length>=m):!0,isClearable:!1,isCreatable:!0,isMulti:!0,isSortable:!0,menuIsOpen:!1,noOptionsMessage:()=>Array.isArray(w)&&w.length>=m?A("validation:limitReached",{max:m,value:w.length+1}):null,onChange:h,options:[],placeholder:A("general:enterAValue"),showError:C,value:F}):ds("input",{"data-rtl":y,disabled:v,id:`field-${g?.replace(/\./g,"__")}`,name:g,onChange:h,onKeyDown:p,placeholder:lj(b,R),ref:c,type:"text",value:w||""}),o,ds(re,{CustomComponent:s,Fallback:ds(Be,{description:i,path:g})})]})]}),e[5]=o,e[6]=n,e[7]=s,e[8]=l,e[9]=u,e[10]=i,e[11]=a,e[12]=R,e[13]=c,e[14]=d,e[15]=f,e[16]=m,e[17]=h,e[18]=p,e[19]=g,e[20]=b,e[21]=v,e[22]=x,e[23]=y,e[24]=C,e[25]=S,e[26]=A,e[27]=$,e[28]=w,e[29]=F,e[30]=j):j=e[30],j};function cj(t){t.currentTarget.contentEditable="false"}function uj(t,e,o){let n=`${e}--editable`;return{onBlur:cj,onClick:r=>{r.currentTarget.contentEditable="true",r.currentTarget.classList.add(n),r.currentTarget.focus()},onKeyDown:r=>{if(r.key==="Enter"||r.key==="Tab"||r.key==="Escape"){if(r.currentTarget.contentEditable="false",r.currentTarget.classList.remove(n),t.value.value=r.currentTarget.innerText,t.label=r.currentTarget.innerText,t.value.value.replaceAll(`
`,""))o.onChange(o.value,{action:"create-option",option:t});else if(Array.isArray(o.value)){let s=o.value.filter(i=>i.id!==t.id);o.onChange(s,{action:"pop-value",removedValue:t})}r.preventDefault()}r.stopPropagation()}}}var hj=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,rtl:s}={},hasMany:i,label:l,localized:a,maxLength:c,maxRows:u,minLength:d,minRows:f,required:m},inputRef:h,path:p,readOnly:g,validate:b}=t,v=Pe(),{config:{localization:x}}=H(),y=MS((L,V)=>{if(typeof b=="function")return b(L,{...V,maxLength:c,minLength:d,required:m})},[b,d,c,m]),{customComponents:{AfterInput:C,BeforeInput:S,Description:w,Error:F,Label:R}={},disabled:A,path:D,setValue:_,showError:I,value:T}=Fe({potentiallyStalePath:p,validate:y}),E=Zi({fieldLocalized:a,fieldRTL:s,locale:v,localizationConfig:x||void 0}),[$,j]=pj([]),N=MS(L=>{if(!(g||A)){let V;L?Array.isArray(L)?V=L.map(M=>M.value?.value||M.value):V=[L.value?.value||L.value]:V=[],_(V)}},[g,_,A]);mj(()=>{i&&Array.isArray(T)&&j(T.map((L,V)=>({id:`${L}${V}`,label:`${L}`,value:{toString:()=>`${L}${V}`,value:L?.value||L}})))},[T,i]);let P=fj(()=>rt(e),[e]);return dj(lb,{AfterInput:C,BeforeInput:S,className:o,Description:w,description:n,Error:F,hasMany:i,inputRef:h,Label:R,label:l,localized:a,maxRows:u,minRows:f,onChange:i?N:L=>{_(L.target.value)},path:D,placeholder:r,readOnly:g||A,required:m,rtl:E,showError:I,style:P,value:T||"",valueToRender:$})},di=$e(hj);import{jsx as vj}from"react/jsx-runtime";import{getTranslation as xj}from"@payloadcms/translations";import{useCallback as yj,useMemo as Cj}from"react";import{c as gj}from"react/compiler-runtime";import{jsx as ms,jsxs as BS}from"react/jsx-runtime";import{getTranslation as bj}from"@payloadcms/translations";import"react";var cb=t=>{let e=gj(25),{AfterInput:o,BeforeInput:n,className:r,Description:s,description:i,Error:l,Label:a,label:c,localized:u,onChange:d,path:f,placeholder:m,readOnly:h,required:p,rows:g,rtl:b,showError:v,style:x,value:y}=t,{i18n:C}=k(),S=v&&"error",w=h&&"read-only",F;e[0]!==r||e[1]!==S||e[2]!==w?(F=[ye,"textarea",r,S,w].filter(Boolean),e[0]=r,e[1]=S,e[2]=w,e[3]=F):F=e[3];let R=F.join(" "),A;return e[4]!==o||e[5]!==n||e[6]!==s||e[7]!==l||e[8]!==a||e[9]!==i||e[10]!==C||e[11]!==c||e[12]!==u||e[13]!==d||e[14]!==f||e[15]!==m||e[16]!==h||e[17]!==p||e[18]!==g||e[19]!==b||e[20]!==v||e[21]!==x||e[22]!==R||e[23]!==y?(A=BS("div",{className:R,style:x,children:[ms(re,{CustomComponent:a,Fallback:ms(ve,{label:c,localized:u,path:f,required:p})}),BS("div",{className:`${ye}__wrap`,children:[ms(re,{CustomComponent:l,Fallback:ms(Ge,{path:f,showError:v})}),n,ms("label",{className:"textarea-outer",htmlFor:`field-${f.replace(/\./g,"__")}`,children:ms("textarea",{"data-rtl":b,disabled:h,id:`field-${f.replace(/\./g,"__")}`,name:f,onChange:d,placeholder:bj(m,C),rows:g,value:y||""})}),o,ms(re,{CustomComponent:s,Fallback:ms(Be,{description:i,path:f})})]})]}),e[4]=o,e[5]=n,e[6]=s,e[7]=l,e[8]=a,e[9]=i,e[10]=C,e[11]=c,e[12]=u,e[13]=d,e[14]=f,e[15]=m,e[16]=h,e[17]=p,e[18]=g,e[19]=b,e[20]=v,e[21]=x,e[22]=R,e[23]=y,e[24]=A):A=e[24],A};var wj=t=>{let{field:e,field:{admin:{className:o,description:n,placeholder:r,rows:s,rtl:i}={},label:l,localized:a,maxLength:c,minLength:u,required:d},path:f,readOnly:m,validate:h}=t,{i18n:p}=k(),{config:{localization:g}}=H(),b=Pe(),v=Zi({fieldLocalized:a,fieldRTL:i,locale:b,localizationConfig:g||void 0}),x=yj((E,$)=>{if(typeof h=="function")return h(E,{...$,maxLength:c,minLength:u,required:d})},[h,d,c,u]),{customComponents:{AfterInput:y,BeforeInput:C,Description:S,Error:w,Label:F}={},disabled:R,path:A,setValue:D,showError:_,value:I}=Fe({potentiallyStalePath:f,validate:x}),T=Cj(()=>rt(e),[e]);return vj(cb,{AfterInput:y,BeforeInput:C,className:o,Description:S,description:n,Error:w,Label:F,label:l,localized:a,onChange:E=>{D(E.target.value)},path:A,placeholder:xj(r,p),readOnly:m||R,required:d,rows:s,rtl:v,showError:_,style:T,value:I})},Ec=$e(wj);var Pc=()=>null;import{jsx as YO}from"react/jsx-runtime";import ZO,{useMemo as JO}from"react";import{jsx as jt,jsxs as bi,Fragment as Uc}from"react/jsx-runtime";import*as UI from"qs-esm";import Hr,{useCallback as HI,useEffect as zI,useMemo as XI}from"react";import{c as kI}from"react/compiler-runtime";import{jsx as pi,jsxs as $O}from"react/jsx-runtime";import{validateMimeType as kO}from"payload/shared";import on from"react";import{jsx as Om,jsxs as ub}from"react/jsx-runtime";import Aj from"react";import{jsx as Sj}from"react/jsx-runtime";import fs from"react";var VS=t=>{t.preventDefault(),t.stopPropagation()},Ij="dropzone";function mi({children:t,className:e,disabled:o=!1,dropzoneStyle:n="default",multipleFiles:r,onChange:s}){let i=fs.useRef(null),[l,a]=fs.useState(!1),c=fs.useCallback(p=>{if(!r&&p.length>1){let g=new DataTransfer;g.items.add(p[0]),s(g.files)}else s(p)},[r,s]),u=fs.useCallback(p=>{p.preventDefault(),p.stopPropagation(),p.clipboardData.files&&p.clipboardData.files.length>0&&c(p.clipboardData.files)},[c]),d=fs.useCallback(p=>{p.preventDefault(),p.stopPropagation(),a(!0)},[]),f=fs.useCallback(p=>{p.preventDefault(),p.stopPropagation(),a(!1)},[]),m=fs.useCallback(p=>{p.preventDefault(),p.stopPropagation(),a(!1),p.dataTransfer.files&&p.dataTransfer.files.length>0&&(c(p.dataTransfer.files),a(!1),p.dataTransfer.clearData())},[c]);fs.useEffect(()=>{let p=i.current;return p&&!o?(p.addEventListener("dragenter",d),p.addEventListener("dragleave",f),p.addEventListener("dragover",VS),p.addEventListener("drop",m),p.addEventListener("paste",u),()=>{p.removeEventListener("dragenter",d),p.removeEventListener("dragleave",f),p.removeEventListener("dragover",VS),p.removeEventListener("drop",m),p.removeEventListener("paste",u)}):()=>null},[o,d,f,m,u]);let h=[Ij,e,l?"dragging":"",`dropzoneStyle--${n}`].filter(Boolean).join(" ");return Sj("div",{className:h,ref:i,children:t})}import{jsx as WS,jsxs as Dj}from"react/jsx-runtime";import"react";import{c as Rj}from"react/compiler-runtime";import{jsx as GS}from"react/jsx-runtime";import"react";var _j="drawer-close-button";function jm(t){let e=Rj(3),{onClick:o}=t,{t:n}=k(),r;return e[0]!==o||e[1]!==n?(r=GS("button",{"aria-label":n("general:close"),className:_j,onClick:o,type:"button",children:GS(ft,{})}),e[0]=o,e[1]=n,e[2]=r):r=e[2],r}var Fj="bulk-upload--drawer-header";function Da({onClose:t,title:e}){return Dj("div",{className:Fj,children:[WS("h2",{title:e,children:e}),WS(jm,{onClick:t})]})}var Mm="bulk-upload--add-files";function Bm({acceptMimeTypes:t,onCancel:e,onDrop:o}){let{t:n}=k(),r=Aj.useRef(null);return ub("div",{className:Mm,children:[Om(Da,{onClose:e,title:n("upload:addFiles")}),Om("div",{className:`${Mm}__dropArea`,children:ub(mi,{multipleFiles:!0,onChange:o,children:[Om(se,{buttonStyle:"pill",iconPosition:"left",onClick:()=>{r.current&&r.current.click()},size:"small",children:n("upload:selectFile")}),Om("input",{accept:t,"aria-hidden":"true",className:`${Mm}__hidden-input`,hidden:!0,multiple:!0,onChange:s=>{s.target.files&&s.target.files.length>0&&o(s.target.files)},ref:r,type:"file"}),ub("p",{className:`${Mm}__dragAndDropText`,children:[n("general:or")," ",n("upload:dragAndDrop")]})]})})]})}import{c as PO}from"react/compiler-runtime";import{jsx as zc,jsxs as Rb}from"react/jsx-runtime";import{getTranslation as NO}from"@payloadcms/translations";import{reduceFieldsToValues as LO}from"payload/shared";import"react";import{c as sI}from"react/compiler-runtime";import{jsx as Vr,jsxs as Lc}from"react/jsx-runtime";import"react";import{c as Yj}from"react/compiler-runtime";import{jsx as zm,jsxs as Zj}from"react/jsx-runtime";import"react";import{jsx as Ej,jsxs as Pj}from"react/jsx-runtime";import{isImage as Nj}from"payload/shared";import*as Vm from"qs-esm";import ot from"react";var HS=t=>new Promise((e,o)=>{let n=new Image;n.src=URL.createObjectURL(t),n.onload=()=>{let s,i,l=n.width/n.height;l>1?(i=280,s=280/l):(i=280*l,s=280);let a=new OffscreenCanvas(i,s);a.getContext("2d").drawImage(n,0,0,i,s),a.convertToBlob({type:"image/jpeg",quality:.25}).then(u=>{URL.revokeObjectURL(n.src);let d=new FileReader;d.onload=()=>e(d.result),d.onerror=o,d.readAsDataURL(u)}).catch(o)},n.onerror=r=>{URL.revokeObjectURL(n.src),o(r)}});var zS=Ds(eb(),1);import{reduceFieldsToValues as Tj}from"payload/shared";async function XS(t={},e={},o,n){let r=Tj(t,!0),s=r?.file;if(s&&delete r.file,s&&typeof n=="function"){let a=s.name,c=await n({file:s,updateFilename:u=>{a=u}});s=JSON.stringify({clientUploadContext:c,collectionSlug:o,filename:a,mimeType:s.type,size:s.size})}let i={...r,...e},l={_payload:JSON.stringify(i),file:s};return(0,zS.serialize)(l,{indices:!0,nullsAsUndefineds:!1})}function US(t,e){switch(e.type){case"ADD_FORMS":{let o=[];for(let n=0;n<e.files.length;n++)o[n]={errorCount:0,formState:{...e.initialState||{},file:{initialValue:e.files[n],valid:!0,value:e.files[n]}},uploadEdits:{}};return{...t,activeIndex:0,forms:[...o,...t.forms]}}case"REMOVE_FORM":{let o=[...t.forms],[n]=o.splice(e.index,1),r=t.activeIndex>=e.index,s=t.activeIndex===e.index?e.index:r?t.activeIndex-1:t.activeIndex,i=Math.min(o.length-1,s);return{...t,activeIndex:r?i:t.activeIndex,forms:o,totalErrorCount:t.totalErrorCount-n.errorCount}}case"REPLACE":return{...t,...e.state};case"SET_ACTIVE_INDEX":return{...t,activeIndex:e.index};case"UPDATE_ERROR_COUNT":{let o=[...t.forms];return o[e.index].errorCount=e.count,{...t,forms:o,totalErrorCount:t.forms.reduce((n,r)=>n+r.errorCount,0)}}case"UPDATE_FORM":{let o=[...t.forms];return o[e.index].errorCount=e.errorCount,o[e.index]={...o[e.index],formState:{...o[e.index].formState,...e.formState},uploadEdits:{...o[e.index].uploadEdits,...e.uploadEdits}},{...t,forms:o,totalErrorCount:t.forms.reduce((n,r)=>n+r.errorCount,0)}}default:return t}}var YS=ot.createContext({activeIndex:0,addFiles:()=>Promise.resolve(),bulkUpdateForm:()=>null,collectionSlug:"",docPermissions:void 0,documentSlots:{},forms:[],getFormDataRef:{current:()=>({})},hasPublishPermission:!1,hasSavePermission:!1,hasSubmitted:!1,isInitializing:!1,removeFile:()=>{},saveAllDocs:()=>Promise.resolve(),setActiveIndex:()=>0,setFormTotalErrorCount:()=>{},thumbnailUrls:[],totalErrorCount:0,updateUploadEdits:()=>{}}),Lj={activeIndex:0,forms:[],totalErrorCount:0};function ZS({children:t}){let{config:e}=H(),{routes:{api:o},serverURL:n}=e,{code:r}=Pe(),{i18n:s,t:i}=k(),{getDocumentSlots:l,getFormState:a}=Ft(),{getUploadHandler:c}=Dc(),[u,d]=ot.useState({}),[f,m]=ot.useState(!1),[h,p]=ot.useState(),[g,b]=ot.useState(!1),[v,x]=ot.useState(!1),[y,C]=ot.useState(!1),[S,w]=ot.useState(!1),[F,R]=ot.useState(!1),[A,D]=ot.useReducer(US,Lj),{activeIndex:_,forms:I,totalErrorCount:T}=A,E=ot.useRef(I);E.current=I;let $=I.length,j=ot.useRef([]),N=ot.useRef(new Set),[P,L]=ot.useState([]);ot.useEffect(()=>{(async()=>{let U=[...j.current];for(let ne=0;ne<$;ne++){let de=E.current[ne].formState.file.value;if(N.current.has(de)||!de||!Nj(de.type))continue;N.current.add(de);let Ae=await HS(de);U[ne]=Ae,j.current=U,L([...U]),await new Promise(We=>setTimeout(We,100))}})()},[$]);let{toggleLoadingOverlay:V}=dm(),{closeModal:M}=ce(),{collectionSlug:O,drawerSlug:B,initialFiles:G,onSuccess:X}=Wo(),[Z,oe]=ot.useState(!1),[z,Y]=ot.useState(""),le=ot.useRef(!1),J=ot.useRef(null),ue=ot.useRef(()=>({})),te=`${o}/${O}`,K=ot.useCallback(async()=>{let U={locale:r||void 0},ne=`/${O}/access`,Ae=await(await fetch(`${n}${o}${ne}?${Vm.stringify(U)}`,{credentials:"include",headers:{"Accept-Language":s.language,"Content-Type":"application/json"},method:"post"})).json(),We=await fetch(`${n}${o}${ne}?${Vm.stringify(U)}`,{body:JSON.stringify({_status:"published"}),credentials:"include",headers:{"Accept-Language":s.language,"Content-Type":"application/json"},method:"POST"}).then(Le=>Le.json());p(Ae),b(wl({collectionSlug:O,docPermissions:Ae,isEditing:!1})),x(We?.update),w(!0)},[o,r,O,s.language,n]),he=ot.useCallback(async U=>{U?.signal&&U.abort("aborting previous fetch for initial form state without files");let ne=await l({collectionSlug:O});d(ne);try{let{state:de}=await a({collectionSlug:O,docPermissions:h,docPreferences:{fields:{}},locale:r,operation:"create",renderAllFields:!0,schemaPath:O,skipValidation:!0});J.current=de,C(!0)}catch{}},[l,O,a,h,r]),fe=ot.useCallback(U=>{let ne=ue.current();D({type:"REPLACE",state:{activeIndex:U,forms:I.map((de,Ae)=>Ae===_?{errorCount:de.errorCount,formState:ne,uploadEdits:de.uploadEdits}:de)}})},[I,_]),Ne=ot.useCallback(async U=>{V({isLoading:!0,key:"addingDocs"}),y||await he(),D({type:"ADD_FORMS",files:U,initialState:J.current}),V({isLoading:!1,key:"addingDocs"})},[he,y,V]),be=ot.useCallback(U=>{j.current=j.current.filter((ne,de)=>!U.includes(de)),L([...j.current])},[]),Xe=ot.useCallback(U=>{D({type:"REMOVE_FORM",index:U}),be([U])},[be]),Q=ot.useCallback(({errorCount:U,index:ne})=>{D({type:"UPDATE_ERROR_COUNT",count:U,index:ne})},[]),ke=ot.useCallback(async({overrides:U}={})=>{let ne=ue.current(),de=[...I];de[_]={errorCount:de[_].errorCount,formState:ne,uploadEdits:de[_].uploadEdits};let Ae=[];oe(!0);for(let Ye=0;Ye<de.length;Ye++)try{let ut=de[Ye];Y(i("general:uploadingBulk",{current:Ye+1,total:de.length}));let Mt=`${te}${Vm.stringify({uploadEdits:ut?.uploadEdits||void 0},{addQueryPrefix:!0})}`,Ue=await fetch(Mt,{body:await XS(ut.formState,U,O,c({collectionSlug:O})),method:"POST"}),He=await Ue.json();Ue.status===201&&He?.doc&&Ae.push(He.doc);let[qe,vt]=(He?.errors||[]).reduce(([Et,Ct],Qe)=>{let Pt=[],ge=[];return Qe?.message&&ge.push(Qe),Array.isArray(Qe?.data?.errors)&&Qe.data?.errors.forEach(q=>{q?.path?Pt.push(q):ge.push(q)}),[[...Et,...Pt],[...Ct,...ge]]},[[],[]]);de[Ye]={errorCount:qe.length,formState:Fc(de[Ye].formState,{type:"ADD_SERVER_ERRORS",errors:qe})},(Ue.status===413||Ue.status===400)&&(de[Ye]={...de[Ye],errorCount:de[Ye].errorCount+1},me.error(vt[0]?.message))}catch{}m(!0),Y(""),oe(!1);let We=[],Le=[];de.forEach(({errorCount:Ye},ut)=>{Ye?We.push(de[ut]):Le.push(ut)});let Ve=Math.max(0,de.length-We.length),ht=de.length-Ve;Ve&&(me.success(`Successfully saved ${Ve} files`),typeof X=="function"&&X(Ae,ht),We.length&&Le.length&&be(Le)),ht?me.error(`Failed to save ${ht} files`):M(B),D({type:"REPLACE",state:{activeIndex:0,forms:We,totalErrorCount:We.reduce((Ye,{errorCount:ut})=>Ye+ut,0)}})},[te,_,I,be,X,O,c,i,M,B]),Ce=ot.useCallback(async(U,ne)=>{for(let de=0;de<I.length;de++)if(Object.entries(U).forEach(([Ae,We])=>{I[de].formState[Ae]&&(I[de].formState[Ae].value=We,D({type:"UPDATE_FORM",errorCount:I[de].errorCount,formState:I[de].formState,index:de}))}),typeof ne=="function"&&ne(),f){let{state:Ae}=await a({collectionSlug:O,docPermissions:h,docPreferences:null,formState:I[de].formState,operation:"create",schemaPath:O}),We=Object.values(Ae).reduce((Le,Ve)=>Ve?.valid===!1?Le+1:Le,0);D({type:"UPDATE_FORM",errorCount:We,formState:Ae,index:de})}},[O,h,I,a,f]),ae=ot.useCallback(U=>{D({type:"UPDATE_FORM",errorCount:I[_].errorCount,formState:I[_].formState,index:_,uploadEdits:U})},[_,I]),ie=ot.useCallback(()=>{D({type:"REPLACE",state:{forms:I.map(U=>({...U,uploadEdits:{}}))}})},[I]);return ot.useEffect(()=>{O&&(y||he(),S||K(),G&&R(!y||!S),y&&G&&!le.current&&(Ne(G),le.current=!0))},[Ne,G,he,K,O,y,S]),Pj(YS,{value:{activeIndex:A.activeIndex,addFiles:Ne,bulkUpdateForm:Ce,collectionSlug:O,docPermissions:h,documentSlots:u,forms:I,getFormDataRef:ue,hasPublishPermission:v,hasSavePermission:g,hasSubmitted:f,isInitializing:F,removeFile:Xe,resetUploadEdits:ie,saveAllDocs:ke,setActiveIndex:fe,setFormTotalErrorCount:Q,thumbnailUrls:P,totalErrorCount:T,updateUploadEdits:ae},children:[Z&&Ej(wn,{animationDuration:"250ms",loadingText:z,overlayType:"fullscreen",show:!0}),t]})}function Io(){return ot.use(YS)}import{jsx as Br,jsxs as db}from"react/jsx-runtime";import{getTranslation as Hj}from"@payloadcms/translations";import{unflatten as tI}from"payload/shared";import zj,{useCallback as mb,useEffect as Xj,useMemo as Uj,useState as oI}from"react";import{c as Mj}from"react/compiler-runtime";import{jsx as eI,jsxs as Bj}from"react/jsx-runtime";import{useState as Vj}from"react";var JS=t=>{let e=["file","mimeType","thumbnailURL","width","height","filesize","filename","url","focalX","focalY","sizes"];return t.filter(o=>!e.includes("name"in o&&o.name))};import{fieldAffectsData as $j,fieldHasSubFields as kj,fieldIsHiddenOrDisabled as jj,getFieldPermissions as Oj}from"payload/shared";import{fieldAffectsData as qS}from"payload/shared";var Fa=(t,e)=>t?qS(e)?`${t}.${e.name}`:t:qS(e)?e.name:"";import{jsx as Gm,jsxs as QS}from"react/jsx-runtime";import{Fragment as KS}from"react";var Nc=({CustomLabel:t,field:e,prefix:o})=>QS(KS,{children:[o?QS(KS,{children:[Gm("span",{style:{display:"inline-block"},children:o})," > "]}):null,Gm("span",{style:{display:"inline-block"},children:Gm(re,{CustomComponent:t,Fallback:Gm(ve,{label:"label"in e&&e.label})})})]});var Wm=({fields:t,formState:e,labelPrefix:o=null,parentPath:n="",path:r="",permissions:s})=>{if(!t)return[];let i=e?.[r]?.customComponents?.Label;return t?.reduce((l,a)=>{let{operation:c,permissions:u,read:d}=Oj({field:a,operation:"update",parentName:n?.includes(".")?n.split(".")[n.split(".").length-1]:n,permissions:s});if(($j(a)||a.type==="ui")&&(a.admin?.disableBulkEdit||a.unique||jj(a)||"readOnly"in a&&a.readOnly||!c||!d))return l;if(!(a.type==="array"||a.type==="blocks")&&kj(a))return[...l,...Wm({fields:a.fields,labelPrefix:Nc({CustomLabel:i,field:a,prefix:o}),parentPath:r,path:Fa(r,a),permissions:u})];if(a.type==="tabs"&&"tabs"in a)return[...l,...a.tabs.reduce((m,h)=>{if("fields"in h){let p="name"in h&&h.name;return[...m,...Wm({fields:h.fields,labelPrefix:o,parentPath:r,path:p?Fa(r,a):r,permissions:u})]}},[])];let f={label:Nc({CustomLabel:i,field:a,prefix:o}),value:{field:a,fieldPermissions:u,path:Fa(r,a)}};return[...l,f]},[])};var Gj="field-select",Hm=t=>{let e=Mj(14),{fields:o,onChange:n,permissions:r}=t,{t:s}=k(),{dispatchFields:i,getFields:l}=Oe(),a;e[0]!==o||e[1]!==l||e[2]!==r?(a=()=>Wm({fields:JS(o),formState:l(),permissions:r}),e[0]=o,e[1]=l,e[2]=r,e[3]=a):a=e[3];let[c]=Vj(a),u;if(e[4]!==i||e[5]!==l||e[6]!==n||e[7]!==c||e[8]!==s){let d;e[10]!==i||e[11]!==l||e[12]!==n?(d=f=>n({dispatchFields:i,formState:l(),selected:f}),e[10]=i,e[11]=l,e[12]=n,e[13]=d):d=e[13],u=Bj("div",{className:Gj,children:[eI(ve,{label:s("fields:selectFieldsToEdit")}),eI(mt,{getOptionValue:Wj,isMulti:!0,onChange:d,options:c})]}),e[4]=i,e[5]=l,e[6]=n,e[7]=c,e[8]=s,e[9]=u}else u=e[9];return u};function Wj(t){return typeof t.value=="object"&&"path"in t.value?String(t.value.path):String(t.value)}var rI=t=>{let{collection:{fields:e,labels:{plural:o,singular:n}}={},collection:r,drawerSlug:s,forms:i}=t,[l,a]=oI(!1),{permissions:c}=Re(),{i18n:u,t:d}=k(),{closeModal:f}=ce(),{bulkUpdateForm:m}=Io(),{getFormState:h}=Ft(),p=zj.useRef(null),[g,b]=oI([]),v=c?.collections?.[r.slug],x=Uj(()=>tI(g.reduce((w,F)=>(w[F.value.path]=!0,w),{})),[g]),y=mb(async({formState:w,submitted:F})=>{let R=tr(p),{state:A}=await h({collectionSlug:r.slug,docPermissions:v,docPreferences:null,formState:w,operation:"update",schemaPath:r.slug,select:x,signal:R.signal,skipValidation:!F});return p.current=null,A},[h,r,v,x]);Xj(()=>{let w=p.current;return()=>{er(w)}},[]);let C=mb(w=>{let F=g.reduce((R,A)=>(w[A.value.path]&&(R[A.value.path]=w[A.value.path].value),R),{});m(F,()=>f(s))},[f,s,m,g]),S=mb(async({dispatchFields:w,formState:F,selected:R})=>{a(!0),b(R||[]);let{state:A}=await h({collectionSlug:r.slug,docPermissions:v,docPreferences:null,formState:F,operation:"update",schemaPath:r.slug,select:tI(R.reduce((D,_)=>(D[_.value.path]=!0,D),{})),skipValidation:!0});w({type:"UPDATE_MANY",formState:A}),a(!1)},[h,r,v]);return db("div",{className:`${hr}__main`,children:[db("div",{className:`${hr}__header`,children:[Br("h2",{className:`${hr}__header__title`,children:d("general:editingLabel",{count:i.length,label:Hj(i.length>1?o:n,u)})}),Br("button",{"aria-label":d("general:close"),className:`${hr}__header__close`,id:`close-drawer__${s}`,onClick:()=>f(s),type:"button",children:Br(ft,{})})]}),db(Dn,{className:`${hr}__form`,isInitializing:l,onChange:[y],onSubmit:C,children:[Br(Hm,{fields:e,onChange:S,permissions:v.fields}),g.length===0?null:Br("div",{className:"render-fields",children:g.map((w,F)=>{let{value:{field:R,fieldPermissions:A,path:D}}=w;return Br(Aa,{clientFieldConfig:R,indexPath:"",parentPath:"",parentSchemaPath:"",path:D,permissions:A},`${D}-${F}`)})}),Br("div",{className:`${hr}__sidebar-wrap`,children:Br("div",{className:`${hr}__sidebar`,children:Br("div",{className:`${hr}__sidebar-sticky-wrap`,children:Br("div",{className:`${hr}__document-actions`,children:Br(se,{type:"submit",children:d("general:applyChanges")})})})})})]})]})};var hr="edit-many-bulk-uploads",nI=t=>{let e=Yj(5),{collection:o,collection:n}=t,{slug:r}=o===void 0?{}:o,{permissions:s}=Re(),{t:i}=k(),{forms:l}=Io(),c=s?.collections?.[r]?.update,u=`edit-${r}-bulk-uploads`;if(!c)return null;let d;return e[0]!==n||e[1]!==u||e[2]!==l||e[3]!==i?(d=Zj("div",{className:hr,children:[zm(cr,{"aria-label":i("general:editAll"),className:`${hr}__toggle`,slug:u,children:i("general:editAll")}),zm(Ns,{children:zm(Lt,{Header:null,slug:u,children:zm(rI,{collection:n,drawerSlug:u,forms:l})})})]}),e[0]=n,e[1]=u,e[2]=l,e[3]=i,e[4]=d):d=e[4],d};var Ta="bulk-upload--actions-bar";function iI(t){let e=sI(15),{collectionConfig:o}=t,{activeIndex:n,forms:r,setActiveIndex:s}=Io(),{t:i}=k(),l=n+1,a;if(e[0]!==n||e[1]!==o||e[2]!==r.length||e[3]!==s||e[4]!==i||e[5]!==l){let c;e[7]!==n||e[8]!==r.length||e[9]!==s?(c=()=>{let d=n-1;d<0?s(r.length-1):s(d)},e[7]=n,e[8]=r.length,e[9]=s,e[10]=c):c=e[10];let u;e[11]!==n||e[12]!==r.length||e[13]!==s?(u=()=>{let d=n+1;d===r.length?s(0):s(d)},e[11]=n,e[12]=r.length,e[13]=s,e[14]=u):u=e[14],a=Lc("div",{className:Ta,children:[Lc("div",{className:`${Ta}__navigation`,children:[Lc("p",{className:`${Ta}__locationText`,children:[Vr("strong",{children:l})," of ",Vr("strong",{children:r.length})]}),Lc("div",{className:`${Ta}__controls`,children:[Vr(se,{"aria-label":i("general:previous"),buttonStyle:"none",onClick:c,type:"button",children:Vr(Je,{direction:"left"})}),Vr(se,{"aria-label":i("general:next"),buttonStyle:"none",onClick:u,type:"button",children:Vr(Je,{direction:"right"})})]}),Vr(nI,{collection:o})]}),Vr(fb,{className:`${Ta}__saveButtons`})]}),e[0]=n,e[1]=o,e[2]=r.length,e[3]=s,e[4]=i,e[5]=l,e[6]=a}else a=e[6];return a}function fb(t){let e=sI(12),{className:o}=t,{getEntityConfig:n}=H(),{t:r}=k(),{collectionSlug:s,hasPublishPermission:i,hasSavePermission:l,saveAllDocs:a}=Io(),c;e[0]!==s||e[1]!==n?(c=n({collectionSlug:s}),e[0]=s,e[1]=n,e[2]=c):c=e[2];let u=c,d;e[3]!==o?(d=[`${Ta}__buttons`,o].filter(Boolean),e[3]=o,e[4]=d):d=e[4];let f=d.join(" "),m;return e[5]!==u?.versions?.drafts||e[6]!==i||e[7]!==l||e[8]!==a||e[9]!==r||e[10]!==f?(m=Lc("div",{className:f,children:[u?.versions?.drafts&&l?Vr(se,{buttonStyle:"secondary",onClick:()=>void a({overrides:{_status:"draft"}}),children:r("version:saveDraft")}):null,u?.versions?.drafts&&i?Vr(se,{onClick:()=>void a({overrides:{_status:"published"}}),children:r("version:publish")}):null,!u?.versions?.drafts&&l?Vr(se,{onClick:()=>void a(),children:r("general:save")}):null]}),e[5]=u?.versions?.drafts,e[6]=i,e[7]=l,e[8]=a,e[9]=r,e[10]=f,e[11]=m):m=e[11],m}import{c as Jj}from"react/compiler-runtime";import{jsx as qj}from"react/jsx-runtime";import"react";var $c="bulk-upload--discard-without-saving";function aI(){let t=Jj(9),{t:e}=k(),{closeModal:o}=ce(),{drawerSlug:n}=Wo(),r;t[0]!==o?(r=()=>{o($c)},t[0]=o,t[1]=r):r=t[1];let s=r,i;t[2]!==o||t[3]!==n?(i=()=>{o(n),o($c)},t[2]=o,t[3]=n,t[4]=i):i=t[4];let l=i,a;return t[5]!==s||t[6]!==l||t[7]!==e?(a=qj(It,{body:e("general:changesNotSaved"),cancelLabel:e("general:stayOnThisPage"),confirmLabel:e("general:leaveAnyway"),heading:e("general:leaveWithoutSaving"),modalSlug:$c,onCancel:s,onConfirm:l}),t[5]=s,t[6]=l,t[7]=e,t[8]=a):a=t[8],a}import{jsx as xs,jsxs as xO}from"react/jsx-runtime";import{useRouter as yO,useSearchParams as CO}from"next/navigation.js";import{formatAdminURL as wO}from"payload/shared";import Hc,{useCallback as TI,useEffect as EI}from"react";import{c as Qj}from"react/compiler-runtime";import{jsx as Kj}from"react/jsx-runtime";import{createContext as eO,use as tO,useState as oO}from"react";var lI=eO({mostRecentUpdate:null,reportUpdate:t=>null}),pb=t=>{let e=Qj(3),{children:o}=t,[n,r]=oO(null),s;return e[0]!==o||e[1]!==n?(s=Kj(lI,{value:{mostRecentUpdate:n,reportUpdate:r},children:o}),e[0]=o,e[1]=n,e[2]=s):s=e[2],s},fi=()=>tO(lI);import{jsx as ps,jsxs as cI}from"react/jsx-runtime";import{fieldIsSidebar as rO}from"payload/shared";import{useMemo as nO}from"react";var gr="document-fields",kc=({AfterFields:t,BeforeFields:e,Description:o,docPermissions:n,fields:r,forceSidebarWrap:s,readOnly:i,schemaPathSegments:l})=>{let{hasSidebarFields:a,mainFields:c,sidebarFields:u}=nO(()=>r.reduce((d,f)=>(rO(f)?(d.sidebarFields.push(f),d.mainFields.push(null),d.hasSidebarFields=!0):(d.mainFields.push(f),d.sidebarFields.push(null)),d),{hasSidebarFields:!1,mainFields:[],sidebarFields:[]}),[r]);return cI("div",{className:[gr,a?`${gr}--has-sidebar`:`${gr}--no-sidebar`,s&&`${gr}--force-sidebar-wrap`].filter(Boolean).join(" "),children:[ps("div",{className:`${gr}__main`,children:cI(Mo,{className:`${gr}__edit`,children:[o?ps("header",{className:`${gr}__header`,children:ps("div",{className:`${gr}__sub-header`,children:o})}):null,e,ps(So,{className:`${gr}__fields`,fields:c,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:l.join("."),permissions:n?.fields,readOnly:i}),t]})}),a?ps("div",{className:`${gr}__sidebar-wrap`,children:ps("div",{className:`${gr}__sidebar`,children:ps("div",{className:`${gr}__sidebar-fields`,children:ps(So,{fields:u,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:l.join("."),permissions:n?.fields,readOnly:i})})})}):null]})};import{c as DI}from"react/compiler-runtime";import{jsx as wt,jsxs as vr}from"react/jsx-runtime";import{isImage as FI}from"payload/shared";import Wc,{Fragment as gO,useCallback as Jm,useEffect as Cb,useRef as _I,useState as Gc}from"react";import{jsx as _t,jsxs as Po}from"react/jsx-runtime";import Ym,{useRef as La,useState as bs}from"react";import Gt,{PureComponent as sO,createRef as uI}from"react";var Xm={x:0,y:0,width:0,height:0,unit:"px"},Ea=(t,e,o)=>Math.min(Math.max(t,e),o),iO=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),dI=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function Pa(t,e,o){return t.unit==="%"?{...Xm,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/o*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/o*100:0}}function hs(t,e,o){return t.unit?t.unit==="px"?{...Xm,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*o/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*o/100:0}:{...Xm,...t,unit:"px"}}function mI(t,e,o,n,r,s=0,i=0,l=n,a=r){let c={...t},u=Math.min(s,n),d=Math.min(i,r),f=Math.min(l,n),m=Math.min(a,r);e&&(e>1?(u=i?i*e:u,d=u/e,f=l*e):(d=s?s/e:d,u=d*e,m=a/e)),c.y<0&&(c.height=Math.max(c.height+c.y,d),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,u),c.x=0);let h=n-(c.x+c.width);h<0&&(c.x=Math.min(c.x,n-u),c.width+=h);let p=r-(c.y+c.height);if(p<0&&(c.y=Math.min(c.y,r-d),c.height+=p),c.width<u&&((o==="sw"||o=="nw")&&(c.x-=u-c.width),c.width=u),c.height<d&&((o==="nw"||o=="ne")&&(c.y-=d-c.height),c.height=d),c.width>f&&((o==="sw"||o=="nw")&&(c.x-=f-c.width),c.width=f),c.height>m&&((o==="nw"||o=="ne")&&(c.y-=m-c.height),c.height=m),e){let g=c.width/c.height;if(g<e){let b=Math.max(c.width/e,d);(o==="nw"||o=="ne")&&(c.y-=b-c.height),c.height=b}else if(g>e){let b=Math.max(c.height*e,u);(o==="sw"||o=="nw")&&(c.x-=b-c.width),c.width=b}}return c}function aO(t,e,o,n){let r={...t};return e==="ArrowLeft"?n==="nw"?(r.x-=o,r.y-=o,r.width+=o,r.height+=o):n==="w"?(r.x-=o,r.width+=o):n==="sw"?(r.x-=o,r.width+=o,r.height+=o):n==="ne"?(r.y+=o,r.width-=o,r.height-=o):n==="e"?r.width-=o:n==="se"&&(r.width-=o,r.height-=o):e==="ArrowRight"&&(n==="nw"?(r.x+=o,r.y+=o,r.width-=o,r.height-=o):n==="w"?(r.x+=o,r.width-=o):n==="sw"?(r.x+=o,r.width-=o,r.height-=o):n==="ne"?(r.y-=o,r.width+=o,r.height+=o):n==="e"?r.width+=o:n==="se"&&(r.width+=o,r.height+=o)),e==="ArrowUp"?n==="nw"?(r.x-=o,r.y-=o,r.width+=o,r.height+=o):n==="n"?(r.y-=o,r.height+=o):n==="ne"?(r.y-=o,r.width+=o,r.height+=o):n==="sw"?(r.x+=o,r.width-=o,r.height-=o):n==="s"?r.height-=o:n==="se"&&(r.width-=o,r.height-=o):e==="ArrowDown"&&(n==="nw"?(r.x+=o,r.y+=o,r.width-=o,r.height-=o):n==="n"?(r.y+=o,r.height-=o):n==="ne"?(r.y+=o,r.width-=o,r.height-=o):n==="sw"?(r.x-=o,r.width+=o,r.height+=o):n==="s"?r.height+=o:n==="se"&&(r.width+=o,r.height+=o)),r}var Na={capture:!0,passive:!1},gs=class Gr extends sO{constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=uI(),this.mediaRef=uI(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:o,disabled:n}=this.props,r=this.getBox();if(!o)return;let s=hs(o,r.width,r.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let i=e.target.dataset.ord,l=!!i,a=e.clientX,c=e.clientY,u=s.x,d=s.y;if(i){let f=e.clientX-r.x,m=e.clientY-r.y,h=0,p=0;i==="ne"||i=="e"?(h=f-(s.x+s.width),p=m-s.y,u=s.x,d=s.y+s.height):i==="se"||i==="s"?(h=f-(s.x+s.width),p=m-(s.y+s.height),u=s.x,d=s.y):i==="sw"||i=="w"?(h=f-s.x,p=m-(s.y+s.height),u=s.x+s.width,d=s.y):(i==="nw"||i=="n")&&(h=f-s.x,p=m-s.y,u=s.x+s.width,d=s.y+s.height),a=u+r.x+h,c=d+r.y+p}this.evData={startClientX:a,startClientY:c,startCropX:u,startCropY:d,clientX:e.clientX,clientY:e.clientY,isResize:l,ord:i},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:o,disabled:n,locked:r,keepSelection:s,onChange:i}=this.props,l=this.getBox();if(n||r||s&&o)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let a=e.clientX-l.x,c=e.clientY-l.y,u={unit:"px",x:a,y:c,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:a,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,i(hs(u,l.width,l.height),Pa(u,l.width,l.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let{crop:o,disabled:n,onChange:r,onDragStart:s}=this.props,i=this.getBox();if(n||!o||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,s&&s(e));let{evData:l}=this;l.clientX=e.clientX,l.clientY=e.clientY;let a;l.isResize?a=this.resizeCrop():a=this.dragCrop(),dI(o,a)||r(hs(a,i.width,i.height),Pa(a,i.width,i.height))},this.onComponentKeyDown=e=>{let{crop:o,disabled:n,onChange:r,onComplete:s}=this.props;if(n)return;let i=e.key,l=!1;if(!o)return;let a=this.getBox(),c=this.makePixelCrop(a),u=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Gr.nudgeStepLarge:e.shiftKey?Gr.nudgeStepMedium:Gr.nudgeStep;if(i==="ArrowLeft"?(c.x-=u,l=!0):i==="ArrowRight"?(c.x+=u,l=!0):i==="ArrowUp"?(c.y-=u,l=!0):i==="ArrowDown"&&(c.y+=u,l=!0),l){e.cancelable&&e.preventDefault(),c.x=Ea(c.x,0,a.width-c.width),c.y=Ea(c.y,0,a.height-c.height);let d=hs(c,a.width,a.height),f=Pa(c,a.width,a.height);r(d,f),s&&s(d,f)}},this.onHandlerKeyDown=(e,o)=>{let{aspect:n=0,crop:r,disabled:s,minWidth:i=0,minHeight:l=0,maxWidth:a,maxHeight:c,onChange:u,onComplete:d}=this.props,f=this.getBox();if(s||!r)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;let m=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?Gr.nudgeStepLarge:e.shiftKey?Gr.nudgeStepMedium:Gr.nudgeStep,h=hs(r,f.width,f.height),p=aO(h,e.key,m,o),g=mI(p,n,o,f.width,f.height,i,l,a,c);if(!dI(r,g)){let b=Pa(g,f.width,f.height);u(g,b),d&&d(g,b)}},this.onDocPointerDone=e=>{let{crop:o,disabled:n,onComplete:r,onDragEnd:s}=this.props,i=this.getBox();this.unbindDocMove(),!(n||!o)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,s&&s(e),r&&r(hs(o,i.width,i.height),Pa(o,i.width,i.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var o;(o=this.componentRef.current)==null||o.scrollTo(0,0)}}get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:o,y:n,width:r,height:s}=e.getBoundingClientRect();return{x:o,y:n,width:r,height:s}}componentDidUpdate(e){let{crop:o,onComplete:n}=this.props;if(n&&!e.crop&&o){let{width:r,height:s}=this.getBox();r&&s&&n(hs(o,r,s),Pa(o,r,s))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,Na),this.document.addEventListener("pointerup",this.onDocPointerDone,Na),this.document.addEventListener("pointercancel",this.onDocPointerDone,Na),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,Na),this.document.removeEventListener("pointerup",this.onDocPointerDone,Na),this.document.removeEventListener("pointercancel",this.onDocPointerDone,Na),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){let{evData:e}=this,o=this.getBox(),n=this.makePixelCrop(o),r=e.clientX-e.startClientX,s=e.clientY-e.startClientY;return n.x=Ea(e.startCropX+r,0,o.width-n.width),n.y=Ea(e.startCropY+s,0,o.height-n.height),n}getPointRegion(e,o,n,r){let{evData:s}=this,i=s.clientX-e.x,l=s.clientY-e.y,a;r&&o?a=o==="nw"||o==="n"||o==="ne":a=l<s.startCropY;let c;return n&&o?c=o==="nw"||o==="w"||o==="sw":c=i<s.startCropX,c?a?"nw":"sw":a?"ne":"se"}resolveMinDimensions(e,o,n=0,r=0){let s=Math.min(n,e.width),i=Math.min(r,e.height);return!o||!s&&!i?[s,i]:o>1?s?[s,s/o]:[i*o,i]:i?[i*o,i]:[s,s/o]}resizeCrop(){let{evData:e}=this,{aspect:o=0,maxWidth:n,maxHeight:r}=this.props,s=this.getBox(),[i,l]=this.resolveMinDimensions(s,o,this.props.minWidth,this.props.minHeight),a=this.makePixelCrop(s),c=this.getPointRegion(s,e.ord,i,l),u=e.ord||c,d=e.clientX-e.startClientX,f=e.clientY-e.startClientY;(i&&u==="nw"||u==="w"||u==="sw")&&(d=Math.min(d,-i)),(l&&u==="nw"||u==="n"||u==="ne")&&(f=Math.min(f,-l));let m={unit:"px",x:0,y:0,width:0,height:0};c==="ne"?(m.x=e.startCropX,m.width=d,o?(m.height=m.width/o,m.y=e.startCropY-m.height):(m.height=Math.abs(f),m.y=e.startCropY-m.height)):c==="se"?(m.x=e.startCropX,m.y=e.startCropY,m.width=d,o?m.height=m.width/o:m.height=f):c==="sw"?(m.x=e.startCropX+d,m.y=e.startCropY,m.width=Math.abs(d),o?m.height=m.width/o:m.height=f):c==="nw"&&(m.x=e.startCropX+d,m.width=Math.abs(d),o?(m.height=m.width/o,m.y=e.startCropY-m.height):(m.height=Math.abs(f),m.y=e.startCropY+f));let h=mI(m,o,c,s.width,s.height,i,l,n,r);return o||Gr.xyOrds.indexOf(u)>-1?a=h:Gr.xOrds.indexOf(u)>-1?(a.x=h.x,a.width=h.width):Gr.yOrds.indexOf(u)>-1&&(a.y=h.y,a.height=h.height),a.x=Ea(a.x,0,s.width-a.width),a.y=Ea(a.y,0,s.height-a.height),a}createCropSelection(){let{ariaLabels:e=Gr.defaultProps.ariaLabels,disabled:o,locked:n,renderSelectionAddon:r,ruleOfThirds:s,crop:i}=this.props,l=this.getCropStyle();if(i)return Gt.createElement("div",{style:l,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!o&&!n&&Gt.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},Gt.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),Gt.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),Gt.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),Gt.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),Gt.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"nw"),role:"button"}),Gt.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"n"),role:"button"}),Gt.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"ne"),role:"button"}),Gt.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"e"),role:"button"}),Gt.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"se"),role:"button"}),Gt.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"s"),role:"button"}),Gt.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"sw"),role:"button"}),Gt.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:a=>this.onHandlerKeyDown(a,"w"),role:"button"})),r&&Gt.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:a=>a.stopPropagation()},r(this.state)),s&&Gt.createElement(Gt.Fragment,null,Gt.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),Gt.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){let o={...Xm,...this.props.crop||{}};return hs(o,e.width,e.height)}render(){let{aspect:e,children:o,circularCrop:n,className:r,crop:s,disabled:i,locked:l,style:a,ruleOfThirds:c}=this.props,{cropIsActive:u,newCropIsBeingDrawn:d}=this.state,f=s?this.createCropSelection():null,m=iO("ReactCrop",r,u&&"ReactCrop--active",i&&"ReactCrop--disabled",l&&"ReactCrop--locked",d&&"ReactCrop--new-crop",s&&e&&"ReactCrop--fixed-aspect",s&&n&&"ReactCrop--circular-crop",s&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&s&&!s.width&&!s.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return Gt.createElement("div",{ref:this.componentRef,className:m,style:a},Gt.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},o),f)}};gs.xOrds=["e","w"];gs.yOrds=["n","s"];gs.xyOrds=["nw","ne","se","sw"];gs.nudgeStep=1;gs.nudgeStepMedium=10;gs.nudgeStepLarge=100;gs.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};var fI=gs;import"react-image-crop/dist/ReactCrop.css";var xt="edit-upload",Um=t=>{let{name:e,onChange:o,ref:n,value:r}=t;return Po("div",{className:`${xt}__input`,children:[e,_t("input",{name:e,onChange:s=>o(s.target.value),ref:n,type:"number",value:r})]})},lO={height:100,unit:"%",width:100,x:0,y:0},hb=({fileName:t,fileSrc:e,imageCacheTag:o,initialCrop:n,initialFocalPoint:r,onSave:s,showCrop:i,showFocalPoint:l})=>{let{closeModal:a}=ce(),{t:c}=k(),[u,d]=bs(()=>({...lO,...n||{}})),f={x:50,y:50},[m,h]=bs(()=>({...f,...r})),[p,g]=bs(!1),[b,v]=bs(0),[x,y]=bs(0),C=La(void 0),S=La(void 0),w=La(void 0),F=La(null),R=La(null),[A,D]=bs(!1),_=P=>{v(P.currentTarget.naturalHeight),y(P.currentTarget.naturalWidth),D(!0)},I=({dimension:P,value:L})=>{let V=parseInt(L);if(P==="width"&&V>=x||P==="height"&&V>=b)return null;let M=100*(V/(P==="width"?x:b));if(M===100||M===0)return null;d({...u,[P]:M})},T=({coordinate:P,value:L})=>{let V=parseInt(L);V>=0&&V<=100&&h(M=>({...M,[P]:V}))},E=()=>{typeof s=="function"&&s({crop:u||void 0,focalPoint:m,heightInPixels:Number(F?.current?.value??b),widthInPixels:Number(R?.current?.value??x)}),a(jc)},$=Ym.useCallback(({x:P,y:L})=>{h({x:P,y:L}),g(!1)},[]),j=()=>{let P=C.current.getBoundingClientRect(),L=i?w.current.getBoundingClientRect():S.current.getBoundingClientRect(),V=(L.left-P.left+L.width/2)/P.width*100,M=(L.top-P.top+L.height/2)/P.height*100;h({x:V,y:M})},N=o?`${e}?${encodeURIComponent(o)}`:e;return Po("div",{className:xt,children:[Po("div",{className:`${xt}__header`,children:[Po("h2",{title:`${c("general:editing")} ${t}`,children:[c("general:editing")," ",t]}),Po("div",{className:`${xt}__actions`,children:[_t(se,{"aria-label":c("general:cancel"),buttonStyle:"secondary",className:`${xt}__cancel`,onClick:()=>a(jc),children:c("general:cancel")}),_t(se,{"aria-label":c("general:applyChanges"),buttonStyle:"primary",className:`${xt}__save`,disabled:!A,onClick:E,children:c("general:applyChanges")})]})]}),Po("div",{className:`${xt}__toolWrap`,children:[_t("div",{className:`${xt}__crop`,children:Po("div",{className:`${xt}__focal-wrapper`,ref:C,style:{aspectRatio:`${x/b}`},children:[i?_t(fI,{className:`${xt}__reactCrop`,crop:u,onChange:(P,L)=>d(L),onComplete:()=>g(!0),renderSelectionAddon:()=>_t("div",{className:`${xt}__crop-window`,ref:w}),children:_t("img",{alt:c("upload:setCropArea"),onLoad:_,ref:S,src:N})}):_t("img",{alt:c("upload:setFocalPoint"),onLoad:_,ref:S,src:N}),l&&_t(cO,{boundsRef:i?w:S,checkBounds:i?p:!1,className:`${xt}__focalPoint`,containerRef:C,initialPosition:m,onDragEnd:$,setCheckBounds:i?g:!1,children:_t(ko,{})})]})}),(i||l)&&Po("div",{className:`${xt}__sidebar`,children:[i&&Po("div",{className:`${xt}__groupWrap`,children:[_t("div",{children:Po("div",{className:`${xt}__titleWrap`,children:[_t("h3",{children:c("upload:crop")}),_t(se,{buttonStyle:"none",className:`${xt}__reset`,onClick:()=>d({height:100,unit:"%",width:100,x:0,y:0}),children:c("general:reset")})]})}),_t("span",{className:`${xt}__description`,children:c("upload:cropToolDescription")}),Po("div",{className:`${xt}__inputsWrap`,children:[_t(Um,{name:`${c("upload:width")} (px)`,onChange:P=>I({dimension:"width",value:P}),ref:R,value:(u.width/100*x).toFixed(0)}),_t(Um,{name:`${c("upload:height")} (px)`,onChange:P=>I({dimension:"height",value:P}),ref:F,value:(u.height/100*b).toFixed(0)})]})]}),l&&Po("div",{className:`${xt}__groupWrap`,children:[_t("div",{children:Po("div",{className:`${xt}__titleWrap`,children:[_t("h3",{children:c("upload:focalPoint")}),_t(se,{buttonStyle:"none",className:`${xt}__reset`,onClick:j,children:c("general:reset")})]})}),_t("span",{className:`${xt}__description`,children:c("upload:focalPointDescription")}),Po("div",{className:`${xt}__inputsWrap`,children:[_t(Um,{name:"X %",onChange:P=>T({coordinate:"x",value:P}),value:m.x.toFixed(0)}),_t(Um,{name:"Y %",onChange:P=>T({coordinate:"y",value:P}),value:m.y.toFixed(0)})]})]})]})]})]})},cO=({boundsRef:t,checkBounds:e,children:o,className:n,containerRef:r,initialPosition:s={x:50,y:50},onDragEnd:i,setCheckBounds:l})=>{let[a,c]=bs({x:s.x,y:s.y}),[u,d]=bs(!1),f=La(void 0),m=Ym.useCallback((b,v,x)=>{let y=r.current.getBoundingClientRect(),C=t.current.getBoundingClientRect(),S=b??C.left,w=v??C.top,F=S<C.left||S>C.right,R=w<C.top||w>C.bottom,A=(S-y.left)/y.width*100,D=(w-y.top)/y.height*100,_=(C.left-y.left+C.width/2)/y.width*100,I=(C.top-y.top+C.height/2)/y.height*100;return(F||R)&&(d(!1),S<C.left?A=(C.left-y.left)/y.width*100:S>C.right&&(A=(y.width-(y.right-C.right))/y.width*100),w<C.top?D=(C.top-y.top)/y.height*100:w>C.bottom&&(D=(y.height-(y.bottom-C.bottom))/y.height*100),x&&(A=F?_:A,D=R?I:D)),{x:A,y:D}},[t,r]),h=b=>{b.preventDefault(),d(!0)},p=b=>{if(!u)return null;let{x:v,y:x}=m(b.clientX,b.clientY);c({x:v,y:x})},g=()=>{d(!1),i(a)};return Ym.useEffect(()=>{if(!(u||!f.current)&&e){let{height:b,left:v,top:x,width:y}=f.current.getBoundingClientRect(),{x:C,y:S}=m(v+y/2,x+b/2,!0);i({x:C,y:S}),c({x:C,y:S}),l(!1);return}},[m,u,e,l,a.x,a.y,i]),Ym.useEffect(()=>{c({x:s.x,y:s.y})},[s.x,s.y]),Po("div",{className:[`${xt}__draggable-container`,u&&`${xt}__draggable-container--dragging`].filter(Boolean).join(" "),onMouseMove:p,children:[_t("button",{className:[`${xt}__draggable`,n].filter(Boolean).join(" "),onMouseDown:h,onMouseUp:g,ref:f,style:{left:`${a.x}%`,top:`${a.y}%`},type:"button",children:o}),_t("div",{})]})};import{jsx as wI}from"react/jsx-runtime";import"react";import{c as uO}from"react/compiler-runtime";import{jsx as Tn,jsxs as gb}from"react/jsx-runtime";import"react";var vs="file-details-draggable",pI=t=>{let e=uO(20),{collectionSlug:o,doc:n,hideRemoveFile:r,imageCacheTag:s,isSortable:i,removeItem:l,rowIndex:a,uploadConfig:c}=t,{id:u,filename:d,thumbnailURL:f,url:m}=n,h;e[0]!==o||e[1]!==u?(h={id:u,collectionSlug:o},e[0]=o,e[1]=u,e[2]=h):h=e[2];let[p,g]=Qt(h),b;e[3]!==p||e[4]!==g||e[5]!==o||e[6]!==n||e[7]!==d||e[8]!==r||e[9]!==s||e[10]!==i||e[11]!==l||e[12]!==a||e[13]!==f||e[14]!==c||e[15]!==m?(b=x=>gb("div",{className:[vs,x&&i&&`${vs}--has-drag-handle`].filter(Boolean).join(" "),ref:x.setNodeRef,style:{transform:x.transform,transition:x.transition,zIndex:x.isDragging?1:void 0},children:[gb("div",{className:`${vs}--drag-wrapper`,children:[i&&x&&Tn("div",{className:`${vs}__drag`,...x.attributes,...x.listeners,children:Tn(xn,{})}),Tn(jr,{className:`${vs}__thumbnail`,collectionSlug:o,doc:n,fileSrc:f||m,imageCacheTag:s,uploadConfig:c})]}),Tn("div",{className:`${vs}__main-detail`,children:d}),gb("div",{className:`${vs}__actions`,children:[Tn(p,{}),Tn(g,{children:Tn(Ir,{})}),!r&&l&&Tn(se,{buttonStyle:"icon-label",className:`${vs}__remove`,icon:"x",iconStyle:"none",onClick:()=>l(a),round:!0})]})]}),e[3]=p,e[4]=g,e[5]=o,e[6]=n,e[7]=d,e[8]=r,e[9]=s,e[10]=i,e[11]=l,e[12]=a,e[13]=f,e[14]=c,e[15]=m,e[16]=b):b=e[16];let v;return e[17]!==u||e[18]!==b?(v=Tn(Yr,{id:u,children:b},u),e[17]=u,e[18]=b,e[19]=v):v=e[19],v};import{jsx as Vc,jsxs as yI}from"react/jsx-runtime";import"react";import{jsx as vI,jsxs as Mc}from"react/jsx-runtime";import{formatFilesize as fO}from"payload/shared";import xI from"react";import{jsx as hI,jsxs as gI}from"react/jsx-runtime";import{useRef as dO,useState as bI}from"react";var mO="copy-to-clipboard",Oc=({defaultMessage:t,successMessage:e,value:o})=>{let n=dO(null),[r,s]=bI(!1),[i,l]=bI(!1),{t:a}=k();return o?gI("button",{className:mO,onClick:()=>{n&&n.current&&(n.current.select(),n.current.setSelectionRange(0,o.length+1),document.execCommand("copy"),s(!0))},onMouseEnter:()=>{l(!0),s(!1)},onMouseLeave:()=>{l(!1),s(!1)},type:"button",children:[hI(Al,{}),gI(ho,{delay:r?0:void 0,show:i||r,children:[r&&(e??a("general:copied")),!r&&(t??a("general:copy"))]}),hI("textarea",{readOnly:!0,ref:n,tabIndex:-1,value:o})]}):null};var bb="file-meta",Bc=t=>{let{filename:e,filesize:o,height:n,mimeType:r,url:s,width:i}=t;return Mc("div",{className:bb,children:[Mc("div",{className:`${bb}__url`,children:[vI("a",{href:s,rel:"noopener noreferrer",target:"_blank",children:e}),vI(Oc,{defaultMessage:"Copy URL",value:s})]}),Mc("div",{className:`${bb}__size-type`,children:[fO(o),typeof i=="number"&&typeof n=="number"&&Mc(xI.Fragment,{children:["\xA0-\xA0",i,"x",n]}),r&&Mc(xI.Fragment,{children:["\xA0-\xA0",r]})]})]})};var Zm="file-details",CI=t=>{let{customUploadActions:e,doc:o,enableAdjustments:n,handleRemove:r,hasImageSizes:s,hideRemoveFile:i,imageCacheTag:l,uploadConfig:a}=t,{filename:c,filesize:u,height:d,mimeType:f,thumbnailURL:m,url:h,width:p}=o,g=a.displayPreview??!0;return Vc("div",{className:Zm,children:yI("header",{children:[g&&Vc(jr,{className:`${Zm}__thumbnail`,doc:o,fileSrc:m||h,imageCacheTag:l,uploadConfig:a}),yI("div",{className:`${Zm}__main-detail`,children:[Vc(Bc,{filename:c,filesize:u,height:d,mimeType:f,url:h,width:p}),(n||e)&&Vc(vb,{customActions:e,enableAdjustments:!!n,enablePreviewSizes:s&&o.filename,mimeType:f})]}),!i&&r&&Vc(se,{buttonStyle:"icon-label",className:`${Zm}__remove`,icon:"x",iconStyle:"with-border",onClick:r,round:!0})]})})};var xb=t=>{let{hasMany:e}=t;return e?wI(pI,{...t}):wI(CI,{...t})};import{jsx as tn,jsxs as $a}from"react/jsx-runtime";import{useEffect as pO,useMemo as hO,useState as SI}from"react";var br="preview-sizes",II=(t,e)=>{if(!e||e.length===0)return t;let o={};return e.forEach(({name:n})=>{t[n]&&(o[n]=t[n])}),o},RI=({name:t,active:e,meta:o,onClick:n,previewSrc:r})=>$a("div",{className:[`${br}__sizeOption`,e&&`${br}--selected`].filter(Boolean).join(" "),onClick:typeof n=="function"?n:void 0,onKeyDown:s=>{typeof n=="function"&&s.key==="Enter"&&n()},role:"button",tabIndex:0,children:[tn("div",{className:`${br}__image`,children:tn("img",{alt:o.filename,src:r})}),$a("div",{className:`${br}__sizeMeta`,children:[tn("div",{className:`${br}__sizeName`,children:t}),tn(Bc,{...o})]})]}),yb=({doc:t,imageCacheTag:e,uploadConfig:o})=>{let{imageSizes:n}=o,{sizes:r}=t,[s,i]=SI(()=>II(r,n)),[l,a]=SI(null),c=m=>{if(!m.filename)return null;if(m.url)return`${m.url}${e?`?${encodeURIComponent(e)}`:""}`};pO(()=>{i(II(r,n))},[r,n,e]);let u=c(l?t.sizes[l]:t),d=hO(()=>({filename:t.filename,filesize:t.filesize,height:t.height,mimeType:t.mimeType,url:t.url,width:t.width}),[t]),f="Original";return $a("div",{className:br,children:[$a("div",{className:`${br}__imageWrap`,children:[$a("div",{className:`${br}__meta`,children:[tn("div",{className:`${br}__sizeName`,children:l||f}),tn(Bc,{...l?s[l]:d})]}),tn("img",{alt:t.filename,className:`${br}__preview`,src:u})]}),tn("div",{className:`${br}__listWrap`,children:$a("div",{className:`${br}__list`,children:[tn(RI,{active:!l,meta:d,name:f,onClick:()=>a(null),previewSrc:c(t)}),Object.entries(s).map(([m,h])=>{let p=l===m,g=c(h);return g?tn(RI,{active:p,meta:h,name:m,onClick:()=>a(m),previewSrc:g},m):null})]})})]})};var Kt="file-field",jc="edit-upload",AI="preview-sizes",bO=t=>!t&&t!==void 0?"A file is required.":!0,vb=t=>{let e=DI(9),{customActions:o,enableAdjustments:n,enablePreviewSizes:r,mimeType:s}=t,{t:i}=k(),l,a;if(e[0]!==o||e[1]!==n||e[2]!==r||e[3]!==s||e[4]!==i){a=Symbol.for("react.early_return_sentinel");e:{let c=FI(s)&&s!=="image/svg+xml"&&s!=="image/jxl";if(!c&&(!o||o.length===0)){a=null;break e}let u;e[7]!==o?(u=o&&o.map(vO),e[7]=o,e[8]=u):u=e[8],l=vr("div",{className:`${Kt}__upload-actions`,children:[c&&vr(Wc.Fragment,{children:[r&&wt(cr,{className:`${Kt}__previewSizes`,slug:AI,children:i("upload:previewSizes")}),n&&wt(cr,{className:`${Kt}__edit`,slug:jc,children:i("upload:editImage")})]}),u]})}e[0]=o,e[1]=n,e[2]=r,e[3]=s,e[4]=i,e[5]=l,e[6]=a}else l=e[5],a=e[6];return a!==Symbol.for("react.early_return_sentinel")?a:l},wb=t=>{let e=DI(5),{resetUploadEdits:o,updateUploadEdits:n,uploadEdits:r}=Ws(),s;return e[0]!==t||e[1]!==o||e[2]!==n||e[3]!==r?(s=wt(Sb,{...t,resetUploadEdits:o,updateUploadEdits:n,uploadEdits:r}),e[0]=t,e[1]=o,e[2]=n,e[3]=r,e[4]=s):s=e[4],s},Sb=t=>{let{collectionSlug:e,customActions:o,initialState:n,onChange:r,resetUploadEdits:s,updateUploadEdits:i,uploadConfig:l,uploadEdits:a}=t,{config:{routes:{api:c},serverURL:u}}=H(),{t:d}=k(),{setModified:f}=Oe(),{id:m,docPermissions:h,savedDocumentData:p,setUploadStatus:g}=Te(),b=ar(),{errorMessage:v,setValue:x,showError:y,value:C}=Fe({path:"file",validate:bO}),[S,w]=Gc(null),[F,R]=Gc(!1),[A,D]=Gc(C?.name||""),[_,I]=Gc(!1),[T,E]=Gc(""),$=_I(null),j=_I(null),N=typeof l?.pasteURL=="object"&&l.pasteURL.allowList?.length>0,P=Jm(K=>{K instanceof File&&w(URL.createObjectURL(K)),x(K),I(!1),typeof r=="function"&&r(K)},[r,x]),L=(K,he)=>new File([K],he,{type:K.type,lastModified:K.lastModified}),V=Wc.useCallback(K=>{let he=K.target.value;C&&(P(L(C,he)),D(he))},[P,C]),M=Jm(K=>{let he=K?.[0];P(he)},[P]),O=Jm(()=>{R(!0),P(null),w(""),E(""),s(),I(!1)},[P,s]),B=Jm(K=>{f(!0),i(K)},[f,i]),G=async()=>{if(!(!T||l?.pasteURL===!1)){g("uploading");try{let K=await fetch(T);if(!K.ok)throw new Error(`Fetch failed with status: ${K.status}`);let he=await K.blob(),fe=decodeURIComponent(T.split("/").pop()||""),Ne=new File([he],fe,{type:he.type});P(Ne),g("idle");return}catch{if(!N){me.error("Failed to fetch the file."),g("failed");return}}try{let K=`/${e}/paste-url${m?`/${m}?`:"?"}src=${encodeURIComponent(T)}`,he=await fetch(`${u}${c}${K}`);if(!he.ok)throw new Error(`Fetch failed with status: ${he.status}`);let fe=await he.blob(),Ne=decodeURIComponent(T.split("/").pop()||""),be=new File([fe],Ne,{type:fe.type});P(be),g("idle")}catch{me.error("The provided URL is not allowed."),g("failed")}}};Cb(()=>{n?.file?.value instanceof File&&(w(URL.createObjectURL(n.file.value)),R(!1))},[n]),Cb(()=>{_&&$.current},[_]),Cb(()=>{b&&R(!1)},[b]);let X=h?.update&&"delete"in h&&h?.delete,Z=l?.imageSizes?.length>0,oe=!!l?.resizeOptions,z=l?.focalPoint===!0,{crop:Y=!0,focalPoint:le=!0}=l,J=le&&(Z||oe||z),ue=l.mimeTypes?.join(", "),te=l?.cacheTags&&p?.updatedAt;return l.hideFileInputOnCreate&&!p?.filename?null:vr("div",{className:[ye,Kt].filter(Boolean).join(" "),children:[wt(Ge,{message:v,showError:y}),p&&p.filename&&!F&&wt(xb,{collectionSlug:e,customUploadActions:o,doc:p,enableAdjustments:Y||J,handleRemove:X?O:void 0,hasImageSizes:Z,hideRemoveFile:l.hideRemoveFile,imageCacheTag:te,uploadConfig:l}),(!l.hideFileInputOnCreate&&!p?.filename||F)&&vr("div",{className:`${Kt}__upload`,children:[!C&&!_&&wt(mi,{onChange:M,children:vr("div",{className:`${Kt}__dropzoneContent`,children:[vr("div",{className:`${Kt}__dropzoneButtons`,children:[wt(se,{buttonStyle:"pill",onClick:()=>{j.current&&j.current.click()},size:"small",children:d("upload:selectFile")}),wt("input",{accept:ue,"aria-hidden":"true",className:`${Kt}__hidden-input`,hidden:!0,onChange:K=>{K.target.files&&K.target.files.length>0&&M(K.target.files)},ref:j,type:"file"}),l?.pasteURL!==!1&&vr(gO,{children:[wt("span",{className:`${Kt}__orText`,children:d("general:or")}),wt(se,{buttonStyle:"pill",onClick:()=>{I(!0)},size:"small",children:d("upload:pasteURL")})]})]}),vr("p",{className:`${Kt}__dragAndDropText`,children:[d("general:or")," ",d("upload:dragAndDrop")]})]})}),_&&vr(Wc.Fragment,{children:[vr("div",{className:`${Kt}__remote-file-wrap`,children:[wt("input",{className:`${Kt}__remote-file`,onChange:K=>{E(K.target.value)},ref:$,type:"text",value:T}),wt("div",{className:`${Kt}__add-file-wrap`,children:wt("button",{className:`${Kt}__add-file`,onClick:()=>{G()},type:"button",children:d("upload:addFile")})})]}),wt(se,{buttonStyle:"icon-label",className:`${Kt}__remove`,icon:"x",iconStyle:"with-border",onClick:()=>{I(!1)},round:!0,tooltip:d("general:cancel")})]}),C&&S&&vr(Wc.Fragment,{children:[wt("div",{className:`${Kt}__thumbnail-wrap`,children:wt(jr,{collectionSlug:e,fileSrc:FI(C.type)?S:null})}),vr("div",{className:`${Kt}__file-adjustments`,children:[wt("input",{className:`${Kt}__filename`,onChange:V,type:"text",value:A||C.name}),wt(vb,{customActions:o,enableAdjustments:Y||J,enablePreviewSizes:Z&&p?.filename&&!F,mimeType:C.type})]}),wt(se,{buttonStyle:"icon-label",className:`${Kt}__remove`,icon:"x",iconStyle:"with-border",onClick:O,round:!0,tooltip:d("general:cancel")})]})]}),(C||p?.filename)&&wt(Ns,{children:wt(Lt,{Header:null,slug:jc,children:wt(hb,{fileName:C?.name||p?.filename,fileSrc:p?.url||S,imageCacheTag:te,initialCrop:a?.crop??void 0,initialFocalPoint:{x:a?.focalPoint?.x||p?.focalX||50,y:a?.focalPoint?.y||p?.focalY||50},onSave:B,showCrop:Y,showFocalPoint:J})})}),p&&Z&&wt(Lt,{className:`${Kt}__previewDrawer`,hoverTitle:!0,slug:AI,title:d("upload:sizesFor",{label:p.filename}),children:wt(yb,{doc:p,imageCacheTag:te,uploadConfig:l})})]})};function vO(t,e){return wt(Wc.Fragment,{children:t},e)}var SO="collection-edit";function PI({resetUploadEdits:t,submitted:e,updateUploadEdits:o,uploadEdits:n}){let{action:r,collectionSlug:s,docPermissions:i,getDocPreferences:l,hasSavePermission:a,initialState:c,isEditing:u,isInitializing:d,Upload:f}=Te(),{onSave:m}=ac(),{getFormState:h}=Ft(),{config:{routes:{admin:p}},getEntityConfig:g}=H(),b=Hc.useRef(null),v=g({collectionSlug:s}),x=yO(),y=lt(),C=CO(),{reportUpdate:S}=fi(),{startRouteTransition:w}=st(),F=C.get("locale"),R=v.slug,[A]=Hc.useState(R),D=TI(I=>{if(S({entitySlug:R,updatedAt:I?.result?.updatedAt||new Date().toISOString()}),typeof m=="function"&&m({...I,operation:"create"}),!u&&y<2){let T=wO({adminRoute:p,path:`/collections/${R}/${I?.doc?.id}${F?`?locale=${F}`:""}`});w(()=>x.push(T))}else t()},[p,R,y,u,F,m,S,t,x,w]),_=TI(async({formState:I,submitted:T})=>{let E=tr(b),$=await l(),{state:j}=await h({collectionSlug:R,docPermissions:i,docPreferences:$,formState:I,operation:"create",schemaPath:A,signal:E.signal,skipValidation:!T});return b.current=null,j},[R,A,l,h,i]);return EI(()=>{let I=b.current;return()=>{er(I)}},[]),xs(Il,{operation:"create",children:xs(Ib,{children:xO(Dn,{action:r,className:`${SO}__form`,disabled:d||!a,initialState:d?void 0:c,isInitializing:d,method:"POST",onChange:[_],onSuccess:D,submitted:e,children:[xs(kc,{BeforeFields:xs(Hc.Fragment,{children:f||xs(Sb,{collectionSlug:v.slug,initialState:c,resetUploadEdits:t,updateUploadEdits:o,uploadConfig:v.upload,uploadEdits:n})}),docPermissions:i,fields:v.fields,schemaPathSegments:[v.slug]}),xs(RO,{}),xs(IO,{})]})})})}function IO(){let{getFields:t}=Oe(),{getFormDataRef:e}=Io();return EI(()=>{e.current=t},[t,e]),null}function RO(){let{docConfig:t}=Te(),{activeIndex:e,setFormTotalErrorCount:o}=Io(),n=Hc.useRef(0),r=Hc.useCallback(s=>{s!==n.current&&(o({errorCount:s,index:e}),n.current=s)},[e,o]);return t?xs(Ys,{fields:t.fields,path:[],setErrorCount:r}):null}import{c as _O}from"react/compiler-runtime";import{jsx as kt,jsxs as Wr}from"react/jsx-runtime";import{isImage as DO}from"payload/shared";import FO from"react";var qm="bulk-upload-drawer--add-more-files",yt="file-selections";function NI(){let t=_O(36),{activeIndex:e,addFiles:o,forms:n,isInitializing:r,removeFile:s,setActiveIndex:i,thumbnailUrls:l,totalErrorCount:a}=Io(),{initialFiles:c,maxFiles:u}=Wo(),{i18n:d,t:f}=k(),{closeModal:m,openModal:h}=ce(),[p,g]=FO.useState(!1),{breakpoints:b}=Co(),v;t[0]!==s?(v=_=>{s(_)},t[0]=s,t[1]=v):v=t[1];let x=v,y;t[2]!==o||t[3]!==m?(y=_=>{o(_),m(qm)},t[2]=o,t[3]=m,t[4]=y):y=t[4];let C=y,S=EO,w=r?c.length:n.length,F=p&&`${yt}__showingFiles`,R;t[5]!==F?(R=[yt,F].filter(Boolean),t[5]=F,t[6]=R):R=t[6];let A=R.join(" "),D;if(t[7]!==e||t[8]!==b.m||t[9]!==m||t[10]!==n||t[11]!==C||t[12]!==x||t[13]!==d||t[14]!==c||t[15]!==r||t[16]!==u||t[17]!==h||t[18]!==i||t[19]!==p||t[20]!==f||t[21]!==A||t[22]!==l||t[23]!==a||t[24]!==w){let _;t[26]===Symbol.for("react.memo_cache_sentinel")?(_=()=>g(TO),t[26]=_):_=t[26];let I;t[27]!==m?(I=()=>m(qm),t[27]=m,t[28]=I):I=t[28];let T;t[29]!==e||t[30]!==x||t[31]!==d||t[32]!==i||t[33]!==f||t[34]!==l?(T=(E,$)=>{let{errorCount:j,formState:N}=E,P=N?.file?.value||{};return Wr("div",{className:[`${yt}__fileRowContainer`,$===e&&`${yt}__fileRowContainer--active`,j&&j>0&&`${yt}__fileRowContainer--error`].filter(Boolean).join(" "),children:[Wr("button",{className:`${yt}__fileRow`,onClick:()=>i($),type:"button",children:[kt(jr,{className:`${yt}__thumbnail`,fileSrc:DO(P.type)?l[$]:null}),kt("div",{className:`${yt}__fileDetails`,children:kt("p",{className:`${yt}__fileName`,title:P.name,children:P.name||f("upload:noFile")})}),P instanceof File?kt("p",{className:`${yt}__fileSize`,children:S(P)}):null,kt("div",{className:`${yt}__remove ${yt}__remove--underlay`,children:kt(ft,{})}),j?kt(so,{className:`${yt}__errorCount`,count:j,i18n:d}):null]}),kt("button",{"aria-label":f("general:remove"),className:`${yt}__remove ${yt}__remove--overlay`,onClick:()=>x($),type:"button",children:kt(ft,{})})]},$)},t[29]=e,t[30]=x,t[31]=d,t[32]=i,t[33]=f,t[34]=l,t[35]=T):T=t[35],D=Wr("div",{className:A,children:[b.m&&p?kt("div",{className:`${yt}__mobileBlur`}):null,Wr("div",{className:`${yt}__header`,children:[Wr("div",{className:`${yt}__headerTopRow`,children:[Wr("div",{className:`${yt}__header__text`,children:[kt(so,{count:a,i18n:d,withMessage:!0}),kt("p",{children:Wr("strong",{title:`${w} ${f(w>1?"upload:filesToUpload":"upload:fileToUpload")}`,children:[w," ",f(w>1?"upload:filesToUpload":"upload:fileToUpload")]})})]}),Wr("div",{className:`${yt}__header__actions`,children:[typeof u!="number"||w<u?kt(bt,{className:`${yt}__header__addFile`,onClick:()=>h(qm),children:f("upload:addFile")}):null,Wr(se,{buttonStyle:"transparent",className:`${yt}__toggler`,onClick:_,children:[kt("span",{className:`${yt}__toggler__label`,children:Wr("strong",{title:`${w} ${f(w>1?"upload:filesToUpload":"upload:fileToUpload")}`,children:[w," ",f(w>1?"upload:filesToUpload":"upload:fileToUpload")]})}),kt(Je,{direction:p?"down":"up"})]}),kt(Lt,{gutter:!1,Header:null,slug:qm,children:kt(Bm,{onCancel:I,onDrop:C})})]})]}),kt("div",{className:`${yt}__header__mobileDocActions`,children:kt(fb,{})})]}),kt("div",{className:`${yt}__animateWrapper`,children:kt(Fr,{height:!b.m||p?"auto":0,children:Wr("div",{className:`${yt}__filesContainer`,children:[r&&n.length===0&&c.length>0?Array.from(c).map(AO):null,n.map(T)]})})})]}),t[7]=e,t[8]=b.m,t[9]=m,t[10]=n,t[11]=C,t[12]=x,t[13]=d,t[14]=c,t[15]=r,t[16]=u,t[17]=h,t[18]=i,t[19]=p,t[20]=f,t[21]=A,t[22]=l,t[23]=a,t[24]=w,t[25]=D}else D=t[25];return D}function AO(t,e){return kt(St,{animationDelay:`calc(${e} * 60ms)`,height:"35px"},e)}function TO(t){return!t}function EO(t){let e=t.size,o=e===0?0:Math.floor(Math.log(e)/Math.log(1024)),n=o>1?1:0;return(e/Math.pow(1024,o)).toFixed(n)+" "+["B","kB","MB","GB","TB"][o]}var LI="bulk-upload--file-manager";function $I(){let t=PO(18),{activeIndex:e,collectionSlug:o,docPermissions:n,documentSlots:r,forms:s,hasPublishPermission:i,hasSavePermission:l,hasSubmitted:a,resetUploadEdits:c,updateUploadEdits:u}=Io(),d=s[e],{getEntityConfig:f}=H(),{i18n:m}=k(),{user:h}=Re(),{openModal:p}=ce(),g;if(t[0]!==d||t[1]!==e||t[2]!==o||t[3]!==n||t[4]!==r||t[5]!==s.length||t[6]!==f||t[7]!==i||t[8]!==l||t[9]!==a||t[10]!==m||t[11]!==p||t[12]!==c||t[13]!==u||t[14]!==h){let b=f({collectionSlug:o}),v;t[16]!==p?(v=()=>p($c),t[16]=p,t[17]=v):v=t[17],g=Rb("div",{className:LI,children:[zc(NI,{}),Rb("div",{className:`${LI}__editView`,children:[zc(Da,{onClose:v,title:NO(b.labels.singular,m)}),d?Rb(Sl,{collectionSlug:o,currentEditor:h,docPermissions:n,hasPublishedDoc:!1,hasPublishPermission:i,hasSavePermission:l,id:null,initialData:LO(d.formState,!0),initialState:d.formState,isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,Upload:r.Upload,versionCount:0,children:[zc(iI,{collectionConfig:b}),zc(PI,{resetUploadEdits:c,submitted:a,updateUploadEdits:u,uploadEdits:d?.uploadEdits})]},`${e}-${s.length}`):null]}),zc(aI,{})]}),t[0]=d,t[1]=e,t[2]=o,t[3]=n,t[4]=r,t[5]=s.length,t[6]=f,t[7]=i,t[8]=l,t[9]=a,t[10]=m,t[11]=p,t[12]=c,t[13]=u,t[14]=h,t[15]=g}else g=t[15];return g}var jO="bulk-upload-drawer-slug";function OO(){let{addFiles:t,forms:e,isInitializing:o}=Io(),{closeModal:n}=ce(),{collectionSlug:r,drawerSlug:s}=Wo(),{getEntityConfig:i}=H(),{t:l}=k(),u=i({collectionSlug:r})?.upload?.mimeTypes,d=on.useCallback(f=>{let m=new DataTransfer;for(let h of f)(u===void 0||u.length===0||kO(h.type,u))&&m.items.add(h);m.files.length===0?me.error(l("error:invalidFileType")):t(m.files)},[t,l,u]);return r?!e.length&&!o?pi(Bm,{acceptMimeTypes:u?.join(", "),onCancel:()=>n(s),onDrop:d}):pi($I,{}):null}function jI(){let t=kI(2),{drawerSlug:e}=Wo(),o;return t[0]!==e?(o=pi(Lt,{gutter:!1,Header:null,slug:e,children:pi(ZS,{children:pi(OO,{})})}),t[0]=e,t[1]=o):o=t[1],o}var OI=on.createContext({collectionSlug:"",currentActivePath:void 0,drawerSlug:"",initialFiles:void 0,maxFiles:void 0,onCancel:()=>null,onSuccess:()=>null,setCollectionSlug:()=>null,setCurrentActivePath:()=>null,setInitialFiles:()=>null,setMaxFiles:()=>null,setOnCancel:()=>null,setOnSuccess:()=>null});function Ib(t){let e=kI(16),{children:o}=t,[n,r]=on.useState(),[s,i]=on.useState(),[l,a]=on.useState(),[c,u]=on.useState(void 0),[d,f]=on.useState(void 0),[m,h]=on.useState(void 0),p=MI(),g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=w=>{r(w)},e[0]=g):g=e[0];let b=g,v;e[1]===Symbol.for("react.memo_cache_sentinel")?(v=(w,F)=>{i(R=>({...R,[w]:F}))},e[1]=v):v=e[1];let x=v,y;e[2]!==l?(y=()=>{typeof l=="function"&&l()},e[2]=l,e[3]=y):y=e[3];let C;e[4]!==m||e[5]!==s?(C=(w,F)=>{if(s&&Object.hasOwn(s,m)){let R=s[m];R(w,F)}},e[4]=m,e[5]=s,e[6]=C):C=e[6];let S;return e[7]!==o||e[8]!==n||e[9]!==m||e[10]!==p||e[11]!==c||e[12]!==d||e[13]!==y||e[14]!==C?(S=pi(OI,{value:{collectionSlug:n,currentActivePath:m,drawerSlug:p,initialFiles:c,maxFiles:d,onCancel:y,onSuccess:C,setCollectionSlug:b,setCurrentActivePath:h,setInitialFiles:u,setMaxFiles:f,setOnCancel:a,setOnSuccess:x},children:$O(on.Fragment,{children:[o,pi(jI,{})]})}),e[7]=o,e[8]=n,e[9]=m,e[10]=p,e[11]=c,e[12]=d,e[13]=y,e[14]=C,e[15]=S):S=e[15],S}var Wo=()=>on.use(OI);function MI(){let t=Wi();return`${jO}-${t||1}`}import{c as GO}from"react/compiler-runtime";import{jsx as gi,jsxs as WO}from"react/jsx-runtime";import"react";import{c as MO}from"react/compiler-runtime";import{jsx as hi,jsxs as Qm}from"react/jsx-runtime";import{formatFilesize as BO}from"payload/shared";import"react";var En="upload-relationship-details";function Km(t){let e=MO(34),{id:o,allowEdit:n,allowRemove:r,alt:s,byteSize:i,className:l,collectionSlug:a,displayPreview:c,filename:u,mimeType:d,onRemove:f,reloadDoc:m,src:h,thumbnailSrc:p,withMeta:g,x:b,y:v}=t,x=g===void 0?!0:g,{config:y}=H(),C;e[0]!==a||e[1]!==y?(C="collections"in y?y.collections.find(O=>O.slug===a):void 0,e[0]=a,e[1]=y,e[2]=C):C=e[2];let S=C,w=h?o:void 0,F;e[3]!==a||e[4]!==w?(F={id:w,collectionSlug:a},e[3]=a,e[4]=w,e[5]=F):F=e[5];let[R,,A]=Qt(F),{openDrawer:D}=A,_;e[6]!==a||e[7]!==m?(_=async O=>{let{doc:B}=O;return m(B.id,a)},e[6]=a,e[7]=m,e[8]=_):_=e[8];let I=_,T;e[9]!==b||e[10]!==v?(T=function(B,G){let X=[];return G&&X.push(BO(G)),b&&v&&X.push(`${b}x${v}`),B&&X.push(B),X.join(" \u2014 ")},e[9]=b,e[10]=v,e[11]=T):T=e[11];let $=x?T(d,i):"",j=c??S.upload?.displayPreview??!0,N;e[12]!==l?(N=[En,l].filter(Boolean),e[12]=l,e[13]=N):N=e[13];let P=N.join(" "),L;e[14]!==s||e[15]!==u||e[16]!==j||e[17]!==p?(L=j&&hi(_3,{alt:s,className:`${En}__thumbnail`,filename:u,fileSrc:p,size:"small"}),e[14]=s,e[15]=u,e[16]=j,e[17]=p,e[18]=L):L=e[18];let V;e[19]!==u||e[20]!==h?(V=h?hi("a",{href:h,target:"_blank",children:u}):u,e[19]=u,e[20]=h,e[21]=V):V=e[21];let M;return e[22]!==R||e[23]!==n||e[24]!==r||e[25]!==$||e[26]!==f||e[27]!==I||e[28]!==D||e[29]!==V||e[30]!==P||e[31]!==L||e[32]!==x?(M=Qm("div",{className:P,children:[Qm("div",{className:`${En}__imageAndDetails`,children:[L,Qm("div",{className:`${En}__details`,children:[hi("p",{className:`${En}__filename`,children:V}),x?hi("p",{className:`${En}__meta`,children:$}):null]})]}),n!==!1||r!==!1?Qm("div",{className:`${En}__actions`,children:[n!==!1?hi(se,{buttonStyle:"icon-label",className:`${En}__edit`,icon:"edit",iconStyle:"none",onClick:D}):null,r!==!1?hi(se,{buttonStyle:"icon-label",className:`${En}__remove`,icon:"x",iconStyle:"none",onClick:()=>f()}):null,hi(R,{onSave:I})]}):null]}),e[22]=R,e[23]=n,e[24]=r,e[25]=$,e[26]=f,e[27]=I,e[28]=D,e[29]=V,e[30]=P,e[31]=L,e[32]=x,e[33]=M):M=e[33],M}import{jsx as VO}from"react/jsx-runtime";import"react";var BI="upload-field-card";function ef({children:t,className:e,size:o="medium"}){return VO("div",{className:[BI,e,`${BI}--size-${o}`].filter(Boolean).join(" "),children:t})}import{isImage as HO}from"payload/shared";var Xc="upload upload--has-many";function VI(t){let e=GO(27),{className:o,displayPreview:n,fileDocs:r,isSortable:s,onRemove:i,onReorder:l,readonly:a,reloadDoc:c,serverURL:u}=t,d;e[0]!==r||e[1]!==l?(d=(v,x)=>{if(v===x)return;let y=[...r],[C]=y.splice(v,1);y.splice(x,0,C),l(y)},e[0]=r,e[1]=l,e[2]=d):d=e[2];let f=d,m;e[3]!==r||e[4]!==i?(m=v=>{let x=[...r||[]];x.splice(v,1),i(x.length===0?[]:x)},e[3]=r,e[4]=i,e[5]=m):m=e[5];let h=m,p;e[6]!==o?(p=[Xc,o].filter(Boolean),e[6]=o,e[7]=p):p=e[7];let g=p.join(" "),b;if(e[8]!==n||e[9]!==r||e[10]!==s||e[11]!==f||e[12]!==a||e[13]!==c||e[14]!==h||e[15]!==u||e[16]!==g){let v;e[18]!==f?(v=y=>{let{moveFromIndex:C,moveToIndex:S}=y;return f(C,S)},e[18]=f,e[19]=v):v=e[19];let x;e[20]!==n||e[21]!==s||e[22]!==a||e[23]!==c||e[24]!==h||e[25]!==u?(x=(y,C)=>{let{relationTo:S,value:w}=y,F=String(w.id),R,A;if(w.url)try{R=new URL(w.url,u).toString()}catch{R=`${u}${w.url}`}if(w.thumbnailURL)try{A=new URL(w.thumbnailURL,u).toString()}catch{A=`${u}${w.thumbnailURL}`}return HO(w.mimeType)&&(A=ha({sizes:w.sizes,thumbnailURL:A,url:R,width:w.width})),gi(Yr,{disabled:!s||a,id:F,children:D=>gi("div",{className:[`${Xc}__dragItem`,D&&s&&`${Xc}--has-drag-handle`].filter(Boolean).join(" "),ref:D.setNodeRef,style:{transform:D.transform,transition:D.transition,zIndex:D.isDragging?1:void 0},children:WO(ef,{size:"small",children:[D&&gi("div",{className:`${Xc}__drag`,...D.attributes,...D.listeners,children:gi(xn,{})}),gi(Km,{allowEdit:!a,allowRemove:!a,alt:w?.alt||w?.filename,byteSize:w.filesize,collectionSlug:S,displayPreview:n,filename:w.filename,id:F,mimeType:w?.mimeType,onRemove:()=>h(C),reloadDoc:c,src:R,thumbnailSrc:A,withMeta:!1,x:w?.width,y:w?.height})]})})},F)},e[20]=n,e[21]=s,e[22]=a,e[23]=c,e[24]=h,e[25]=u,e[26]=x):x=e[26],b=gi("div",{className:g,children:gi(lr,{className:`${Xc}__draggable-rows`,ids:r?.map(zO),onDragEnd:v,children:r.map(x)})}),e[8]=n,e[9]=r,e[10]=s,e[11]=f,e[12]=a,e[13]=c,e[14]=h,e[15]=u,e[16]=g,e[17]=b}else b=e[17];return b}function zO(t){let{value:e}=t;return String(e.id)}import{jsx as GI}from"react/jsx-runtime";import{isImage as XO}from"payload/shared";import"react";var UO="upload upload--has-one";function WI(t){let{className:e,displayPreview:o,fileDoc:n,onRemove:r,readonly:s,reloadDoc:i,serverURL:l}=t,{relationTo:a,value:c}=n,u=String(c?.id),d,f;if(c.url)try{d=new URL(c.url,l).toString()}catch{d=`${l}${c.url}`}if(c.thumbnailURL)try{f=new URL(c.thumbnailURL,l).toString()}catch{f=`${l}${c.thumbnailURL}`}return XO(c.mimeType)&&(f=ha({sizes:c.sizes,thumbnailURL:f,url:d,width:c.width})),GI(ef,{className:[UO,e].filter(Boolean).join(" "),children:GI(Km,{allowEdit:!s,allowRemove:!s,alt:c?.alt||c?.filename,byteSize:c.filesize,collectionSlug:a,displayPreview:o,filename:c.filename,id:u,mimeType:c?.mimeType,onRemove:r,reloadDoc:i,src:d,thumbnailSrc:f,x:c?.width,y:c?.height})})}var rn="upload";function tf(t){let{AfterInput:e,allowCreate:o,api:n,BeforeInput:r,className:s,Description:i,description:l,displayPreview:a,Error:c,filterOptions:u,hasMany:d,isSortable:f,Label:m,label:h,localized:p,maxRows:g,onChange:b,path:v,readOnly:x,relationTo:y,required:C,serverURL:S,showError:w,style:F,value:R}=t,[A,D]=Hr.useState(),[_,I]=Hr.useState(Array.isArray(y)?y[0]:y),{openModal:T}=ce(),{drawerSlug:E,setCollectionSlug:$,setCurrentActivePath:j,setInitialFiles:N,setMaxFiles:P,setOnSuccess:L}=Wo(),{permissions:V}=Re(),{code:M}=Pe(),{i18n:O,t:B}=k(),G=XI(()=>({...u,[_]:{...u?.[_]||{},id:{...u?.[_]?.id||{},not_in:(u?.[_]?.id?.not_in||[]).concat(...Array.isArray(R)||R?[R]:[])}}}),[R,_,u]),[X,,{closeDrawer:Z,openDrawer:oe}]=ai({collectionSlugs:typeof y=="string"?[y]:y,filterOptions:G}),[z,,{closeDrawer:Y,openDrawer:le}]=Qt({collectionSlug:_}),J=Hr.useRef(!1),ue=XI(()=>o?!!(typeof _=="string"&&V?.collections&&V.collections?.[_]?.create):!1,[_,V,o]),te=Hr.useCallback(ie=>{typeof b=="function"&&b(ie)},[b]),K=Hr.useCallback(async(ie,U)=>{if(!ie.length)return;let ne={depth:0,draft:!0,limit:ie.length,locale:M,where:{and:[{id:{in:ie}}]}},de=await fetch(`${S}${n}/${U}`,{body:UI.stringify(ne),credentials:"include",headers:{"Accept-Language":O.language,"Content-Type":"application/x-www-form-urlencoded","X-HTTP-Method-Override":"GET"},method:"POST"});if(de.ok){let Ae=await de.json(),We=ie.map(Le=>Ae.docs.find(Ve=>String(Ve.id)===String(Le)));return We.includes(void 0)&&d&&(We=We.map((Le,Ve)=>Le||{id:ie[Ve],filename:`${B("general:untitled")} - ID: ${ie[Ve]}`,isPlaceholder:!0})),{...Ae,docs:We}}return null},[M,S,n,O.language,B,d]),he=HI(ie=>{if(d){let U=[...Array.isArray(R)?R:[],...ie.map(ne=>ne.id)];te(U),D(ne=>[...ne||[],...ie.map(de=>({relationTo:_,value:de}))])}else{let U=ie[0];te(U.id),D([{relationTo:_,value:U}])}},[R,te,_,d]),fe=Hr.useCallback(ie=>{let U=ie;if(!d&&ie&&ie.length>1){let ne=new DataTransfer;ne.items.add(ie[0]),U=ne.files}U&&N(U),$(y),typeof g=="number"&&P(g),j(v),T(E)},[E,d,T,y,$,N,g,P,v,j]),Ne=Hr.useCallback(async ie=>{let U=[];for(let[de,Ae]of ie)Ae&&U.push(de);let ne=await K(U,_);ne&&D(de=>[...de||[],...ne.docs.map(Ae=>({relationTo:_,value:Ae}))]),te([...Array.isArray(R)?R:[],...U]),Z()},[_,Z,te,K,R]),be=Hr.useCallback(ie=>{ie.doc&&(D(U=>[...U||[],{relationTo:_,value:ie.doc}]),te(ie.doc.id)),Y()},[Y,_,te]),Xe=HI(async({collectionSlug:ie,doc:U})=>{let ne=await K([U.id],ie),de=ne?ne.docs?.[0]:null;D(Ae=>de?d?[...Ae||[],{relationTo:_,value:de}]:[{relationTo:_,value:de}]:Ae),te(d?[...Array.isArray(R)?R:[],U.id]:U.id),Z()},[Z,d,K,te,R,_]),Q=Hr.useCallback(async(ie,U)=>{let{docs:ne}=await K([ie],U);if(ne[0]){let de=[];D(Ae=>{let We=Ae?.findIndex(Le=>(Le.value?.id===ne[0].id||Le.value?.isPlaceholder)&&Le.relationTo===U);if(We>-1){let Le=[...Ae];return Le[We]={relationTo:U,value:ne[0]},de=Le,Le}}),de.length&&d&&te(de.map(Ae=>Ae.value?.id))}},[K,te,d]),ke=Hr.useCallback(ie=>{let U=ie.map(({value:ne})=>ne.id);te(U),D(ie)},[te]),Ce=Hr.useCallback(ie=>{let U=ie?ie.map(({value:ne})=>ne.id):null;te(d?U:U?U[0]:null),D(ie||[])},[te,d]);zI(()=>{async function ie(){if(R){J.current=!0;let U=await K(Array.isArray(R)?R:[R],_);U&&D(U.docs.map(ne=>({relationTo:_,value:ne})))}}J.current||ie()},[K,_,R]),zI(()=>{L(v,he)},[R,v,he,L]);let ae=!R||d&&Array.isArray(R)&&(typeof g!="number"||R.length<g)||!d&&A?.[0]&&typeof A[0].value>"u";return bi("div",{className:[ye,rn,s,w&&"error",x&&"read-only"].filter(Boolean).join(" "),id:`field-${v?.replace(/\./g,"__")}`,style:F,children:[jt(re,{CustomComponent:m,Fallback:jt(ve,{label:h,localized:p,path:v,required:C})}),jt("div",{className:`${rn}__wrap`,children:jt(re,{CustomComponent:c,Fallback:jt(Ge,{path:v,showError:w})})}),r,bi("div",{className:`${rn}__dropzoneAndUpload`,children:[d&&Array.isArray(R)&&R.length>0?jt(Uc,{children:A&&A?.length>0?jt(VI,{displayPreview:a,fileDocs:A,isSortable:f&&!x,onRemove:Ce,onReorder:ke,readonly:x,reloadDoc:Q,serverURL:S}):jt("div",{className:`${rn}__loadingRows`,children:R.map(ie=>jt(St,{height:"40px"},ie))})}):null,!d&&R?jt(Uc,{children:A&&A?.length>0&&A[0].value?jt(WI,{displayPreview:a,fileDoc:A[0],onRemove:Ce,readonly:x,reloadDoc:Q,serverURL:S}):A&&R&&!A?.[0]?.value?bi(Uc,{children:[B("general:untitled")," - ID: ",R]}):jt(St,{height:"62px"})}):null,ae?jt(mi,{disabled:x||!ue,multipleFiles:d,onChange:fe,children:bi("div",{className:`${rn}__dropzoneContent`,children:[bi("div",{className:`${rn}__dropzoneContent__buttons`,children:[ue&&bi(Uc,{children:[jt(se,{buttonStyle:"pill",className:`${rn}__createNewToggler`,disabled:x||!ue,onClick:()=>{x||(d?fe():le())},size:"small",children:B("general:createNew")}),jt("span",{className:`${rn}__dropzoneContent__orText`,children:B("general:or")})]}),jt(se,{buttonStyle:"pill",className:`${rn}__listToggler`,disabled:x,onClick:oe,size:"small",children:B("fields:chooseFromExisting")}),jt(z,{onSave:be}),jt(X,{allowCreate:ue,enableRowSelections:d,onBulkSelect:Ne,onSelect:Xe})]}),ue&&!x&&bi("p",{className:`${rn}__dragAndDropText`,children:[B("general:or")," ",B("upload:dragAndDrop")]})]})}):jt(Uc,{children:!x&&!A&&(!R||typeof g!="number"||Array.isArray(R)&&R.length<g)?jt(St,{height:"40px"}):null})]}),e,jt(re,{CustomComponent:i,Fallback:jt(Be,{description:l,path:v})})]})}function qO(t){let{field:e,field:{admin:{allowCreate:o,className:n,description:r,isSortable:s}={},hasMany:i,label:l,localized:a,maxRows:c,relationTo:u,required:d},path:f,readOnly:m,validate:h}=t,{config:p}=H(),g=e.displayPreview,b=ZO.useCallback((T,E)=>{if(typeof h=="function")return h(T,{...E,required:d})},[h,d]),{customComponents:{AfterInput:v,BeforeInput:x,Description:y,Error:C,Label:S}={},disabled:w,filterOptions:F,path:R,setValue:A,showError:D,value:_}=Fe({potentiallyStalePath:f,validate:b}),I=JO(()=>rt(e),[e]);return YO(tf,{AfterInput:v,allowCreate:o!==!1,api:p.routes.api,BeforeInput:x,className:n,Description:y,description:r,displayPreview:g,Error:C,filterOptions:F,hasMany:i,isSortable:s,label:l,Label:S,localized:a,maxRows:c,onChange:A,path:R,readOnly:m||w,relationTo:u,required:d,serverURL:p.serverURL,showError:D,style:I,value:_})}var Yc=$e(qO);function Aa(t){let e=QO(13),{clientFieldConfig:o,forceRender:n,indexPath:r,parentPath:s,parentSchemaPath:i,path:l,permissions:a,readOnly:c,schemaPath:u}=t,d;e[0]!==l?(d=h=>{let[p]=h;return p&&p?.[l]?.customComponents?.Field},e[0]=l,e[1]=d):d=e[1];let f=Nt(d);if(f!==void 0)return f||null;let m;if(e[2]!==o||e[3]!==n||e[4]!==r||e[5]!==s||e[6]!==i||e[7]!==l||e[8]!==a||e[9]!==c||e[10]!==u){m=Symbol.for("react.early_return_sentinel");e:{let h={forceRender:n,permissions:a,readOnly:c,schemaPath:u},p={...h,indexPath:r,parentPath:s,parentSchemaPath:i};if(o.admin?.hidden){m=At(oc,{...h,path:l});break e}switch(o.type){case"array":{m=At(Zc,{...p,field:o,path:l});break e}case"blocks":{m=At(Ll,{...p,field:o,path:l});break e}case"checkbox":{m=At(dr,{...h,field:o,path:l});break e}case"code":{m=At(kl,{...h,field:o,path:l});break e}case"collapsible":{m=At(Ol,{...p,field:o,path:l});break e}case"date":{m=At(ec,{...h,field:o,path:l});break e}case"email":{m=At(oi,{...h,field:o,path:l});break e}case"group":{m=At(tc,{...p,field:o,path:l});break e}case"join":{m=At(mc,{...h,field:o,path:l});break e}case"json":{m=At(fc,{...h,field:o,path:l});break e}case"number":{m=At(pc,{...h,field:o,path:l});break e}case"point":{m=At(hc,{...h,field:o,path:l});break e}case"radio":{m=At(vc,{...h,field:o,path:l});break e}case"relationship":{m=At(Sc,{...h,field:o,path:l});break e}case"richText":{m=At(Ic,{...h,field:o,path:l});break e}case"row":{m=At(Rc,{...p,field:o});break e}case"select":{m=At(_c,{...h,field:o,path:l});break e}case"tabs":{m=At(Tc,{...p,field:o,path:l});break e}case"text":{m=At(di,{...h,field:o,path:l});break e}case"textarea":{m=At(Ec,{...h,field:o,path:l});break e}case"ui":{let g;e[12]===Symbol.for("react.memo_cache_sentinel")?(g=At(Pc,{}),e[12]=g):g=e[12],m=g;break e}case"upload":{m=At(Yc,{...h,field:o,path:l});break e}}}e[2]=o,e[3]=n,e[4]=r,e[5]=s,e[6]=i,e[7]=l,e[8]=a,e[9]=c,e[10]=u,e[11]=m}else m=e[11];if(m!==Symbol.for("react.early_return_sentinel"))return m}var Db="render-fields",So=t=>{let e=KO(22),{className:o,fields:n,forceRender:r,margins:s,parentIndexPath:i,parentPath:l,parentSchemaPath:a,permissions:c,readOnly:u}=t,d=qo();if(n&&n.length>0){let f=s&&`${Db}--margins-${s}`,m=s===!1&&`${Db}--margins-none`,h;e[0]!==o||e[1]!==f||e[2]!==m?(h=[Db,o,f,m].filter(Boolean),e[0]=o,e[1]=f,e[2]=m,e[3]=h):h=e[3];let p=h.join(" "),g;if(e[4]!==n||e[5]!==r||e[6]!==d||e[7]!==i||e[8]!==l||e[9]!==a||e[10]!==c||e[11]!==u||e[12]!==p){let b;e[14]!==r||e[15]!==d||e[16]!==i||e[17]!==l||e[18]!==a||e[19]!==c||e[20]!==u?(b=(v,x)=>{if(!v||eM(v))return null;let{operation:y,permissions:C,read:S}=oM({field:v,operation:d,parentName:l?.includes(".")?l.split(".")[l.split(".").length-1]:l,permissions:c});if("name"in v&&!S)return null;let w=u||v?.admin?.readOnly;w&&v.admin?.readOnly===!1&&(w=!1),"name"in v&&!y&&(w=!0);let{indexPath:F,path:R,schemaPath:A}=tM({field:v,index:x,parentIndexPath:i,parentPath:l,parentSchemaPath:a});return _b(nh,{value:R,children:_b(Aa,{clientFieldConfig:v,forceRender:r,indexPath:F,parentPath:l,parentSchemaPath:a,path:R,permissions:C,readOnly:w,schemaPath:A})},`${R}-${x}`)},e[14]=r,e[15]=d,e[16]=i,e[17]=l,e[18]=a,e[19]=c,e[20]=u,e[21]=b):b=e[21],g=_b(py,{className:p,forceRender:r,children:n.map(b)}),e[4]=n,e[5]=r,e[6]=d,e[7]=i,e[8]=l,e[9]=a,e[10]=c,e[11]=u,e[12]=p,e[13]=g}else g=e[13];return g}return null};var Jc="array-field",YI=t=>{let e=rM(42),{addRow:o,attributes:n,CustomRowLabel:r,duplicateRow:s,errorCount:i,fields:l,forceRender:a,hasMaxRows:c,isDragging:u,isLoading:d,isSortable:f,labels:m,listeners:h,moveRow:p,parentPath:g,path:b,permissions:v,readOnly:x,removeRow:y,row:C,rowCount:S,rowIndex:w,schemaPath:F,setCollapse:R,setNodeRef:A,transform:D,transition:_}=t,I=a===void 0?!1:a,T=Cd(d,500),{i18n:E}=k(),$=Yt(),j=`${sM(m.singular,E)} ${String(w+1).padStart(2,"0")}`,N=i>0&&$,P=N?`${Jc}__row--has-errors`:`${Jc}__row--no-errors`,L;e[0]!==P?(L=[`${Jc}__row`,P].filter(Boolean),e[0]=P,e[1]=L):L=e[1];let V=L.join(" "),M=`${g.split(".").join("-")}-row-${w}`,O=u?1:void 0,B;if(e[2]!==r||e[3]!==o||e[4]!==n||e[5]!==V||e[6]!==s||e[7]!==i||e[8]!==j||e[9]!==N||e[10]!==l||e[11]!==I||e[12]!==c||e[13]!==E||e[14]!==T||e[15]!==f||e[16]!==h||e[17]!==p||e[18]!==g||e[19]!==b||e[20]!==v||e[21]!==x||e[22]!==y||e[23]!==C.collapsed||e[24]!==C.id||e[25]!==S||e[26]!==w||e[27]!==F||e[28]!==R||e[29]!==A||e[30]!==M||e[31]!==O||e[32]!==D||e[33]!==_){let G;e[35]!==i||e[36]!==N||e[37]!==E?(G=N&&ys(so,{count:i,i18n:E,withMessage:!0}),e[35]=i,e[36]=N,e[37]=E,e[38]=G):G=e[38];let X;e[39]!==C.id||e[40]!==R?(X=Z=>R(C.id,Z),e[39]=C.id,e[40]=R,e[41]=X):X=e[41],B=ys("div",{id:M,ref:A,style:{transform:D,transition:_,zIndex:O},children:ys(Xs,{actions:x?void 0:ys(xd,{addRow:o,duplicateRow:s,hasMaxRows:c,index:w,isSortable:f,moveRow:p,removeRow:y,rowCount:S}),className:V,collapsibleStyle:N?"error":"default",dragHandleProps:f?{id:C.id,attributes:n,listeners:h}:void 0,header:nM("div",{className:`${Jc}__row-header`,children:[T?ys(St,{height:"1rem",width:"8rem"}):ys(cn,{CustomComponent:r,label:j,path:b,rowNumber:w}),G]}),isCollapsed:C.collapsed,onToggle:X,children:T?ys(St,{}):ys(So,{className:`${Jc}__fields`,fields:l,forceRender:I,margins:"small",parentIndexPath:"",parentPath:b,parentSchemaPath:F,permissions:v===!0?v:v?.fields,readOnly:x})})},`${g}-row-${C.id}`),e[2]=r,e[3]=o,e[4]=n,e[5]=V,e[6]=s,e[7]=i,e[8]=j,e[9]=N,e[10]=l,e[11]=I,e[12]=c,e[13]=E,e[14]=T,e[15]=f,e[16]=h,e[17]=p,e[18]=g,e[19]=b,e[20]=v,e[21]=x,e[22]=y,e[23]=C.collapsed,e[24]=C.id,e[25]=S,e[26]=w,e[27]=F,e[28]=R,e[29]=A,e[30]=M,e[31]=O,e[32]=D,e[33]=_,e[34]=B}else B=e[34];return B};var xr="array-field",lM=t=>{let e=iM(52),{field:o,forceRender:n,path:r,permissions:s,readOnly:i,schemaPath:l,validate:a}=t,{name:c,admin:u,fields:d,label:f,localized:m,maxRows:h,minRows:p,required:g}=o,b;e[0]!==u?(b=u===void 0?{}:u,e[0]=u,e[1]=b):b=e[1];let{className:v,description:x,isSortable:y}=b,C=y===void 0?!0:y,S=n===void 0?!1:n,w=l??c,F=p??g?1:0,{setDocFieldPreferences:R}=Te(),{addFieldRow:A,dispatchFields:D,moveFieldRow:_,removeFieldRow:I,setModified:T}=Oe(),E=Yt(),{code:$}=Pe(),{i18n:j,t:N}=k(),{config:P}=H(),{localization:L}=P,V;e:{if(L&&L.fallback){let q=L.defaultLocale;V=$===q;break e}V=!0}let M=V,O;e[2]!==N?(O=q=>"labels"in q&&q?.labels?q.labels:"labels"in q.field&&q.field.labels?{plural:q.field.labels?.plural,singular:q.field.labels?.singular}:"label"in q.field&&q.field.label?{plural:void 0,singular:q.field.label}:{plural:N("general:rows"),singular:N("general:row")},e[2]=N,e[3]=O):O=e[3];let G=O(t),X;e[4]!==M||e[5]!==h||e[6]!==F||e[7]!==g||e[8]!==a?(X=(q,W)=>{if(!M&&q===null)return!0;if(typeof a=="function")return a(q,{...W,maxRows:h,minRows:F,required:g})},e[4]=M,e[5]=h,e[6]=F,e[7]=g,e[8]=a,e[9]=X):X=e[9];let Z=X,oe;e[10]!==Z||e[11]!==r?(oe={hasRows:!0,potentiallyStalePath:r,validate:Z},e[10]=Z,e[11]=r,e[12]=oe):oe=e[12];let{customComponents:z,disabled:Y,errorPaths:le,path:J,rows:ue,showError:te,valid:K,value:he}=Fe(oe),fe;e[13]!==z?(fe=z===void 0?{}:z,e[13]=z,e[14]=fe):fe=e[14];let{AfterInput:Ne,BeforeInput:be,Description:Xe,Error:Q,Label:ke}=fe,Ce;e[15]!==ue?(Ce=ue===void 0?[]:ue,e[15]=ue,e[16]=Ce):Ce=e[16];let ae=Ce,ie;e[17]!==A||e[18]!==J||e[19]!==w?(ie=q=>{A({path:J,rowIndex:q,schemaPath:w}),setTimeout(()=>{Ji(`${J}-row-${q}`)},0)},e[17]=A,e[18]=J,e[19]=w,e[20]=ie):ie=e[20];let U=ie,ne;e[21]!==D||e[22]!==J||e[23]!==T?(ne=q=>{D({type:"DUPLICATE_ROW",path:J,rowIndex:q}),T(!0),setTimeout(()=>{Ji(`${J}-row-${q}`)},0)},e[21]=D,e[22]=J,e[23]=T,e[24]=ne):ne=e[24];let de=ne,Ae;e[25]!==J||e[26]!==I?(Ae=q=>{I({path:J,rowIndex:q})},e[25]=J,e[26]=I,e[27]=Ae):Ae=e[27];let We=Ae,Le;e[28]!==_||e[29]!==J?(Le=(q,W)=>{_({moveFromIndex:q,moveToIndex:W,path:J})},e[28]=_,e[29]=J,e[30]=Le):Le=e[30];let Ve=Le,ht;e[31]!==D||e[32]!==J||e[33]!==ae||e[34]!==R?(ht=q=>{let{collapsedIDs:W,updatedRows:ee}=fd({collapsed:q,rows:ae});R(J,{collapsed:W}),D({type:"SET_ALL_ROWS_COLLAPSED",path:J,updatedRows:ee})},e[31]=D,e[32]=J,e[33]=ae,e[34]=R,e[35]=ht):ht=e[35];let Ye=ht,ut;e[36]!==D||e[37]!==J||e[38]!==ae||e[39]!==R?(ut=(q,W)=>{let{collapsedIDs:ee,updatedRows:pe}=md({collapsed:W,rowID:q,rows:ae});D({type:"SET_ROW_COLLAPSED",path:J,updatedRows:pe}),R(J,{collapsed:ee})},e[36]=D,e[37]=J,e[38]=ae,e[39]=R,e[40]=ut):ut=e[40];let Mt=ut,Ue=h&&ae.length>=h,He=le.length,qe=E&&le.length>0,vt=(i||Y)&&ae.length===0,Et=ae.length&&ae.length<F||g&&ae.length===0,Ct=qe?`${xr}--has-error`:`${xr}--has-no-error`,Qe;e[41]!==v||e[42]!==Ct?(Qe=[ye,xr,v,Ct].filter(Boolean),e[41]=v,e[42]=Ct,e[43]=Qe):Qe=e[43];let Pt;e[44]!==Q||e[45]!==J||e[46]!==te?(Pt=te&&co(re,{CustomComponent:Q,Fallback:co(Ge,{path:J,showError:te})}),e[44]=Q,e[45]=J,e[46]=te,e[47]=Pt):Pt=e[47];let ge;return e[48]!==He||e[49]!==qe||e[50]!==j?(ge=qe&&He>0&&co(so,{count:He,i18n:j,withMessage:!0}),e[48]=He,e[49]=qe,e[50]=j,e[51]=ge):ge=e[51],vi("div",{className:Qe.join(" "),id:`field-${J.replace(/\./g,"__")}`,children:[Pt,vi("header",{className:`${xr}__header`,children:[vi("div",{className:`${xr}__header-wrap`,children:[vi("div",{className:`${xr}__header-content`,children:[co("h3",{className:`${xr}__title`,children:co(re,{CustomComponent:ke,Fallback:co(ve,{as:"span",label:f,localized:m,path:J,required:g})})}),ge]}),ae?.length>0&&vi("ul",{className:`${xr}__header-actions`,children:[co("li",{children:co("button",{className:`${xr}__header-action`,onClick:()=>Ye(!0),type:"button",children:N("fields:collapseAll")})}),co("li",{children:co("button",{className:`${xr}__header-action`,onClick:()=>Ye(!1),type:"button",children:N("fields:showAll")})})]})]}),co(re,{CustomComponent:Xe,Fallback:co(Be,{description:x,path:J})})]}),co(Fl,{fieldValue:he,localized:m,path:J}),be,(ae?.length>0||!K&&(vt||Et))&&vi(lr,{className:`${xr}__draggable-rows`,ids:ae.map(cM),onDragEnd:q=>{let{moveFromIndex:W,moveToIndex:ee}=q;return Ve(W,ee)},children:[ae.map((q,W)=>{let{id:ee,isLoading:pe}=q,De=`${J}.${W}`,Ee=le?.filter(we=>we.startsWith(De+".")).length;return co(Yr,{disabled:i||Y||!C,id:ee,children:we=>co(YI,{...we,addRow:U,CustomRowLabel:ae?.[W]?.customComponents?.RowLabel,duplicateRow:de,errorCount:Ee,fields:d,forceRender:S,hasMaxRows:Ue,isLoading:pe,isSortable:C,labels:G,moveRow:Ve,parentPath:J,path:De,permissions:s,readOnly:i||Y,removeRow:We,row:q,rowCount:ae?.length,rowIndex:W,schemaPath:w,setCollapse:Mt})},ee)}),!K&&vi(aM.Fragment,{children:[vt&&co(Sr,{children:N("validation:fieldHasNo",{label:Fb(G.plural,j)})}),Et&&co(Sr,{type:"error",children:N("validation:requiresAtLeast",{count:F,label:Fb(F>1?G.plural:G.singular,j)||N(F>1?"general:rows":"general:row")})})]})]}),!Ue&&!i&&co(se,{buttonStyle:"icon-label",className:`${xr}__add-row`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:()=>{U(he||0)},children:N("fields:addLabel",{label:Fb(G.singular,j)})}),Ne]})},Zc=$e(lM);function cM(t){return t.id}import{c as uM}from"react/compiler-runtime";import{jsx as Ab,jsxs as ZI}from"react/jsx-runtime";import{confirmPassword as dM}from"payload/shared";import"react";var qc=t=>{let e=uM(12),{disabled:o,path:n}=t,r=n===void 0?"confirm-password":n,{t:s}=k(),i;e[0]!==r?(i={path:r,validate:mM},e[0]=r,e[1]=i):i=e[1];let{disabled:l,setValue:a,showError:c,value:u}=Fe(i),d=c&&"error",f;e[2]!==d?(f=[ye,"confirm-password",d].filter(Boolean),e[2]=d,e[3]=f):f=e[3];let m=f.join(" "),h;return e[4]!==l||e[5]!==o||e[6]!==r||e[7]!==a||e[8]!==s||e[9]!==m||e[10]!==u?(h=ZI("div",{className:m,children:[Ab(ve,{htmlFor:"field-confirm-password",label:s("authentication:confirmPassword"),required:!0}),ZI("div",{className:`${ye}__wrap`,children:[Ab(Ge,{path:r}),Ab("input",{"aria-label":s("authentication:confirmPassword"),autoComplete:"off",disabled:!!(l||o),id:"field-confirm-password",name:"confirm-password",onChange:a,type:"password",value:u||""})]})]}),e[4]=l,e[5]=o,e[6]=r,e[7]=a,e[8]=s,e[9]=m,e[10]=u,e[11]=h):h=e[11],h};function mM(t,e){return dM(t,{name:"confirm-password",type:"text",required:!0,...e})}import{jsx as pM}from"react/jsx-runtime";import{password as hM}from"payload/shared";import{useCallback as gM,useMemo as bM}from"react";import{c as fM}from"react/compiler-runtime";import{jsx as xi,jsxs as Tb}from"react/jsx-runtime";import{getTranslation as JI}from"@payloadcms/translations";import"react";var qI=t=>{let e=fM(28),{AfterInput:o,autoComplete:n,BeforeInput:r,className:s,description:i,Description:l,Error:a,inputRef:c,Label:u,label:d,localized:f,onChange:m,onKeyDown:h,path:p,placeholder:g,readOnly:b,required:v,rtl:x,showError:y,style:C,value:S,width:w}=t,F=n===void 0?"off":n,{i18n:R}=k(),A=y&&"error",D=b&&"read-only",_;e[0]!==s||e[1]!==A||e[2]!==D?(_=[ye,"password",s,A,D].filter(Boolean),e[0]=s,e[1]=A,e[2]=D,e[3]=_):_=e[3];let I=_.join(" "),T;return e[4]!==o||e[5]!==r||e[6]!==l||e[7]!==a||e[8]!==u||e[9]!==F||e[10]!==i||e[11]!==R||e[12]!==c||e[13]!==d||e[14]!==f||e[15]!==m||e[16]!==h||e[17]!==p||e[18]!==g||e[19]!==b||e[20]!==v||e[21]!==x||e[22]!==y||e[23]!==C||e[24]!==I||e[25]!==S||e[26]!==w?(T=Tb("div",{className:I,style:{...C,width:w},children:[xi(re,{CustomComponent:u,Fallback:xi(ve,{label:d,localized:f,path:p,required:v})}),Tb("div",{className:`${ye}__wrap`,children:[xi(re,{CustomComponent:a,Fallback:xi(Ge,{path:p,showError:y})}),Tb("div",{children:[r,xi("input",{"aria-label":JI(d,R),autoComplete:F,"data-rtl":x,disabled:b,id:`field-${p.replace(/\./g,"__")}`,name:p,onChange:m,onKeyDown:h,placeholder:JI(g,R),ref:c,type:"password",value:S||""}),o]}),xi(re,{CustomComponent:l,Fallback:xi(Be,{description:i,path:p})})]})]}),e[4]=o,e[5]=r,e[6]=l,e[7]=a,e[8]=u,e[9]=F,e[10]=i,e[11]=R,e[12]=c,e[13]=d,e[14]=f,e[15]=m,e[16]=h,e[17]=p,e[18]=g,e[19]=b,e[20]=v,e[21]=x,e[22]=y,e[23]=C,e[24]=I,e[25]=S,e[26]=w,e[27]=T):T=e[27],T};var vM=t=>{let{autoComplete:e,field:o,field:{admin:{className:n,disabled:r,placeholder:s,rtl:i}={},label:l,localized:a,required:c}={},inputRef:u,path:d,validate:f}=t,{t:m}=k(),h=Pe(),{config:p}=H(),g=gM((_,I)=>{let T=d?d.split("."):[];return typeof f=="function"?f(_,{...I,required:c}):hM(_,{name:"password",type:"text",blockData:{},data:{},event:"onChange",path:T,preferences:{fields:{}},req:{payload:{config:p},t:m},required:!0,siblingData:{}})},[f,p,m,c,d]),{customComponents:{AfterInput:b,BeforeInput:v,Description:x,Error:y,Label:C}={},disabled:S,setValue:w,showError:F,value:R}=Fe({path:d,validate:g}),A=Zi({fieldLocalized:!1,fieldRTL:i,locale:h,localizationConfig:p.localization||void 0}),D=bM(()=>rt(o),[o]);return pM(qI,{AfterInput:b,autoComplete:e,BeforeInput:v,className:n,Description:x,Error:y,inputRef:u,Label:C,label:l,localized:a,onChange:_=>{w(_.target.value)},path:d,placeholder:s,readOnly:S||r,required:c,rtl:A,showError:F,style:D,value:R||""})},Qc=$e(vM);var QI={array:Zc,blocks:Ll,checkbox:dr,code:kl,collapsible:Ol,confirmPassword:qc,date:ec,email:oi,group:tc,hidden:oc,join:mc,json:fc,number:pc,password:Qc,point:hc,radio:vc,relationship:Sc,richText:Ic,row:Rc,select:_c,tabs:Tc,text:di,textarea:Ec,ui:Pc,upload:Yc},xM={...QI,Description:Be,Error:Ge,Label:ve,RowLabel:cn};import{c as yM}from"react/compiler-runtime";import{setsAreEqual as CM}from"payload/shared";import{useEffect as wM}from"react";var Pn=new Map([]),SM={altleft:"alt",altright:"alt",controlleft:"ctrl",controlright:"ctrl",ctrlleft:"ctrl",ctrlright:"ctrl",escape:"esc",metaleft:"meta",metaright:"meta",osleft:"meta",osright:"meta",shiftleft:"shift",shiftright:"shift"},KI=t=>(SM[t.toLowerCase()]||t).trim().toLowerCase().replace("key",""),IM=t=>{let e=KI(t);e==="meta"&&Pn.forEach((o,n)=>n!=="meta"&&Pn.delete(n)),Pn.set(e,Date.now())},RM=t=>{let e=KI(t);e==="meta"&&Pn.clear(),Pn.delete(e)},yi=(t,e)=>{let o=yM(9),{cmdCtrlKey:n,editDepth:r,keyCodes:s}=t,{modalState:i}=ce(),l;o[0]!==n||o[1]!==r||o[2]!==e||o[3]!==s||o[4]!==i?(l=f=>{let m=f.detail?.key?f.detail:f;if(m.key===void 0)return;Pn.forEach(_M),m.code&&IM(m.code);let h=window.navigator.userAgent.includes("Mac OS X"),p=[...Pn.keys()].filter(DM);if(CM(new Set(p),new Set(s))&&(!n||h&&Pn.has("meta")||!h&&m.ctrlKey)){if((Object.keys(i).filter(b=>i[b]?.isOpen)?.length+1||1)!==r)return;e(m)}},o[0]=n,o[1]=r,o[2]=e,o[3]=s,o[4]=i,o[5]=l):l=o[5];let a=l,c=FM,u,d;o[6]!==a?(u=()=>(document.addEventListener("keydown",a,!1),document.addEventListener("bypassKeyDown",a,!1),document.addEventListener("keyup",c,!1),()=>{document.removeEventListener("keydown",a),document.removeEventListener("bypassKeyDown",a),document.removeEventListener("keyup",c)}),d=[a,c],o[6]=a,o[7]=u,o[8]=d):(u=o[7],d=o[8]),wM(u,d)};function _M(t,e){Date.now()-t>3e3&&Pn.delete(e)}function DM(t){return!["alt","ctrl","meta","shift"].includes(t)}function FM(t){t.code&&RM(t.code)}import{c as AM}from"react/compiler-runtime";import*as t4 from"qs-esm";import{useEffect as e4,useRef as TM,useState as of}from"react";var EM=(t,e)=>{let o=AM(32),n;o[0]!==e?(n=e===void 0?{}:e,o[0]=e,o[1]=n):n=o[1];let r=n,{initialData:s,initialParams:i}=r,l;o[2]!==i?(l=i===void 0?{}:i,o[2]=i,o[3]=l):l=o[3];let a=l,{i18n:c}=k(),u;o[4]!==s?(u=s||{},o[4]=s,o[5]=u):u=o[5];let[d,f]=of(u),[m,h]=of(a),[p,g]=of(!s),[b,v]=of(!1),{code:x}=Pe(),y=TM(!1),C;if(o[6]!==x||o[7]!==m){let T;o[9]!==m?(T=typeof m=="object"?m:{},o[9]=m,o[10]=T):T=o[10],C=t4.stringify({locale:x,...T},{addQueryPrefix:!0}),o[6]=x,o[7]=m,o[8]=C}else C=o[8];let S=C,w;o[11]!==c.language||o[12]!==s||o[13]!==S||o[14]!==t?(w=()=>{if(s&&!y.current){y.current=!0;return}let T=new AbortController;return t?(async()=>{v(!1),g(!0);try{let $=await Ke.get(`${t}${S}`,{headers:{"Accept-Language":c.language},signal:T.signal});$.status>201&&v(!0);let j=await $.json();f(j),g(!1)}catch{T.signal.aborted||(v(!0),g(!1))}})():(v(!1),g(!1)),()=>{try{T.abort()}catch($){let j=$}}},o[11]=c.language,o[12]=s,o[13]=S,o[14]=t,o[15]=w):w=o[15];let F;o[16]!==c.language||o[17]!==s||o[18]!==x||o[19]!==S||o[20]!==t?(F=[t,x,S,c.language,s],o[16]=c.language,o[17]=s,o[18]=x,o[19]=S,o[20]=t,o[21]=F):F=o[21],e4(w,F);let R,A;o[22]!==s?(R=()=>{s&&y.current&&f(s)},A=[s],o[22]=s,o[23]=R,o[24]=A):(R=o[23],A=o[24]),e4(R,A);let D;o[25]!==d||o[26]!==b||o[27]!==p?(D={data:d,isError:b,isLoading:p},o[25]=d,o[26]=b,o[27]=p,o[28]=D):D=o[28];let _;o[29]===Symbol.for("react.memo_cache_sentinel")?(_={setParams:h},o[29]=_):_=o[29];let I;return o[30]!==D?(I=[D,_],o[30]=D,o[31]=I):I=o[31],I};import{c as PM}from"react/compiler-runtime";import{useEffect as NM,useState as LM}from"react";var $M=t=>{let e=PM(5),[o,n]=LM(),r,s;e[0]!==t?(r=()=>{let l;return t&&(l=new ResizeObserver(a=>{a.forEach(c=>{let{contentBoxSize:u,contentRect:d}=c,f=0,m=0;if(u){let h=Array.isArray(u)?u[0]:u;if(h){let{blockSize:p,inlineSize:g}=h;f=g,m=p}}else if(d){let{height:h,width:p}=d;f=p,m=h}n({height:m,width:f})})}),l.observe(t)),()=>{l&&l.unobserve(t)}},s=[t],e[0]=t,e[1]=r,e[2]=s):(r=e[1],s=e[2]),NM(r,s);let i;return e[3]!==o?(i={size:o},e[3]=o,e[4]=i):i=e[4],i};import{flattenTopLevelFields as kM}from"payload/shared";var Eb=t=>{let{admin:{useAsTitle:e},fields:o}=t;return kM(o)?.find(r=>"name"in r&&r.name===e)};import{c as n4}from"react/compiler-runtime";import{jsx as ka}from"react/jsx-runtime";import{useEffect as jM,useRef as OM}from"react";import{jsx as rf}from"react/jsx-runtime";import"react";var o4=({className:t})=>rf("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:rf("path",{className:"fill",d:"M2.5 13.3333L5.83333 16.6667M5.83333 16.6667L9.16667 13.3333M5.83333 16.6667V3.33333M9.16667 7.08333H17.5M9.16667 10.4167H15M11.6667 13.75H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})}),r4=({className:t})=>rf("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:rf("path",{className:"fill",d:"M2.5 6.66668L5.83333 3.33334M5.83333 3.33334L9.16667 6.66668M5.83333 3.33334V16.6667M11.6667 7.08354H17.5M9.16667 10.4169H15M9.16667 13.7502H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})});var Nn="sort-header";function MM(){let t=n4(12),{handleSortChange:e,orderableFieldName:o,query:n}=Rt(),r=Array.isArray(n.sort)?n.sort[0]:n.sort,s=OM(r===`-${o}`?"desc":"asc"),i=r===`-${o}`||r===o,l,a;t[0]!==i||t[1]!==o||t[2]!==r?(l=()=>{i&&(s.current=r===`-${o}`?"desc":"asc")},a=[o,r,i],t[0]=i,t[1]=o,t[2]=r,t[3]=l,t[4]=a):(l=t[3],a=t[4]),jM(l,a);let c;t[5]!==e||t[6]!==i||t[7]!==o?(c=()=>{if(i){e(s.current==="asc"?`-${o}`:o),s.current=s.current==="asc"?"desc":"asc";return}e(s.current==="asc"?o:`-${o}`)},t[5]=e,t[6]=i,t[7]=o,t[8]=c):c=t[8];let u=c,d;return t[9]!==u||t[10]!==i?(d={handleSortPress:u,isActive:i,sort:s},t[9]=u,t[10]=i,t[11]=d):d=t[11],d}var BM=t=>{let e=n4(8),{appearance:o}=t,{handleSortPress:n,isActive:r,sort:s}=MM(),{t:i}=k(),l=o&&`${Nn}--appearance-${o}`,a;e[0]!==l?(a=[Nn,l].filter(Boolean),e[0]=l,e[1]=a):a=e[1];let c=a.join(" "),u;return e[2]!==n||e[3]!==r||e[4]!==s.current||e[5]!==i||e[6]!==c?(u=ka("div",{className:c,children:ka("div",{className:`${Nn}__buttons`,children:s.current==="desc"?ka("button",{"aria-label":i("general:sortByLabelDirection",{direction:i("general:ascending"),label:"Order"}),className:`${Nn}__button ${Nn}__${s.current} ${r?`${Nn}--active`:""}`,onClick:n,type:"button",children:ka(o4,{})}):ka("button",{"aria-label":i("general:sortByLabelDirection",{direction:i("general:descending"),label:"Order"}),className:`${Nn}__button ${Nn}__${s.current} ${r?`${Nn}--active`:""}`,onClick:n,type:"button",children:ka(r4,{})})})}),e[2]=n,e[3]=r,e[4]=s.current,e[5]=i,e[6]=c,e[7]=u):u=e[7],u};import{c as VM}from"react/compiler-runtime";import{jsx as s4}from"react/jsx-runtime";import"react";var i4="sort-row",GM=()=>{let t=VM(2),{orderableFieldName:e,query:o}=Rt(),n=o.sort===e||o.sort===`-${e}`,r=`${i4} ${n?"active":""}`,s;return t[0]!==r?(s=s4("div",{className:r,role:"button",tabIndex:0,children:s4(xn,{className:`${i4}__icon`})}),t[0]=r,t[1]=s):s=t[1],s};import{jsx as zr,jsxs as l4}from"react/jsx-runtime";import{DragOverlay as WM}from"@dnd-kit/core";import{useEffect as HM,useState as Lb}from"react";import{jsx as nf}from"react/jsx-runtime";var Pb=({cellMap:t,columns:e,dragAttributes:o={},dragListeners:n={},rowId:r,...s})=>nf("tr",{...s,children:e.map((i,l)=>{let{accessor:a}=i,c=i.renderedCells[t[r]];return a==="_dragHandle"?nf("td",{className:`cell-${a}`,children:nf("div",{...o,...n,children:c})},l):nf("td",{className:`cell-${a}`,children:c},l)})});import{jsx as Nb}from"react/jsx-runtime";var a4=({children:t,className:e,rowId:o})=>typeof o>"u"?null:Nb("div",{className:e,children:Nb("table",{cellPadding:0,cellSpacing:0,children:Nb("tbody",{children:t})})});var sf="table",zM=({appearance:t="default",collection:e,columns:o,data:n})=>{let{config:r}=H(),{data:s,orderableFieldName:i,query:l}=Rt(),a=s?.docs||n,[c,u]=Lb(a),[d,f]=Lb({}),[m,h]=Lb();HM(()=>{u(a),f(Object.fromEntries(a.map((x,y)=>[String(x.id??x._id),y])))},[a]);let p=o?.filter(x=>x?.active);if(!p||p.filter(x=>!["_dragHandle","_select"].includes(x.accessor)).length===0)return zr("div",{children:"No columns selected"});let g=async({moveFromIndex:x,moveToIndex:y})=>{if(l.sort!==i&&l.sort!==`-${i}`){me.warning('To reorder the rows you must first sort them by the "Order" column'),h(void 0);return}if(x===y){h(void 0);return}let C=c[x].id??c[x]._id,S=y>x?c[y]:c[y-1],w=y>x?c[y+1]:c[y],F=[...c];u(R=>{let A=[...R];return A[x][i]="pending",A.splice(y,0,A.splice(x,1)[0]),A});try{let R=S?{id:S.id??S._id,key:S[i]}:{id:w.id??w._id,key:w[i]},A=S&&l.sort===i||!S&&l.sort===`-${i}`?"greater":"less",D={collectionSlug:e.slug,docsToMove:[C],newKeyWillBe:A,orderableFieldName:i,target:R},_=await fetch(`${r.routes.api}/reorder`,{body:JSON.stringify(D),headers:{"Content-Type":"application/json"},method:"POST"});if(_.status===403)throw new Error("You do not have permission to reorder these rows");if(!_.ok)throw new Error("Failed to reorder. This can happen if you reorder several rows too quickly. Please try again.")}catch(R){let A=R instanceof Error?R.message:String(R);u(F),me.error(A)}finally{h(void 0)}},b=({id:x})=>{h(x)},v=c.map(x=>x.id??x._id);return zr("div",{className:[sf,t&&`${sf}--appearance-${t}`].filter(Boolean).join(" "),children:l4(lr,{ids:v,onDragEnd:g,onDragStart:b,children:[l4("table",{cellPadding:"0",cellSpacing:"0",children:[zr("thead",{children:zr("tr",{children:p.map((x,y)=>zr("th",{id:`heading-${x.accessor}`,children:x.Heading},y))})}),zr("tbody",{children:c.map((x,y)=>zr(Yr,{id:v[y],children:({attributes:C,isDragging:S,listeners:w,setNodeRef:F,transform:R,transition:A})=>zr(Pb,{cellMap:d,className:`row-${y+1}`,columns:p,dragAttributes:C,dragListeners:w,ref:F,rowId:x.id??x._id,style:{opacity:S?0:1,transform:R,transition:A}})},v[y]))})]}),zr(WM,{children:zr(a4,{className:[sf,`${sf}--drag-preview`].join(" "),rowId:m,children:zr(Pb,{cellMap:d,columns:p,rowId:m})})})]})})};import{jsx as c4}from"react/jsx-runtime";import{toWords as XM,transformColumnsToSearchParams as UM}from"payload/shared";import"react";var YM="query-preset-columns-cell",ZM=({cellData:t})=>c4("div",{className:YM,children:t?UM(t).map((e,o)=>{let n=!e.startsWith("-");return n?c4(bt,{pillStyle:n?"always-white":"light",children:XM(e)},o):null}):"No columns selected"});import{jsx as JM}from"react/jsx-runtime";import{toWords as u4}from"payload/shared";import"react";var qM=t=>{if(t.or&&t.or.length>0&&t.or[0].and&&t.or[0].and.length>0){let o=t.or[0]?.and?.[0];if(!o)return"No where query";let n=Object.keys(o)[0];if(!o[n])return"No where query";let r=Object.keys(o[n])[0],s=o[n][r];return`${u4(n)} ${r} ${u4(s)}`}return""},QM=({cellData:t})=>JM("div",{children:t?qM(t):"No where query"});import{jsx as d4,jsxs as m4}from"react/jsx-runtime";import{toWords as f4}from"payload/shared";import{Fragment as KM}from"react";var eB=({cellData:t})=>{let e=["read","update","delete"];return d4("p",{children:e.reduce((o,n,r)=>{let s=t?.[n];return s&&s.constraint&&o.push(m4(KM,{children:[m4("span",{children:[d4("strong",{children:f4(n)}),": ",f4(s.constraint)]}),r!==e.length-1&&", "]},n)),o},[])})};import{c as tB}from"react/compiler-runtime";import{jsx as $b,jsxs as oB}from"react/jsx-runtime";import{toWords as rB,transformColumnsToSearchParams as nB}from"payload/shared";import"react";var sB=t=>{let e=tB(5),{field:o}=t,{label:n,required:r}=o,{path:s,value:i}=Fe(),l;return e[0]!==n||e[1]!==s||e[2]!==r||e[3]!==i?(l=oB("div",{className:"field-type query-preset-columns-field",children:[$b(ve,{as:"h3",label:n,path:s,required:r}),$b("div",{className:"value-wrapper",children:i?nB(i).map(iB):"No columns selected"})]}),e[0]=n,e[1]=s,e[2]=r,e[3]=i,e[4]=l):l=e[4],l};function iB(t,e){let o=!t.startsWith("-");return $b(bt,{pillStyle:o?"always-white":"light-gray",children:rB(t)},e)}import{jsx as Ln,jsxs as af}from"react/jsx-runtime";import{getTranslation as aB}from"@payloadcms/translations";import{toWords as p4}from"payload/shared";import h4 from"react";var lB=(t,e)=>{if(!t)return null;let o=r=>{let s=Object.keys(r)[0];if(!r[s])return"No where query";let i=Object.keys(r[s])[0],l=r[s][i];if(typeof l=="object")try{l=new Date(l).toLocaleDateString()}catch{l="Unknown error has occurred"}return af(bt,{pillStyle:"always-white",children:[Ln("b",{children:p4(s)})," ",i," ",Ln("b",{children:p4(l)})]})};return((r,s)=>r.or&&r.or.length>0?Ln("div",{className:"or-condition",children:r.or.map((i,l)=>Ln(h4.Fragment,{children:i.and&&i.and.length>0?af("div",{className:"and-condition",children:[l===0&&Ln("span",{className:"label",children:`Filter ${s} where `}),l>0&&Ln("span",{className:"label",children:" or "}),i.and.map((a,c)=>af(h4.Fragment,{children:[o(a),c<i.and.length-1&&Ln("span",{className:"label",children:" and "})]},c))]}):o(i)},l))}):o(r))(t,e)},cB=t=>{let{field:e}=t,{label:o,required:n}=e,{path:r,value:s}=Fe(),{collectionSlug:i}=Rt(),{getEntityConfig:l}=H(),a=l({collectionSlug:i}),{i18n:c}=k();return af("div",{className:"field-type query-preset-where-field",children:[Ln(ve,{as:"h3",label:o,path:r,required:n}),Ln("div",{className:"value-wrapper",children:s?lB(s,aB(a.labels.plural,c)):"No where query"})]})};import{c as gB}from"react/compiler-runtime";import{jsx as bB}from"react/jsx-runtime";import vB from"react";import{c as uB}from"react/compiler-runtime";import{useRouter as dB}from"next/navigation.js";import{useEffect as kb,useRef as mB}from"react";function fB(t,...e){t&&t.addEventListener&&t.addEventListener(...e)}function pB(t,...e){t&&t.removeEventListener&&t.removeEventListener(...e)}var hB=(t,e)=>{let o=uB(7),n=t===void 0?!0:t,r;o[0]!==n||o[1]!==e?(r=a=>{if(typeof n!="function"||n())return a.preventDefault(),e&&(a.returnValue=e),e},o[0]=n,o[1]=e,o[2]=r):r=o[2];let s=r,i,l;o[3]!==n||o[4]!==s?(i=()=>{if(n)return fB(window,"beforeunload",s),()=>pB(window,"beforeunload",s)},l=[n,s],o[3]=n,o[4]=s,o[5]=i,o[6]=l):(i=o[5],l=o[6]),kb(i,l)},g4=({hasAccepted:t=!1,message:e="Are you sure want to leave this page?",onAccept:o,onPrevent:n,prevent:r=!0})=>{hB(r,e);let{startRouteTransition:s}=st(),i=dB(),l=mB("");kb(()=>{function a(d,f){let m=new URL(d),h=new URL(f);if(m.hostname===h.hostname&&m.pathname===h.pathname&&m.search===h.search){let p=m.hash,g=h.hash;return p!==g&&m.href.replace(p,"")===h.href.replace(g,"")}return!1}function c(d){for(;d&&d.tagName.toLowerCase()!=="a";)d=d.parentElement;return d}function u(d){try{let f=d.target,m=c(f);if(m){let h=window.location.href,p=m.href,g=a(h,p),b=m.download!=="",v=m.target==="_blank"||d.metaKey||d.ctrlKey;!(p===h||g||b||v)&&r&&(n||!window.confirm(e))&&(l.current=p,d.preventDefault(),d.stopPropagation(),typeof n=="function"&&n())}}catch(f){alert(f)}}return document.addEventListener("click",u,!0),()=>{document.removeEventListener("click",u,!0)}},[n,r,e]),kb(()=>{t&&l.current&&(o&&o(),s(()=>i.push(l.current)))},[t,o,i,s])};var lf="leave-without-saving",Kc=()=>{let t=gB(15),{closeModal:e,openModal:o}=ce(),n=Zt(),{isValid:r}=Oe(),{user:s}=Re(),[i,l]=vB.useState(!1),{t:a}=k(),c=!!((n||!r)&&s),u;t[0]!==o?(u=()=>{o(lf)},t[0]=o,t[1]=u):u=t[1];let d=u,f;t[2]!==e?(f=()=>{e(lf)},t[2]=e,t[3]=f):f=t[3];let m=f,h;t[4]!==m||t[5]!==i||t[6]!==d||t[7]!==c?(h={hasAccepted:i,onAccept:m,onPrevent:d,prevent:c},t[4]=m,t[5]=i,t[6]=d,t[7]=c,t[8]=h):h=t[8],g4(h);let p;t[9]!==e?(p=()=>{e(lf)},t[9]=e,t[10]=p):p=t[10];let g=p,b;t[11]===Symbol.for("react.memo_cache_sentinel")?(b=()=>{l(!0)},t[11]=b):b=t[11];let v=b,x;return t[12]!==g||t[13]!==a?(x=bB(It,{body:a("general:changesNotSaved"),cancelLabel:a("general:stayOnThisPage"),confirmLabel:a("general:leaveAnyway"),heading:a("general:leaveWithoutSaving"),modalSlug:lf,onCancel:g,onConfirm:v}),t[12]=g,t[13]=a,t[14]=x):x=t[14],x};import{c as xB}from"react/compiler-runtime";import{jsx as eu,jsxs as jb}from"react/jsx-runtime";import{useEffect as yB}from"react";var ja="document-take-over",cf="document-take-over",Ob=t=>{let e=xB(17),{handleBackToDashboard:o,isActive:n,onReadOnly:r}=t,{closeModal:s,openModal:i}=ce(),{t:l}=k(),{startRouteTransition:a}=st(),c,u;e[0]!==s||e[1]!==n||e[2]!==i?(c=()=>{n?i(ja):s(ja)},u=[n,i,s],e[0]=s,e[1]=n,e[2]=i,e[3]=c,e[4]=u):(c=e[3],u=e[4]),yB(c,u);let d;if(e[5]!==s||e[6]!==o||e[7]!==r||e[8]!==a||e[9]!==l){let f;e[11]!==o||e[12]!==a?(f=()=>{a(()=>o())},e[11]=o,e[12]=a,e[13]=f):f=e[13];let m;e[14]!==s||e[15]!==r?(m=()=>{r(),s(ja)},e[14]=s,e[15]=r,e[16]=m):m=e[16],d=eu(Uo,{className:cf,slug:ja,children:jb("div",{className:`${cf}__wrapper`,children:[jb("div",{className:`${cf}__content`,children:[eu("h1",{children:l("general:editingTakenOver")}),eu("p",{children:l("general:anotherUserTakenOver")})]}),jb("div",{className:`${cf}__controls`,children:[eu(se,{buttonStyle:"primary",id:`${ja}-back-to-dashboard`,onClick:f,size:"large",children:l("general:backToDashboard")}),eu(se,{buttonStyle:"secondary",id:`${ja}-view-read-only`,onClick:m,size:"large",children:l("general:viewReadOnly")})]})]})}),e[5]=s,e[6]=o,e[7]=r,e[8]=a,e[9]=l,e[10]=d}else d=e[10];return d};import{c as CB}from"react/compiler-runtime";import{jsx as Ci,jsxs as tu}from"react/jsx-runtime";import{useEffect as wB}from"react";var uf=t=>t&&typeof t=="object";var Cs="document-locked",df="document-locked",SB=t=>t?new Intl.DateTimeFormat("en-US",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}).format(t):"",Mb=t=>{let e=CB(30),{handleGoBack:o,isActive:n,onReadOnly:r,onTakeOver:s,updatedAt:i,user:l}=t,{closeModal:a,openModal:c}=ce(),{t:u}=k(),{startRouteTransition:d}=st(),f,m;e[0]!==a||e[1]!==n||e[2]!==c?(f=()=>{n?c(Cs):a(Cs)},m=[n,c,a],e[0]=a,e[1]=n,e[2]=c,e[3]=f,e[4]=m):(f=e[3],m=e[4]),wB(f,m);let h;e[5]!==o||e[6]!==d?(h=()=>{d(()=>o())},e[5]=o,e[6]=d,e[7]=h):h=e[7];let p;if(e[8]!==a||e[9]!==o||e[10]!==r||e[11]!==s||e[12]!==d||e[13]!==u||e[14]!==h||e[15]!==i||e[16]!==l){let g;e[18]!==u||e[19]!==l?(g=uf(l)?l.email??l.id:`${u("general:user")}: ${l}`,e[18]=u,e[19]=l,e[20]=g):g=e[20];let b;e[21]!==o||e[22]!==d?(b=()=>{d(()=>o())},e[21]=o,e[22]=d,e[23]=b):b=e[23];let v;e[24]!==a||e[25]!==r?(v=()=>{r(),a(Cs)},e[24]=a,e[25]=r,e[26]=v):v=e[26];let x;e[27]!==a||e[28]!==s?(x=()=>{s(),a(Cs)},e[27]=a,e[28]=s,e[29]=x):x=e[29],p=Ci(Uo,{className:df,onClose:h,slug:Cs,children:tu("div",{className:`${df}__wrapper`,children:[tu("div",{className:`${df}__content`,children:[Ci("h1",{children:u("general:documentLocked")}),tu("p",{children:[Ci("strong",{children:g})," ",u("general:currentlyEditing")]}),tu("p",{children:[u("general:editedSince")," ",Ci("strong",{children:SB(i)})]})]}),tu("div",{className:`${df}__controls`,children:[Ci(se,{buttonStyle:"secondary",id:`${Cs}-go-back`,onClick:b,size:"large",children:u("general:goBack")}),Ci(se,{buttonStyle:"secondary",id:`${Cs}-view-read-only`,onClick:v,size:"large",children:u("general:viewReadOnly")}),Ci(se,{buttonStyle:"primary",id:`${Cs}-take-over`,onClick:x,size:"large",children:u("general:takeOver")})]})]})}),e[8]=a,e[9]=o,e[10]=r,e[11]=s,e[12]=d,e[13]=u,e[14]=h,e[15]=i,e[16]=l,e[17]=p}else p=e[17];return p};import{jsx as mf}from"react/jsx-runtime";import"react";var b4=({elements:t,translationString:e})=>{let o=/(<[^>]+>.*?<\/[^>]+>)/g,n=e.split(o);return mf("span",{children:n.map((r,s)=>{if(t&&r.startsWith("<")&&r.endsWith(">")){let i=r[1],l=t[i];if(l){let a=new RegExp(`<${i}>(.*?)</${i}>`,"g"),c=r.replace(a,(u,d)=>d);return mf(l,{children:mf(b4,{translationString:c})},s)}}return r})})},wi=({elements:t,i18nKey:e,t:o,variables:n})=>{let r=o(e,n||{});return t?mf(b4,{elements:t,translationString:r}):r};import{c as IB}from"react/compiler-runtime";import{jsx as RB}from"react/jsx-runtime";import{getTranslation as _B}from"@payloadcms/translations";import NFe from"react";function Bb(t){let e=IB(3),{i18n:o}=k(),{description:n}=t;if(n){let r;return e[0]!==n||e[1]!==o?(r=RB("div",{className:"custom-view-description",children:_B(n,o)}),e[0]=n,e[1]=o,e[2]=r):r=e[2],r}return null}import{jsx as Ho,jsxs as bf}from"react/jsx-runtime";import{formatAdminURL as d7}from"payload/shared";import{useEffect as m7,useRef as f7,useState as p7}from"react";import{c as EB}from"react/compiler-runtime";import{jsx as A4}from"react/jsx-runtime";import{usePathname as PB}from"next/navigation.js";import{formatAdminURL as NB}from"payload/shared";import"react";import{jsx as Vb,jsxs as DB}from"react/jsx-runtime";import"react";var ou="graphic-account",v4=t=>DB("svg",{className:[ou,t?.active&&`${ou}--active`].filter(Boolean).join(" "),height:"25",viewBox:"0 0 25 25",width:"25",xmlns:"http://www.w3.org/2000/svg",children:[Vb("circle",{className:`${ou}__bg`,cx:"12.5",cy:"12.5",r:"11.5"}),Vb("circle",{className:`${ou}__head`,cx:"12.5",cy:"10.73",r:"3.98"}),Vb("path",{className:`${ou}__body`,d:"M12.5,24a11.44,11.44,0,0,0,7.66-2.94c-.5-2.71-3.73-4.8-7.66-4.8s-7.16,2.09-7.66,4.8A11.44,11.44,0,0,0,12.5,24Z"})]});var D4=Ds(_4(),1);import{c as AB}from"react/compiler-runtime";import{jsx as TB}from"react/jsx-runtime";import"react";var F4=()=>{let t=AB(2),{user:e}=Re(),o=(0,D4.default)(e.email.trim().toLowerCase()),r=`?${new URLSearchParams({default:"mp",r:"g",s:"50"}).toString()}`,s=`https://www.gravatar.com/avatar/${o}?${r}`,i;return t[0]!==s?(i=TB("img",{alt:"yas",className:"gravatar-account",height:25,src:s,style:{borderRadius:"50%"},width:25}),t[0]=s,t[1]=i):i=t[1],i};var Hb=()=>{let t=EB(3),{config:e}=H(),{admin:o,routes:n}=e,{avatar:r,routes:s}=o,{account:i}=s,{admin:l}=n,{user:a}=Re(),u=PB()===NB({adminRoute:l,path:i});if(!a?.email||r==="default"){let d;return t[0]!==u?(d=A4(v4,{active:u}),t[0]=u,t[1]=d):d=t[1],d}if(r==="gravatar"){let d;return t[2]===Symbol.for("react.memo_cache_sentinel")?(d=A4(F4,{}),t[2]=d):d=t[2],d}};import{c as LB}from"react/compiler-runtime";import{jsx as $B}from"react/jsx-runtime";import{createContext as kB,use as jB,useState as OB}from"react";var T4=kB({Actions:{},setViewActions:()=>{}}),zb=()=>jB(T4),MB=t=>{let e=LB(4),{Actions:o,children:n}=t,[r,s]=OB(o),i;return e[0]!==o||e[1]!==n||e[2]!==r?(i=$B(T4,{value:{Actions:{...r,...o},setViewActions:s},children:n}),e[0]=o,e[1]=n,e[2]=r,e[3]=i):i=e[3],i};import{c as BB}from"react/compiler-runtime";import{jsx as ff,jsxs as N4}from"react/jsx-runtime";import"react";import{jsx as E4}from"react/jsx-runtime";import"react";var Xb=()=>E4("svg",{className:"icon icon--close-menu",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:E4("path",{className:"stroke",d:"M14 6L6 14M6 6L14 14",strokeLinecap:"square"})});import{jsx as P4}from"react/jsx-runtime";import"react";var Ub=()=>P4("svg",{className:"icon icon--menu",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:P4("path",{className:"stroke",d:"M4.66667 10H15.3333M4.66667 6H15.3333M4.66667 14H15.3333",strokeLinecap:"square"})});var Yb="hamburger",Zb=t=>{let e=BB(4),{t:o}=k(),{closeIcon:n,isActive:r}=t,s=n===void 0?"x":n,i=r===void 0?!1:r,l;return e[0]!==s||e[1]!==i||e[2]!==o?(l=N4("div",{className:Yb,children:[!i&&ff("div",{"aria-label":o("general:open"),className:`${Yb}__open-icon`,title:o("general:open"),children:ff(Ub,{})}),i&&N4("div",{"aria-label":o(s==="collapse"?"general:collapse":"general:close"),className:`${Yb}__close-icon`,title:o(s==="collapse"?"general:collapse":"general:close"),children:[s==="x"&&ff(Xb,{}),s==="collapse"&&ff(Je,{direction:"left"})]})]}),e[0]=s,e[1]=i,e[2]=o,e[3]=l):l=e[3],l};import{c as WB}from"react/compiler-runtime";import{jsx as Si,jsxs as HB}from"react/jsx-runtime";import{getTranslation as zB}from"@payloadcms/translations";import{useRouter as XB}from"next/navigation.js";import*as hf from"qs-esm";import{Fragment as UB}from"react";import{c as VB}from"react/compiler-runtime";import{jsx as L4,jsxs as Jb}from"react/jsx-runtime";import{getTranslation as GB}from"@payloadcms/translations";import"react";var ru="localizer-button",pf=t=>{let e=VB(12),{ariaLabel:o,className:n}=t,r=Pe(),{i18n:s,t:i}=k(),l;e[0]!==o||e[1]!==i?(l=o||i("general:locale"),e[0]=o,e[1]=i,e[2]=l):l=e[2];let a;e[3]!==n?(a=[ru,n].filter(Boolean),e[3]=n,e[4]=a):a=e[4];let c=a.join(" "),u=r?r.code:void 0,d=`${i("general:locale")}:`,f;return e[5]!==s||e[6]!==r.label||e[7]!==l||e[8]!==c||e[9]!==u||e[10]!==d?(f=Jb("div",{"aria-label":l,className:c,"data-locale":u,children:[Jb("div",{className:`${ru}__label`,children:[d,"\xA0"]}),Jb("div",{className:`${ru}__current`,children:[L4("span",{className:`${ru}__current-label`,children:`${GB(r.label,s)}`}),L4(Je,{className:`${ru}__chevron`,size:"small"})]})]}),e[5]=s,e[6]=r.label,e[7]=l,e[8]=c,e[9]=u,e[10]=d,e[11]=f):f=e[11],f};var qb="localizer",$4=t=>{let e=WB(17),{className:o}=t,{config:n}=H(),{localization:r}=n,s=XB(),{startRouteTransition:i}=st(),{setLocaleIsLoading:l}=ud(),{i18n:a}=k(),c=Pe();if(r){let{locales:u}=r,d;e[0]!==o?(d=[qb,o].filter(Boolean),e[0]=o,e[1]=d):d=e[1];let f=d.join(" "),m;if(e[2]!==a||e[3]!==c||e[4]!==u||e[5]!==s||e[6]!==l||e[7]!==i||e[8]!==f){let h;e[10]!==a||e[11]!==c||e[12]!==u||e[13]!==s||e[14]!==l||e[15]!==i?(h=p=>{let{close:g}=p;return Si(Me.ButtonGroup,{children:u.map(b=>{let v=zB(b.label,a);return Si(Me.Button,{active:c.code===b.code,disabled:c.code===b.code,onClick:()=>{l(!0),g();let x=new URLSearchParams(window.location.search),y=hf.stringify({...hf.parse(x.toString(),{depth:10,ignoreQueryPrefix:!0}),locale:b.code},{addQueryPrefix:!0});i(()=>{s.push(y)})},children:v!==b.code?HB(UB,{children:[v,"\xA0",Si("span",{className:`${qb}__locale-code`,"data-locale":b.code,children:`(${b.code})`})]}):Si("span",{className:`${qb}__locale-code`,"data-locale":b.code,children:v})},b.code)})})},e[10]=a,e[11]=c,e[12]=u,e[13]=s,e[14]=l,e[15]=i,e[16]=h):h=e[16],m=Si("div",{className:f,children:Si(po,{button:Si(pf,{}),horizontalAlign:"right",render:h,showScrollbar:!0,size:"large"})}),e[2]=a,e[3]=c,e[4]=u,e[5]=s,e[6]=l,e[7]=i,e[8]=f,e[9]=m}else m=e[9];return m}return null};import{jsx as YB}from"react/jsx-runtime";import{usePathname as ZB}from"next/navigation.js";import su,{useEffect as nu,useRef as JB}from"react";var k4=su.createContext({hydrated:!1,navOpen:!0,navRef:null,setNavOpen:()=>{},shouldAnimate:!1}),Ii=()=>su.use(k4),qB=async t=>{let o=(await t("nav"))?.open;return typeof o=="boolean"?o:!0},j4=({children:t,initialIsOpen:e})=>{let{breakpoints:{l:o,m:n,s:r}}=Co(),s=ZB(),{getPreference:i}=Fo(),l=JB(null),[a,c]=su.useState(e),[u,d]=su.useState(!1),[f,m]=su.useState(!1);return nu(()=>{o===!1&&(async()=>{let p=await qB(i);c(p)})()},[o,i,c]),nu(()=>{r===!0&&c(!1)},[s]),nu(()=>{l.current&&(a&&n?l.current.style.overscrollBehavior="contain":l.current.style.overscrollBehavior="auto")},[a,n]),nu(()=>{(o===!0||n===!0||r===!0)&&c(!1),m(!0),setTimeout(()=>{d(!0)},100)},[o,n,r]),nu(()=>()=>{l.current&&(l.current.style.overscrollBehavior="auto")},[]),YB(k4,{value:{hydrated:f,navOpen:a,navRef:l,setNavOpen:c,shouldAnimate:u},children:t})};import{c as QB}from"react/compiler-runtime";import{jsx as KB}from"react/jsx-runtime";import"react";var O4="nav-toggler",Qb=t=>{let e=QB(15),{id:o,children:n,className:r,tabIndex:s}=t,i=s===void 0?0:s,{t:l}=k(),{setPreference:a}=Fo(),{navOpen:c,setNavOpen:u}=Ii(),{breakpoints:d}=Co(),{l:f}=d,m=`${l(c?"general:close":"general:open")} ${l("general:menu")}`,h=c&&`${O4}--is-open`,p;e[0]!==r||e[1]!==h?(p=[O4,h,r].filter(Boolean),e[0]=r,e[1]=h,e[2]=p):p=e[2];let g=p.join(" "),b;e[3]!==f||e[4]!==c||e[5]!==u||e[6]!==a?(b=async()=>{u(!c),f||await a("nav",{open:!c},!0)},e[3]=f,e[4]=c,e[5]=u,e[6]=a,e[7]=b):b=e[7];let v;return e[8]!==n||e[9]!==o||e[10]!==m||e[11]!==g||e[12]!==b||e[13]!==i?(v=KB("button",{"aria-label":m,className:g,id:o,onClick:b,tabIndex:i,type:"button",children:n}),e[8]=n,e[9]=o,e[10]=m,e[11]=g,e[12]=b,e[13]=i,e[14]=v):v=e[14],v};import{c as c7}from"react/compiler-runtime";import{jsx as Ro,jsxs as V4}from"react/jsx-runtime";import{getTranslation as u7}from"@payloadcms/translations";import{Fragment as G4}from"react";import{jsx as M4,jsxs as e7}from"react/jsx-runtime";import"react";var gf=({fill:t})=>{let e=t||"var(--theme-elevation-1000)";return e7("svg",{className:"graphic-icon",height:"100%",viewBox:"0 0 25 25",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[M4("path",{d:"M11.8673 21.2336L4.40922 16.9845C4.31871 16.9309 4.25837 16.8355 4.25837 16.7282V10.1609C4.25837 10.0477 4.38508 9.97616 4.48162 10.0298L13.1404 14.9642C13.2611 15.0358 13.412 14.9464 13.412 14.8093V11.6091C13.412 11.4839 13.3456 11.3647 13.2309 11.2992L2.81624 5.36353C2.72573 5.30989 2.60505 5.30989 2.51454 5.36353L1.15085 6.14422C1.06034 6.19786 1 6.29321 1 6.40048V18.5995C1 18.7068 1.06034 18.8021 1.15085 18.8558L11.8491 24.9583C11.9397 25.0119 12.0603 25.0119 12.1509 24.9583L21.1355 19.8331C21.2562 19.7616 21.2562 19.5948 21.1355 19.5232L18.3357 17.9261C18.2211 17.8605 18.0883 17.8605 17.9737 17.9261L12.175 21.2336C12.0845 21.2872 11.9638 21.2872 11.8733 21.2336H11.8673Z",fill:e}),M4("path",{d:"M22.8491 6.13827L12.1508 0.0417218C12.0603 -0.0119135 11.9397 -0.0119135 11.8491 0.0417218L6.19528 3.2658C6.0746 3.33731 6.0746 3.50418 6.19528 3.57569L8.97092 5.16091C9.08557 5.22647 9.21832 5.22647 9.33296 5.16091L11.8672 3.71872C11.9578 3.66508 12.0784 3.66508 12.1689 3.71872L19.627 7.96782C19.7175 8.02146 19.7778 8.11681 19.7778 8.22408V14.8212C19.7778 14.9464 19.8442 15.0656 19.9589 15.1311L22.7345 16.7104C22.8552 16.7819 23.006 16.6925 23.006 16.5554V6.40048C23.006 6.29321 22.9457 6.19786 22.8552 6.14423L22.8491 6.13827Z",fill:e})]})};import{c as t7}from"react/compiler-runtime";import{jsx as o7}from"react/jsx-runtime";import{createContext as r7,use as n7,useState as s7}from"react";var $n=()=>n7(B4),B4=r7({}),Kb=t=>{let e=t7(4),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];let[r,s]=s7(n),i;return e[1]!==o||e[2]!==r?(i=o7(B4,{value:{setStepNav:s,stepNav:r},children:o}),e[1]=o,e[2]=r,e[3]=i):i=e[3],i};import{c as i7}from"react/compiler-runtime";import{useEffect as a7}from"react";var l7=t=>{let e=i7(4),{nav:o}=t,{setStepNav:n}=$n(),r,s;return e[0]!==o||e[1]!==n?(r=()=>{n(o)},s=[n,o],e[0]=o,e[1]=n,e[2]=r,e[3]=s):(r=e[2],s=e[3]),a7(r,s),null};var iu="step-nav",W4=t=>{let e=c7(7),{className:o,CustomIcon:n}=t,{i18n:r}=k(),{stepNav:s}=$n(),{config:i}=H(),{routes:l}=i,{admin:a}=l,{t:c}=k(),u;return e[0]!==n||e[1]!==a||e[2]!==o||e[3]!==r||e[4]!==s||e[5]!==c?(u=Ro(G4,{children:s.length>0?V4("nav",{className:[iu,o].filter(Boolean).join(" "),children:[Ro(ro,{className:`${iu}__home`,href:a,prefetch:!1,tabIndex:0,children:Ro("span",{title:c("general:dashboard"),children:Ro(re,{CustomComponent:n,Fallback:Ro(gf,{})})})}),Ro("span",{children:"/"}),s.map((d,f)=>{let m=u7(d.label,r);return s.length===f+1?Ro("span",{className:`${iu}__last`,children:m},f):V4(G4,{children:[d.url?Ro(ro,{href:d.url,prefetch:!1,children:Ro("span",{children:m},f)}):Ro("span",{children:m},f),Ro("span",{children:"/"})]},f)})]}):Ro("div",{className:[iu,o].filter(Boolean).join(" "),children:Ro("div",{className:`${iu}__home`,children:Ro("span",{title:c("general:dashboard"),children:Ro(re,{CustomComponent:n,Fallback:Ro(gf,{})})})})})}),e[0]=n,e[1]=a,e[2]=o,e[3]=r,e[4]=s,e[5]=c,e[6]=u):u=e[6],u};var _o="app-header";function h7({CustomAvatar:t,CustomIcon:e}){let{t:o}=k(),{Actions:n}=zb(),{config:{admin:{routes:{account:r}},localization:s,routes:{admin:i}}}=H(),{navOpen:l}=Ii(),a=f7(null),[c,u]=p7(!1);m7(()=>{let f=()=>{let m=a.current;if(m){let h=m.scrollWidth>m.clientWidth;u(h)}};return f(),window.addEventListener("resize",f),()=>{window.removeEventListener("resize",f)}},[n]);let d=n?Object.values(n):[];return bf("header",{className:[_o,l&&`${_o}--nav-open`].filter(Boolean).join(" "),children:[Ho("div",{className:`${_o}__bg`}),Ho("div",{className:`${_o}__content`,children:bf("div",{className:`${_o}__wrapper`,children:[Ho(Qb,{className:`${_o}__mobile-nav-toggler`,tabIndex:-1,children:Ho(Zb,{})}),bf("div",{className:`${_o}__controls-wrapper`,children:[Ho("div",{className:`${_o}__step-nav-wrapper`,children:Ho(W4,{className:`${_o}__step-nav`,CustomIcon:e})}),bf("div",{className:`${_o}__actions-wrapper`,children:[Ho("div",{className:`${_o}__actions`,ref:a,children:d.map((f,m)=>Ho("div",{className:c&&m===d.length-1?`${_o}__last-action`:"",children:f},m))}),c&&Ho("div",{className:`${_o}__gradient-placeholder`})]}),s&&Ho(pf,{ariaLabel:"invisible",className:`${_o}__localizer-spacing`}),Ho(ro,{"aria-label":o("authentication:account"),className:`${_o}__account`,href:d7({adminRoute:i,path:r}),prefetch:!1,tabIndex:0,children:Ho(re,{CustomComponent:t,Fallback:Ho(Hb,{})})})]})]})}),Ho($4,{className:`${_o}__localizer`})]})}import{jsx as e1,jsxs as g7}from"react/jsx-runtime";import"react";var au="card",b7=t=>{let{id:e,actions:o,buttonAriaLabel:n,href:r,onClick:s,title:i,titleAs:l}=t,a=[au,e,(s||r)&&`${au}--has-onclick`].filter(Boolean).join(" ");return g7("div",{className:a,id:e,children:[e1(l??"div",{className:`${au}__title`,children:i}),o&&e1("div",{className:`${au}__actions`,children:o}),(s||r)&&e1(se,{"aria-label":n,buttonStyle:"none",className:`${au}__click`,el:"link",onClick:s,to:r})]})};import{c as v7}from"react/compiler-runtime";import{jsx as ws,jsxs as vf}from"react/jsx-runtime";import{getTranslation as x7}from"@payloadcms/translations";import{useRouter as y7}from"next/navigation.js";import Oa from"react";var xf="copy-locale-data",yf="copy-locale",t1=()=>{let t=v7(38),{config:e}=H(),{localization:o,routes:n,serverURL:r}=e,{admin:s}=n,{code:i}=Pe(),{id:l,collectionSlug:a,globalSlug:c}=Te(),{i18n:u,t:d}=k(),f=Zt(),{toggleModal:m}=ce(),{copyDataFromLocale:h}=Ft(),p=y7(),{startRouteTransition:g}=st(),b;t[0]!==o?(b=o&&o.locales.map(C7)||[],t[0]=o,t[1]=b):b=t[1];let v=b,x;t[2]!==i?(x=G=>G.value!==i,t[2]=i,t[3]=x):x=t[3];let y=v.filter(x),C;t[4]!==u||t[5]!==o?(C=G=>{let X=o&&o.locales.find(Z=>Z.code===G);return X&&X.label?x7(X.label,u):G},t[4]=u,t[5]=o,t[6]=C):C=t[6];let S=C,[w,F]=Oa.useState(!1),[R,A]=Oa.useState(null),[D,_]=Oa.useState(i),[I,T]=Oa.useState(!1),E,$;t[7]!==i||t[8]!==D?(E=()=>{D!==i&&_(i)},$=[i,D],t[7]=i,t[8]=D,t[9]=E,t[10]=$):(E=t[9],$=t[10]),Oa.useEffect(E,$);let j;t[11]!==s||t[12]!==a||t[13]!==h||t[14]!==c||t[15]!==l||t[16]!==I||t[17]!==p||t[18]!==r||t[19]!==g||t[20]!==m?(j=async G=>{let{from:X,to:Z}=G;F(!0);try{await h({collectionSlug:a,docID:l,fromLocale:X,globalSlug:c,overrideData:I,toLocale:Z}),F(!1),g(()=>p.push(`${r}${s}/${a?`collections/${a}/${l}`:`globals/${c}`}?locale=${Z}`)),m(yf)}catch(oe){let z=oe;me.error(z.message)}},t[11]=s,t[12]=a,t[13]=h,t[14]=c,t[15]=l,t[16]=I,t[17]=p,t[18]=r,t[19]=g,t[20]=m,t[21]=j):j=t[21];let N=j;if(!l&&!c)return null;let P;t[22]!==f||t[23]!==d||t[24]!==m?(P=()=>{f?me.info(d("general:unsavedChanges")):m(yf)},t[22]=f,t[23]=d,t[24]=m,t[25]=P):P=t[25];let L;t[26]!==m?(L=()=>{m(yf)},t[26]=m,t[27]=L):L=t[27];let V;t[28]!==N||t[29]!==w||t[30]!==D||t[31]!==d||t[32]!==R?(V=async()=>{if(D===R){me.error(d("localization:cannotCopySameLocale"));return}w||await N({from:D,to:R})},t[28]=N,t[29]=w,t[30]=D,t[31]=d,t[32]=R,t[33]=V):V=t[33];let M;t[34]===Symbol.for("react.memo_cache_sentinel")?(M=G=>{G?.value&&_(G.value)},t[34]=M):M=t[34];let O;t[35]===Symbol.for("react.memo_cache_sentinel")?(O=G=>{G?.value&&A(G.value)},t[35]=O):O=t[35];let B;return t[36]!==I?(B=()=>T(!I),t[36]=I,t[37]=B):B=t[37],vf(Oa.Fragment,{children:[ws(Me.Button,{id:`${xf}__button`,onClick:P,children:d("localization:copyToLocale")}),vf(Lt,{className:xf,gutter:!1,Header:ws(Da,{onClose:L,title:d("localization:copyToLocale")}),slug:yf,children:[vf("div",{className:`${xf}__sub-header`,children:[ws("span",{children:D&&R?ws("div",{children:d("localization:copyFromTo",{from:S(D),to:S(R)})}):d("localization:selectLocaleToCopy")}),ws(se,{buttonStyle:"primary",disabled:!D||!R,iconPosition:"left",onClick:V,size:"medium",children:w?d("general:copying")+"...":d("general:copy")})]}),vf("div",{className:`${xf}__content`,children:[ws(Sa,{label:d("localization:copyFrom"),name:"fromLocale",onChange:M,options:v,path:"fromLocale",readOnly:!0,value:D}),ws(Sa,{label:d("localization:copyTo"),name:"toLocale",onChange:O,options:y,path:"toLocale",value:R}),ws(dr,{checked:I,field:{name:"overwriteExisting",label:d("general:overwriteExistingData")},onChange:B,path:"overwriteExisting"})]})]})]})};function C7(t){return{label:t.label,value:t.code}}import{jsx as Y4,jsxs as L7}from"react/jsx-runtime";import{getTranslation as Z4}from"@payloadcms/translations";import{useRouter as $7,useSearchParams as k7}from"next/navigation.js";import{mergeListSearchAndWhere as j7}from"payload/shared";import*as q4 from"qs-esm";import O7,{useCallback as J4}from"react";import{c as w7}from"react/compiler-runtime";import{jsx as S7}from"react/jsx-runtime";import{usePathname as I7,useRouter as R7}from"next/navigation.js";import{createContext as _7,use as D7,useEffect as F7}from"react";var H4=_7({clearRouteCache:()=>{}}),o1=t=>{let e=w7(10),{children:o}=t,n=I7(),r=R7(),s;e[0]!==r?(s=()=>{r.refresh()},e[0]=r,e[1]=s):s=e[1];let i=s,l;e[2]!==i?(l=()=>{i()},e[2]=i,e[3]=l):l=e[3];let a;e[4]!==i||e[5]!==n?(a=[n,i],e[4]=i,e[5]=n,e[6]=a):a=e[6],F7(l,a);let c;return e[7]!==o||e[8]!==i?(c=S7(H4,{value:{clearRouteCache:i},children:o}),e[7]=o,e[8]=i,e[9]=c):c=e[9],c},kn=()=>D7(H4);import{jsx as A7}from"react/jsx-runtime";import{useSearchParams as T7}from"next/navigation.js";import*as X4 from"qs-esm";import{createContext as E7,use as P7,useCallback as r1,useEffect as z4,useRef as N7,useState as n1}from"react";var vo=function(t){return t.AllAvailable="allAvailable",t.AllInPage="allInPage",t.None="none",t.Some="some",t}({}),U4=E7({}),s1=({children:t,docs:e=[],totalDocs:o,user:n})=>{let r=N7({}),{code:s}=Pe(),[i,l]=n1(()=>{let g=new Map;return e.forEach(({id:b})=>{g.set(b,!1)}),g}),[a,c]=n1("none"),[u,d]=n1(0),f=T7(),m=r1((g=!1)=>{let b=new Map;g?(c("allAvailable"),e.forEach(({id:v,_isLocked:x,_userEditing:y})=>{(!x||y?.id===n?.id)&&b.set(v,!0)})):a==="allAvailable"||a==="allInPage"?c("none"):e.forEach(({id:v,_isLocked:x,_userEditing:y})=>{(!x||y?.id===n?.id)&&b.set(v,a!=="some")}),l(b)},[e,a,n?.id]),h=r1(g=>{let b=e.find(C=>C.id===g);if(b?._isLocked&&n?.id!==b?._userEditing.id)return;let v=i.get(g),x=typeof v=="boolean"?!v:!0,y=new Map(i.set(g,x));a==="allAvailable"&&!x&&c("some"),l(y)},[i,e,a,n?.id]),p=r1(g=>{let b;if(a==="allAvailable")b=$r(f)?.where||{id:{not_equals:""}};else{let v=[];for(let[x,y]of i)y&&v.push(x);b={id:{in:v}}}return g&&(b={and:[{...g},b]}),X4.stringify({locale:s,where:b},{addQueryPrefix:!0})},[a,i,s,f]);return z4(()=>{if(a==="allAvailable")return;let g=!1,b=!0;if(!i.size)b=!1,g=!1;else for(let[v,x]of i)b=b&&x,g=g||x;b&&i.size===e.length?c("allInPage"):c(g?"some":"none")},[a,i,o,e]),z4(()=>{let g=0;if(a==="allAvailable")g=o;else for(let[b,v]of i)v&&g++;d(g)},[a,i,o]),r.current={count:u,getQueryParams:p,selectAll:a,selected:i,setSelection:h,toggleAll:m,totalDocs:o},A7(U4,{value:r.current,children:t})},oo=()=>P7(U4);var M7="delete-documents",i1=t=>{let{collection:e,collection:{slug:o,labels:{plural:n,singular:r}}={}}=t,{permissions:s}=Re(),{config:{routes:{api:i},serverURL:l}}=H(),{openModal:a}=ce(),{count:c,getQueryParams:u,selectAll:d,toggleAll:f}=oo(),{i18n:m,t:h}=k(),p=$7(),g=k7(),{clearRouteCache:b}=kn(),x=s?.collections?.[o]?.delete,y=`delete-${o}`,C=J4(()=>{me.error(h("error:unknown"))},[h]),S=J4(async()=>{let w=j7({collectionConfig:e,search:g.get("search")}),F=u(w);await Ke.delete(`${l}${i}/${o}${F}`,{headers:{"Accept-Language":m.language,"Content-Type":"application/json"}}).then(async R=>{try{let A=await R.json(),D=A?.docs.length||0,_=D>1?n:r;if(R.status<400||D>0)return me.success(h("general:deletedCountSuccessfully",{count:D,label:Z4(_,m)})),A?.errors.length>0&&me.error(A.message,{description:A.errors.map(I=>I.message).join(`
`)}),f(),p.replace(q4.stringify({page:d?"1":void 0},{addQueryPrefix:!0})),b(),null;if(A.errors)me.error(A.message,{description:A.errors.map(I=>I.message).join(`
`)});else return C();return!1}catch{return C()}})},[g,C,i,u,m,n,p,d,l,r,o,h,f,b,e]);return d===vo.None||!x?null:L7(O7.Fragment,{children:[Y4("button",{className:`${M7}__toggle`,onClick:()=>{a(y)},type:"button",children:h("general:delete")}),Y4(It,{body:h("general:aboutToDeleteCount",{count:c,label:Z4(c>1?n:r,m)}),confirmingLabel:h("general:deleting"),heading:h("general:confirmDeletion"),modalSlug:y,onConfirm:S})]})};import{c as I8}from"react/compiler-runtime";import{jsx as at,jsxs as Lo}from"react/jsx-runtime";import{getTranslation as R8}from"@payloadcms/translations";import{formatAdminURL as _8}from"payload/shared";import p1,{Fragment as cu,useEffect as D8}from"react";import{jsx as K4,jsxs as V7}from"react/jsx-runtime";import{dequal as G7}from"dequal/lite";import{reduceFieldsToValues as eR,versionDefaults as W7}from"payload/shared";import H7,{useDeferredValue as z7,useEffect as tR,useRef as Ri,useState as X7}from"react";import{unflatten as B7}from"payload/shared";var Q4=(t,e,o)=>{let n={data:{},valid:!0};return t&&(Object.keys(t).forEach(r=>{(o===!0||!t[r]?.disableFormData)&&(n.data[r]=t[r]?.value,t[r].valid||(n.valid=!1))}),e&&(n.data=B7(n.data))),n};var U7="autosave",oR=1e3,rR=({id:t,collection:e,global:o})=>{let{config:{routes:{api:n},serverURL:r}}=H(),{docConfig:s,incrementVersionCount:i,lastUpdateTime:l,mostRecentVersionIsAutosaved:a,setLastUpdateTime:c,setMostRecentVersionIsAutosaved:u,setUnpublishedVersionCount:d,updateSavedDocumentData:f}=Te(),{reportUpdate:m}=fi(),{dispatchFields:h,isValid:p,setBackgroundProcessing:g,setIsValid:b,setSubmitted:v}=Oe(),[x]=ki(),y=Zt(),C=Yt(),{code:S}=Pe(),{i18n:w,t:F}=k(),R=s?.versions,A=W7.autosaveInterval;R.drafts&&R.drafts.autosave&&(A=R.drafts.autosave.interval);let D=!!(s?.versions?.drafts&&s?.versions?.drafts.validate),[_,I]=X7(!1),T=z7(_),E=Zo(x,A),$=Ri(x),j=Ri(y),N=Ri(S),P=Ri(p);$.current=x,j.current=y,N.current=S;let{queueTask:L}=Nm(),V=Ri(null),M=eo(()=>{V.current=void 0;let X,Z,oe=()=>{Z-X<oR?V.current=setTimeout(()=>{I(!1)},oR-(Z-X)):G()};L(async()=>{if(y){X=new Date().getTime(),I(!0);let z,Y,le;if(e&&t&&(le=e.slug,z=`${r}${n}/${le}/${t}?draft=true&autosave=true&locale=${N.current}`,Y="PATCH"),o&&(le=o.slug,z=`${r}${n}/globals/${le}?draft=true&autosave=true&locale=${N.current}`,Y="POST"),z&&j.current){let{data:J,valid:ue}=Q4($.current,!0);if(J._status="draft",!(C&&!ue&&R?.drafts&&R?.drafts?.validate)&&P.current){let K;try{K=await fetch(z,{body:JSON.stringify(J),credentials:"include",headers:{"Accept-Language":w.language,"Content-Type":"application/json"},method:Y})}catch{}let he=new Date;Z=he.getTime(),K.status===200&&(c(he.getTime()),m({id:t,entitySlug:le,updatedAt:he.toISOString()}),a||(i(),u(!0),d(Ne=>Ne+1)));let fe=await K.json();if(R?.drafts&&R?.drafts?.validate&&fe?.errors){if(Array.isArray(fe.errors)){let[Ne,be]=fe.errors.reduce(([Xe,Q],ke)=>{let Ce=[],ae=[];return ke?.message&&ae.push(ke),Array.isArray(ke?.data)&&ke.data.forEach(ie=>{ie?.field?Ce.push(ie):ae.push(ie)}),[[...Xe,...Ce],[...Q,...ae]]},[[],[]]);h({type:"ADD_SERVER_ERRORS",errors:Ne}),be.forEach(Xe=>{me.error(Xe.message||w.t("error:unknown"))}),P.current=!1,b(!1),v(!0),oe();return}}else{let Ne=fe?.doc||fe?.result;Ne&&(b(!0),P.current=!0,f(Ne))}oe()}}}},{afterProcess:()=>{g(!1)},beforeProcess:()=>{if(!P.current)return P.current=!0,!1;g(!0)}})}),O=Ri(!1),B=Ri(eR(E));tR(()=>{if(!O.current){O.current=!0;return}let X=eR(E);G7(X,B)||(B.current=X,M())},[E]),tR(()=>()=>{G()},[]);let G=eo(()=>{V.current&&clearTimeout(V.current),I(!1)});return V7("div",{className:U7,children:[D&&!p&&K4(Kc,{}),T&&F("general:saving"),!T&&!!l&&K4(H7.Fragment,{children:F("version:lastSavedAgo",{distance:Hx({date:l,i18n:w})})})]})};import{jsx as Cf,jsxs as Y7}from"react/jsx-runtime";import{getTranslation as nR}from"@payloadcms/translations";import{useRouter as Z7}from"next/navigation.js";import{formatAdminURL as J7}from"payload/shared";import q7,{useCallback as sR}from"react";var iR=t=>{let{id:e,buttonId:o,collectionSlug:n,onDelete:r,redirectAfterDelete:s=!0,singularLabel:i,title:l}=t,{config:{routes:{admin:a,api:c},serverURL:u},getEntityConfig:d}=H(),f=d({collectionSlug:n}),{setModified:m}=Oe(),h=Z7(),{i18n:p,t:g}=k(),{title:b}=Te(),{startRouteTransition:v}=st(),{openModal:x}=ce(),y=`delete-${e}`,C=sR(()=>{me.error(g("error:deletingTitle",{title:b}))},[g,b]),S=sR(async()=>{m(!1);try{await Ke.delete(`${u}${c}/${n}/${e}`,{headers:{"Accept-Language":p.language,"Content-Type":"application/json"}}).then(async w=>{try{let F=await w.json();if(w.status<400){if(me.success(g("general:titleDeleted",{label:nR(i,p),title:b})||F.message),s)return v(()=>h.push(J7({adminRoute:a,path:`/collections/${n}`})));typeof r=="function"&&await r({id:e,collectionConfig:f});return}return F.errors?F.errors.forEach(R=>me.error(R.message)):C(),!1}catch{return C()}})}catch{return C()}},[m,u,c,n,e,g,i,C,p,b,h,a,s,r,f,v]);return e?Y7(q7.Fragment,{children:[Cf(Me.Button,{id:o,onClick:()=>{x(y)},children:g("general:delete")}),Cf(It,{body:Cf(wi,{elements:{1:({children:w})=>Cf("strong",{children:w})},i18nKey:"general:aboutToDelete",t:g,variables:{label:nR(i,p),title:l||b||e}}),confirmingLabel:g("general:deleting"),heading:g("general:confirmDeletion"),modalSlug:y,onConfirm:S})]}):null};import{jsx as aR,jsxs as Q7}from"react/jsx-runtime";import{getTranslation as lR}from"@payloadcms/translations";import{useRouter as K7}from"next/navigation.js";import{formatAdminURL as e8}from"payload/shared";import cR,{useCallback as uR}from"react";var dR=({id:t,slug:e,onDuplicate:o,redirectAfterDuplicate:n=!0,singularLabel:r})=>{let s=K7(),i=Zt(),{openModal:l}=ce(),a=Pe(),{setModified:c}=Oe(),{startRouteTransition:u}=st(),{config:{routes:{admin:d,api:f},serverURL:m},getEntityConfig:h}=H(),p=h({collectionSlug:e}),[g,b]=cR.useState(!1),{i18n:v,t:x}=k(),y=`duplicate-${t}`,C=uR(async()=>{b(!0),await Ke.post(`${m}${f}/${e}/${t}/duplicate${a?.code?`?locale=${a.code}`:""}`,{body:JSON.stringify({}),headers:{"Accept-Language":v.language,"Content-Type":"application/json",credentials:"include"}}).then(async w=>{let{doc:F,errors:R,message:A}=await w.json();if(w.status<400){if(me.success(A||x("general:successfullyDuplicated",{label:lR(r,v)})),c(!1),n)return u(()=>s.push(e8({adminRoute:d,path:`/collections/${e}/${F.id}${a?.code?`?locale=${a.code}`:""}`})));typeof o=="function"&&o({collectionConfig:p,doc:F})}else me.error(R?.[0].message||A||x("error:unspecific",{label:lR(r,v)}))})},[a,m,f,e,t,v,x,r,o,n,c,s,d,p,u]),S=uR(async()=>{b(!1),await C()},[C]);return Q7(cR.Fragment,{children:[aR(Me.Button,{id:"action-duplicate",onClick:()=>i?(b(!0),l(y)):C(),children:x("general:duplicate")}),g&&aR(It,{body:x("general:unsavedChangesDuplicate"),confirmLabel:x("general:duplicateWithoutSaving"),heading:x("general:unsavedChanges"),modalSlug:y,onConfirm:S})]})};import{c as o8}from"react/compiler-runtime";import{jsx as pR,jsxs as r8}from"react/jsx-runtime";import{useState as n8}from"react";import{jsx as mR,jsxs as t8}from"react/jsx-runtime";import"react";var fR=({className:t})=>t8("svg",{className:["icon icon--lock",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[mR("path",{className:"stroke",d:"M7.5 9.5V7.5C7.5 6.83696 7.76339 6.20107 8.23223 5.73223C8.70107 5.26339 9.33696 5 10 5C10.663 5 11.2989 5.26339 11.7678 5.73223C12.2366 6.20107 12.5 6.83696 12.5 7.5V9.5",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"1"}),mR("path",{className:"stroke",d:"M13.5 9.5H6.5C5.94772 9.5 5.5 9.94772 5.5 10.5V14C5.5 14.5523 5.94772 15 6.5 15H13.5C14.0523 15 14.5 14.5523 14.5 14V10.5C14.5 9.94772 14.0523 9.5 13.5 9.5Z",stopOpacity:"1",strokeLinecap:"round",strokeLinejoin:"round"})]});var hR="locked",lu=t=>{let e=o8(8),{className:o,user:n}=t,[r,s]=n8(!1),{t:i}=k(),l=uf(n)?n.email??n.id:i("general:anotherUser"),a;e[0]!==o?(a=[hR,o].filter(Boolean),e[0]=o,e[1]=a):a=e[1];let c=a.join(" "),u,d;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>s(!0),d=()=>s(!1),e[2]=u,e[3]=d):(u=e[2],d=e[3]);let f=`${l} ${i("general:isEditing")}`,m;return e[4]!==r||e[5]!==c||e[6]!==f?(m=r8("div",{className:c,onMouseEnter:u,onMouseLeave:d,role:"button",tabIndex:0,children:[pR(ho,{alignCaret:"left",className:`${hR}__tooltip`,position:"top",show:r,children:f}),pR(fR,{})]}),e[4]=r,e[5]=c,e[6]=f,e[7]=m):m=e[7],m};import{c as a8}from"react/compiler-runtime";import{jsx as l8}from"react/jsx-runtime";import"react";import*as bR from"qs-esm";import{useCallback as s8,useRef as i8,useState as gR}from"react";var vR=()=>{let{id:t,collectionSlug:e,globalSlug:o,versionCount:n}=Te(),[r,s]=gR(!1),[i,l]=gR(""),{code:a}=Pe(),c=n>0,{config:{routes:{api:u},serverURL:d}}=H(),{t:f}=k(),m=i8(!1);return{generatePreviewURL:s8(async({openPreviewWindow:p=!1})=>{if(!m.current){m.current=!0;try{s(!0);let g=`${d}${u}`;e&&(g=`${g}/${e}/${t}/preview`),o&&(g=`${g}/globals/${o}/preview`);let v=await fetch(`${g}?${bR.stringify({draft:c?"true":"false",locale:a||void 0})}`);if(!v.ok)throw new Error;let x=await v.json();if(!x)throw new Error;l(x),s(!1),m.current=!1,p&&window.open(x,"_blank")}catch{s(!1),m.current=!1,me.error(f("error:previewing"))}}},[d,u,e,o,c,a,t,f]),isLoading:r,label:f(r?"general:loading":"version:preview"),previewURL:i}};var c8="preview-btn";function a1(t){let e=a8(5),{generatePreviewURL:o,label:n}=vR(),r;e[0]!==o?(r=()=>o({openPreviewWindow:!0}),e[0]=o,e[1]=r):r=e[1];let s;return e[2]!==n||e[3]!==r?(s=l8(se,{buttonStyle:"secondary",className:c8,icon:"link",iconPosition:"left",onClick:r,size:"medium",children:n}),e[2]=n,e[3]=r,e[4]=s):s=e[4],s}import{jsx as Ba,jsxs as RR}from"react/jsx-runtime";import*as _R from"qs-esm";import c1,{useCallback as u1}from"react";import{jsx as xR}from"react/jsx-runtime";import"react";var u8="form-submit",Xr=t=>{let{type:e="submit",buttonId:o,children:n,disabled:r,onClick:s,programmaticSubmit:i,ref:l}=t,a=ar(),c=rp(),u=Ts(),{disabled:d,submit:f}=Oe();return xR("div",{className:u8,children:xR(se,{ref:l,...t,disabled:!(r||u||a||c||d)?void 0:!0,id:o,onClick:s??(i?()=>{f()}:void 0),type:e,children:n})})};import{jsx as Wt,jsxs as _i}from"react/jsx-runtime";import{getTranslation as p8}from"@payloadcms/translations";import*as SR from"qs-esm";import No,{useCallback as h8,useMemo as g8}from"react";import{jsx as Ss,jsxs as d8}from"react/jsx-runtime";import"react";var yR="table",l1=({appearance:t,columns:e,data:o})=>{let n=e?.filter(r=>r?.active);return!n||n.length===0?Ss("div",{children:"No columns selected"}):Ss("div",{className:[yR,t&&`${yR}--appearance-${t}`].filter(Boolean).join(" "),children:d8("table",{cellPadding:"0",cellSpacing:"0",children:[Ss("thead",{children:Ss("tr",{children:n.map((r,s)=>Ss("th",{id:`heading-${r.accessor}`,children:r.Heading},s))})}),Ss("tbody",{children:o&&o.map((r,s)=>Ss("tr",{className:`row-${s+1}`,children:n.map((i,l)=>{let{accessor:a}=i;return Ss("td",{className:`cell-${a}`,children:i.renderedCells[s]},l)})},typeof r.id=="string"||typeof r.id=="number"?String(r.id):s))})]})})};import{jsx as nn,jsxs as m8}from"react/jsx-runtime";import{getTranslation as f8}from"@payloadcms/translations";import"react";var CR=({dateFormat:t,deleteHandler:e,docs:o,i18n:n,localization:r,supportedTimezones:s,t:i})=>{let l=[{accessor:"input.type",active:!0,field:{name:"",type:"text"},Heading:nn("span",{children:i("version:type")}),renderedCells:o.map(a=>{let c=a.input?.type;return m8(bt,{pillStyle:c==="publish"?"success":"warning",children:[c==="publish"&&i("version:publish"),c==="unpublish"&&i("version:unpublish")]},a.id)})},{accessor:"waitUntil",active:!0,field:{name:"",type:"date"},Heading:nn("span",{children:i("general:time")}),renderedCells:o.map(a=>nn("span",{children:bn({date:a.waitUntil,i18n:n,pattern:t,timezone:a.input.timezone})},a.id))},{accessor:"input.timezone",active:!0,field:{name:"",type:"text"},Heading:nn("span",{children:i("general:timezone")}),renderedCells:o.map(a=>{let u=s.find(d=>d.value===a.input.timezone)?.label||a.input.timezone;return nn("span",{children:u||i("general:noValue")},a.id)})}];return r&&l.push({accessor:"input.locale",active:!0,field:{name:"",type:"text"},Heading:nn("span",{children:i("general:locale")}),renderedCells:o.map(a=>{if(a.input.locale){let c=r.locales.find(u=>u.code===a.input.locale);if(c)return nn("span",{children:f8(c.label,n)},a.id)}return nn("span",{children:i("general:all")},a.id)})}),l.push({accessor:"delete",active:!0,field:{name:"delete",type:"text"},Heading:nn("span",{children:i("general:delete")}),renderedCells:o.map(a=>nn(se,{buttonStyle:"icon-label",className:"schedule-publish__delete",icon:"x",onClick:c=>{c.preventDefault(),e(a.id)},tooltip:i("general:delete")},a.id))}),l};var Ma="schedule-publish",wR={label:"All",value:"all"},IR=({slug:t,defaultType:e,schedulePublishConfig:o})=>{let{toggleModal:n}=ce(),{config:{admin:{dateFormat:r,timezones:{defaultTimezone:s,supportedTimezones:i}},localization:l,routes:{api:a},serverURL:c}}=H(),{id:u,collectionSlug:d,globalSlug:f,title:m}=Te(),{i18n:h,t:p}=k(),{schedulePublish:g}=Ft(),[b,v]=No.useState(e||"publish"),[x,y]=No.useState(),[C,S]=No.useState(s),[w,F]=No.useState(wR),[R,A]=No.useState(!1),D=p("general:schedulePublishFor",{title:m}),[_,I]=No.useState(),[T,E]=No.useState(),$=No.useRef(()=>null),j=Intl.DateTimeFormat().resolvedOptions().timeZone,N=No.useMemo(()=>{if(l){let B=l.locales.map(({code:G,label:X})=>({label:p8(X,h),value:G}));return B.unshift(wR),B}return[]},[l,h]),P=No.useCallback(async()=>{let B={sort:"waitUntil",where:{and:[{taskSlug:{equals:"schedulePublish"}},{waitUntil:{greater_than:new Date}}]}};d&&(B.where.and.push({"input.doc.value":{equals:String(u)}}),B.where.and.push({"input.doc.relationTo":{equals:d}})),f&&B.where.and.push({"input.global":{equals:f}});let{docs:G}=await Ke.post(`${c}${a}/payload-jobs`,{body:SR.stringify(B),headers:{"Accept-Language":h.language,"Content-Type":"application/x-www-form-urlencoded","X-HTTP-Method-Override":"GET"}}).then(X=>X.json());E(CR({dateFormat:r,deleteHandler:$.current,docs:G,i18n:h,localization:l,supportedTimezones:i,t:p})),I(G)},[d,f,c,a,h,r,l,i,p,u]),L=No.useCallback(async B=>{try{await g({deleteID:B}),await P(),me.success(p("general:deletedSuccessfully"))}catch(G){console.error(G),me.error(G.message)}},[P,g,p]);No.useEffect(()=>{$.current=L},[L]);let V=No.useCallback(async()=>{if(!x)return me.error(p("general:noDateSelected"));A(!0);let B;typeof w=="object"&&w.value!=="all"&&b==="publish"&&(B=w.value);try{await g({type:b,date:x,doc:d?{relationTo:d,value:String(u)}:void 0,global:f||void 0,locale:B,timezone:C}),y(void 0),me.success(p("version:scheduledSuccessfully")),P()}catch(G){console.error(G),me.error(G.message)}A(!1)},[x,w,b,p,g,d,u,f,C,P]),M=g8(()=>{if(C&&j&&x){let B=Bt.tz(C),G=Bt.tz(j),X=new Bt(x).withTimeZone(C),Z=Dr(X,B);return Dr(Z,G).toISOString()}return x},[C,x,j]),O=h8(B=>{if(C&&B){let G=Bt.tz(C),X=new Bt(B),Z=Dr(X,G);y(Z||null)}else y(B||null)},[y,C]);return No.useEffect(()=>{_||(async()=>await P())()},[_,P]),_i(Lt,{className:Ma,gutter:!1,Header:_i("div",{className:`${Ma}__drawer-header`,children:[Wt("h2",{title:D,children:D}),Wt(jm,{onClick:()=>n(t)})]}),slug:t,children:[_i(Mo,{className:`${Ma}__scheduler`,children:[Wt(ve,{label:p("version:type"),required:!0}),_i("ul",{className:`${Ma}__type`,children:[Wt("li",{children:Wt(bc,{id:`${t}-type`,isSelected:b==="publish",onChange:()=>v("publish"),option:{label:p("version:publish"),value:"publish"},path:`${t}-type`,readOnly:R})}),Wt("li",{children:Wt(bc,{id:`${t}-type`,isSelected:b==="unpublish",onChange:()=>v("unpublish"),option:{label:p("version:unpublish"),value:"unpublish"},path:`${t}-type`,readOnly:R})})]}),Wt("br",{}),Wt(ve,{label:p("general:time"),path:"time",required:!0}),Wt(Qi,{id:"time",minDate:new Date,onChange:B=>O(B),pickerAppearance:"dayAndTime",readOnly:R,timeFormat:o?.timeFormat,timeIntervals:o?.timeIntervals??5,value:M}),i.length>0&&Wt(Kl,{id:"timezone-picker",onChange:S,options:i,selectedTimezone:C}),Wt("br",{}),N.length>0&&b==="publish"&&_i(No.Fragment,{children:[Wt(ve,{label:p("localization:localeToPublish")}),Wt(mt,{onChange:B=>F(B),options:N,value:w}),Wt("br",{})]}),_i("div",{className:`${Ma}__actions`,children:[Wt(se,{buttonStyle:"primary",disabled:R,id:"scheduled-publish-save",onClick:V,type:"button",children:p("general:save")}),R?Wt("span",{children:p("general:saving")}):null]})]}),_i(Mo,{className:`${Ma}__upcoming`,children:[Wt("h4",{children:p("general:upcomingEvents")}),!_&&Wt(St,{}),_?.length===0&&Wt(Sr,{type:"info",children:p("general:noUpcomingEventsScheduled")}),_?.length>0&&Wt(l1,{appearance:"condensed",columns:T,data:_})]})]})};function d1({label:t}){let{id:e,collectionSlug:o,docConfig:n,globalSlug:r,hasPublishedDoc:s,hasPublishPermission:i,setHasPublishedDoc:l,setMostRecentVersionIsAutosaved:a,setUnpublishedVersionCount:c,unpublishedVersionCount:u,uploadStatus:d}=Te(),{config:f,getEntityConfig:m}=H(),{submit:h}=Oe(),p=Zt(),g=lt(),{code:b}=Pe(),{isModalOpen:v,toggleModal:x}=ce(),y=`schedule-publish-${e}`,{localization:C,routes:{api:S},serverURL:w}=f,{t:F}=k(),R=t||F("version:publishChanges"),A=c1.useMemo(()=>{if(o)return m({collectionSlug:o});if(r)return m({globalSlug:r})},[o,r,m]),D=u>0,_=typeof A?.versions?.drafts=="object"&&A?.versions?.drafts.schedulePublish,I=i&&(p||D||!s)&&d!=="uploading",T=!!_,E=!!(typeof A?.versions?.drafts=="object"&&A?.versions?.drafts.autosave),$=!!(T&&i&&(r||o&&e)&&(E||!p)),N=qo()==="update"&&!p,P=u1(async()=>{if(N)return;let z=`?locale=${b}&depth=0&fallback-locale=null&draft=true`,Y,le="POST";o&&(Y=`${w}${S}/${o}${e?`/${e}`:""}${z}`,e&&(le="PATCH")),r&&(Y=`${w}${S}/globals/${r}${z}`),await h({action:Y,method:le,overrides:{_status:"draft"},skipValidation:!0})},[h,o,r,w,S,b,e,N]);yi({cmdCtrlKey:!0,editDepth:g,keyCodes:["s"]},z=>{z.preventDefault(),z.stopPropagation(),P&&n.versions?.drafts&&n.versions?.drafts?.autosave&&P()});let L=u1(()=>{d!=="uploading"&&(h({overrides:{_status:"published"}}),c(0),a(!1),l(!0))},[l,h,c,d,a]),V=u1(z=>{if(d==="uploading")return;let Y=_R.stringify({publishSpecificLocale:z}),le=`${w}${S}${r?`/globals/${r}`:`/${o}/${e?`${"/"+e}`:""}`}${Y?"?"+Y:""}`;h({action:le,overrides:{_status:"published"}}),l(!0)},[S,o,r,e,w,l,h,d]),M=!C||C&&C.defaultLocalePublishOption!=="active",O=C&&C?.locales.find(z=>typeof z=="string"?z===b:z.code===b),B=O&&(typeof O.label=="string"?O.label:O.label?.[b]??void 0),G=M?L:()=>V(O.code),X=M?R:F("version:publishIn",{locale:B}),Z=M?()=>V(O.code):L,oe=M?F("version:publishIn",{locale:B}):F("version:publishAllLocales");return i?RR(c1.Fragment,{children:[Ba(Xr,{buttonId:"action-save",disabled:!I,enableSubMenu:$,onClick:G,size:"medium",SubMenuPopupContent:C||$?({close:z})=>RR(c1.Fragment,{children:[$&&Ba(Me.ButtonGroup,{children:Ba(Me.Button,{id:"schedule-publish",onClick:()=>[x(y),z()],children:F("version:schedulePublish")})},"schedule-publish"),C&&I&&Ba(Me.ButtonGroup,{children:Ba(Me.Button,{id:"publish-locale",onClick:Z,children:oe})})]}):void 0,type:"button",children:C?X:R}),$&&v(y)&&Ba(IR,{defaultType:D?"publish":"unpublish",schedulePublishConfig:typeof _=="object"&&_,slug:y})]}):null}import{jsx as b8}from"react/jsx-runtime";import{useRef as v8}from"react";function m1({label:t}){let{uploadStatus:e}=Te(),{t:o}=k(),{submit:n}=Oe(),r=Zt(),s=t||o("general:save"),i=v8(null),l=lt(),c=qo()==="update"&&!r||e==="uploading";return yi({cmdCtrlKey:!0,editDepth:l,keyCodes:["s"]},d=>{d.preventDefault(),d.stopPropagation(),i?.current&&i.current.click()}),b8(Xr,{buttonId:"action-save",disabled:c,onClick:()=>{if(e!=="uploading")return void n()},ref:i,size:"medium",type:"button",children:s})}import{jsx as x8}from"react/jsx-runtime";import{useCallback as y8,useRef as C8}from"react";var w8="save-draft";function f1(t){let{config:{routes:{api:e},serverURL:o}}=H(),{id:n,collectionSlug:r,globalSlug:s,setUnpublishedVersionCount:i,uploadStatus:l}=Te(),a=Zt(),{code:c}=Pe(),u=C8(null),d=lt(),{t:f}=k(),{submit:m}=Oe(),p=qo()==="update"&&!a||l==="uploading",g=y8(async()=>{if(p)return;let b=`?locale=${c}&depth=0&fallback-locale=null&draft=true`,v,x="POST";r&&(v=`${o}${e}/${r}${n?`/${n}`:""}${b}`,n&&(x="PATCH")),s&&(v=`${o}${e}/globals/${s}${b}`),await m({action:v,method:x,overrides:{_status:"draft"},skipValidation:!0}),i(y=>y+1)},[m,r,s,o,e,c,n,p,i]);return yi({cmdCtrlKey:!0,editDepth:d,keyCodes:["s"]},b=>{b.preventDefault(),b.stopPropagation(),u?.current&&u.current.click()}),x8(Xr,{buttonId:"action-save-draft",buttonStyle:"secondary",className:w8,disabled:p,onClick:()=>void g(),ref:u,size:"medium",type:"button",children:f("version:saveDraft")})}import{jsx as Va,jsxs as wf}from"react/jsx-runtime";import DR,{useCallback as S8}from"react";var Ga="status",FR=()=>{let{id:t,collectionSlug:e,docPermissions:o,globalSlug:n,hasPublishedDoc:r,incrementVersionCount:s,setHasPublishedDoc:i,setMostRecentVersionIsAutosaved:l,setUnpublishedVersionCount:a,unpublishedVersionCount:c}=Te(),{toggleModal:u}=ce(),{config:{routes:{api:d},serverURL:f}}=H(),{reset:m}=Oe(),{code:h}=Pe(),{i18n:p,t:g}=k(),b=`confirm-un-publish-${t}`,v=`confirm-revert-${t}`,x;c>0&&r?x="changed":r?r&&c<=0&&(x="published"):x="draft";let y=S8(async S=>{let w,F,R;S==="unpublish"&&(R={_status:"draft"}),e&&(w=`${f}${d}/${e}/${t}?locale=${h}&fallback-locale=null&depth=0`,F="patch"),n&&(w=`${f}${d}/globals/${n}?locale=${h}&fallback-locale=null&depth=0`,F="post"),S==="revert"&&(R=await Ke.get(w,{headers:{"Accept-Language":p.language,"Content-Type":"application/json"}}).then(_=>_.json()));let A=await Ke[F](w,{body:JSON.stringify(R),headers:{"Accept-Language":p.language,"Content-Type":"application/json"}});if(A.status===200){let D,_=await A.json();n?D=_.result:e&&(D=_.doc),m(D),me.success(_.message),s(),l(!1),S==="unpublish"?i(!1):S==="revert"&&a(0)}else me.error(g("error:unPublishingDocument"))},[d,e,n,t,p.language,s,h,m,f,a,l,g,i]),C=o?.update;return x?Va("div",{className:Ga,title:`${g("version:status")}: ${g(`version:${x}`)}`,children:wf("div",{className:`${Ga}__value-wrap`,children:[wf("span",{className:`${Ga}__label`,children:[g("version:status"),":\xA0"]}),Va("span",{className:`${Ga}__value`,children:g(`version:${x}`)}),C&&x==="published"&&wf(DR.Fragment,{children:["\xA0\u2014\xA0",Va(se,{buttonStyle:"none",className:`${Ga}__action`,onClick:()=>u(b),children:g("version:unpublish")}),Va(It,{body:g("version:aboutToUnpublish"),confirmingLabel:g("version:unpublishing"),heading:g("version:confirmUnpublish"),modalSlug:b,onConfirm:()=>y("unpublish")})]}),C&&x==="changed"&&wf(DR.Fragment,{children:["\xA0\u2014\xA0",Va(se,{buttonStyle:"none",className:`${Ga}__action`,id:"action-revert-to-published",onClick:()=>u(v),children:g("version:revertToPublished")}),Va(It,{body:g("version:aboutToRevertToPublished"),confirmingLabel:g("version:reverting"),heading:g("version:confirmRevertToSaved"),modalSlug:v,onConfirm:()=>y("revert")})]})]})}):null};var Tt="doc-controls",h1=t=>{let e=I8(15),{id:o,slug:n,customComponents:r,data:s,disableActions:i,disableCreate:l,hasSavePermission:a,isAccountView:c,isEditing:u,onDelete:d,onDrawerCreateNew:f,onDuplicate:m,onTakeOver:h,permissions:p,readOnlyForIncomingUser:g,redirectAfterDelete:b,redirectAfterDuplicate:v,user:x}=t,y;e[0]!==r?(y=r===void 0?{}:r,e[0]=r,e[1]=y):y=e[1];let{PreviewButton:C,PublishButton:S,SaveButton:w,SaveDraftButton:F}=y,{i18n:R,t:A}=k(),D=lt(),{config:_,getEntityConfig:I}=H(),T=I({collectionSlug:n}),E=I({globalSlug:n}),{admin:$,localization:j,routes:N}=_,{dateFormat:P}=$,{admin:L}=N,[V,M]=p1.useState(""),[O,B]=p1.useState(""),G=ar(),X=Ts(),Z,oe;e[2]!==s||e[3]!==P||e[4]!==R?(Z=()=>{s?.updatedAt&&M(bn({date:s.updatedAt,i18n:R,pattern:P})),s?.createdAt&&B(bn({date:s.createdAt,i18n:R,pattern:P}))},oe=[s,R,P],e[2]=s,e[3]=P,e[4]=R,e[5]=Z,e[6]=oe):(Z=e[5],oe=e[6]),D8(Z,oe);let z=p&&"create"in p&&p.create,Y=p&&"delete"in p&&p.delete,le=!!(T&&o&&!i&&(z||Y)),J=!o&&T?.versions?.drafts&&T.versions?.drafts.validate,ue=T?.versions?.drafts&&T?.versions?.drafts?.autosave||E?.versions?.drafts&&E?.versions?.drafts?.autosave,te=j&&!T?.admin?.disableCopyToLocale,K;e[7]!==g||e[8]!==x?(K=x&&g&&at(lu,{className:`${Tt}__locked-controls`,user:x}),e[7]=g,e[8]=x,e[9]=K):K=e[9];let he;return e[10]!==h||e[11]!==g||e[12]!==A||e[13]!==x?(he=x&&g&&at(se,{buttonStyle:"secondary",id:"take-over",onClick:h,size:"medium",type:"button",children:A("general:takeOver")}),e[10]=h,e[11]=g,e[12]=A,e[13]=x,e[14]=he):he=e[14],Lo(Mo,{className:Tt,children:[Lo("div",{className:`${Tt}__wrapper`,children:[at("div",{className:`${Tt}__content`,children:Lo("ul",{className:`${Tt}__meta`,children:[T&&!u&&!c&&at("li",{className:`${Tt}__list-item`,children:at("p",{className:`${Tt}__value`,children:R.t("general:creatingNewLabel",{label:R8(T?.labels?.singular??R.t("general:document"),R)})})}),K,(T?.versions?.drafts||E?.versions?.drafts)&&Lo(cu,{children:[(E||T&&u)&&at("li",{className:[`${Tt}__status`,`${Tt}__list-item`].filter(Boolean).join(" "),children:at(FR,{})}),a&&ue&&!J&&at("li",{className:`${Tt}__list-item`,children:at(rR,{collection:T,global:E,id:o,publishedDocUpdatedAt:s?.createdAt})})]}),T?.timestamps&&(u||c)&&Lo(cu,{children:[Lo("li",{className:[`${Tt}__list-item`,`${Tt}__value-wrap`].filter(Boolean).join(" "),title:s?.updatedAt?V:"",children:[Lo("p",{className:`${Tt}__label`,children:[R.t("general:lastModified"),":\xA0"]}),s?.updatedAt&&at("p",{className:`${Tt}__value`,children:V})]}),Lo("li",{className:[`${Tt}__list-item`,`${Tt}__value-wrap`].filter(Boolean).join(" "),title:s?.createdAt?O:"",children:[Lo("p",{className:`${Tt}__label`,children:[R.t("general:created"),":\xA0"]}),s?.createdAt&&at("p",{className:`${Tt}__value`,children:O})]})]})]})}),Lo("div",{className:`${Tt}__controls-wrapper`,children:[Lo("div",{className:`${Tt}__controls`,children:[(T?.admin.preview||E?.admin.preview)&&at(re,{CustomComponent:C,Fallback:at(a1,{})}),a&&at(cu,{children:T?.versions?.drafts||E?.versions?.drafts?Lo(cu,{children:[(J||!ue)&&at(re,{CustomComponent:F,Fallback:at(f1,{})}),at(re,{CustomComponent:S,Fallback:at(d1,{})})]}):at(re,{CustomComponent:w,Fallback:at(m1,{})})}),he]}),le&&!g&&at(po,{button:Lo("div",{className:`${Tt}__dots`,children:[at("div",{}),at("div",{}),at("div",{})]}),className:`${Tt}__popup`,disabled:X||G,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:Lo(Me.ButtonGroup,{children:[te&&at(t1,{}),z&&Lo(p1.Fragment,{children:[!l&&at(cu,{children:D>1?at(Me.Button,{id:"action-create",onClick:f,children:R.t("general:createNew")}):at(Me.Button,{href:_8({adminRoute:L,path:`/collections/${T?.slug}/create`}),id:"action-create",children:R.t("general:createNew")})}),T.disableDuplicate!==!0&&u&&at(dR,{id:o.toString(),onDuplicate:m,redirectAfterDuplicate:v,singularLabel:T?.labels?.singular,slug:T?.slug})]}),Y&&at(iR,{buttonId:"action-delete",collectionSlug:T?.slug,id:o.toString(),onDelete:d,redirectAfterDelete:b,singularLabel:T?.labels?.singular,useAsTitle:T?.admin?.useAsTitle})]})})]})]}),at("div",{className:`${Tt}__divider`})]})};import{c as j8}from"react/compiler-runtime";import{jsx as If,jsxs as O8}from"react/jsx-runtime";import{useState as M8}from"react";import{c as g1}from"react/compiler-runtime";import{jsx as uo,jsxs as Sf}from"react/jsx-runtime";import{getTranslation as F8}from"@payloadcms/translations";import{useRouter as A8,useSearchParams as T8}from"next/navigation.js";import{mergeListSearchAndWhere as E8,unflatten as AR}from"payload/shared";import*as NR from"qs-esm";import TR,{useCallback as ER,useEffect as P8,useMemo as PR,useState as N8}from"react";var L8=t=>{let e=g1(7),{action:o,disabled:n}=t,{submit:r}=Oe(),{t:s}=k(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let l=i,a;return e[3]!==n||e[4]!==l||e[5]!==s?(a=uo(Xr,{className:`${$o}__save`,disabled:n,onClick:l,children:s("general:save")}),e[3]=n,e[4]=l,e[5]=s,e[6]=a):a=e[6],a},$8=t=>{let e=g1(7),{action:o,disabled:n}=t,{submit:r}=Oe(),{t:s}=k(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",overrides:{_status:"published"},skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let l=i,a;return e[3]!==n||e[4]!==l||e[5]!==s?(a=uo(Xr,{className:`${$o}__publish`,disabled:n,onClick:l,children:s("version:publishChanges")}),e[3]=n,e[4]=l,e[5]=s,e[6]=a):a=e[6],a},k8=t=>{let e=g1(7),{action:o,disabled:n}=t,{submit:r}=Oe(),{t:s}=k(),i;e[0]!==o||e[1]!==r?(i=()=>{r({action:o,method:"PATCH",overrides:{_status:"draft"},skipValidation:!0})},e[0]=o,e[1]=r,e[2]=i):i=e[2];let l=i,a;return e[3]!==n||e[4]!==l||e[5]!==s?(a=uo(Xr,{buttonStyle:"secondary",className:`${$o}__draft`,disabled:n,onClick:l,children:s("version:saveDraft")}),e[3]=n,e[4]=l,e[5]=s,e[6]=a):a=e[6],a},LR=t=>{let{collection:{fields:e,labels:{plural:o,singular:n}}={},collection:r,drawerSlug:s,selectedFields:i,setSelectedFields:l}=t,{permissions:a,user:c}=Re(),{closeModal:u}=ce(),{config:{routes:{api:d},serverURL:f}}=H(),{getFormState:m}=Ft(),{count:h,getQueryParams:p,selectAll:g}=oo(),{i18n:b,t:v}=k(),[x,y]=N8(!1),C=A8(),S=TR.useRef(null),{clearRouteCache:w}=kn(),F=a?.collections?.[r.slug],R=T8(),A=PR(()=>AR(i.reduce((E,$)=>(E[$.value.path]=!0,E),{})),[i]),D=ER(async({formState:E,submitted:$})=>{let j=tr(S),{state:N}=await m({collectionSlug:r.slug,docPermissions:F,docPreferences:null,formState:E,operation:"update",schemaPath:r.slug,select:A,signal:j.signal,skipValidation:!$});return S.current=null,N},[m,r,F,A]);P8(()=>{let E=S.current;return()=>{er(E)}},[]);let _=PR(()=>{let E=E8({collectionConfig:r,search:R.get("search")});return p(E)},[r,R,p]),I=()=>{C.replace(NR.stringify({...$r(R),page:g===vo.AllAvailable?"1":void 0},{addQueryPrefix:!0})),w(),u(s)},T=ER(async({dispatchFields:E,formState:$,selected:j})=>{y(!0),l(j||[]);let{state:N}=await m({collectionSlug:r.slug,docPermissions:F,docPreferences:null,formState:$,operation:"update",schemaPath:r.slug,select:AR(j.reduce((P,L)=>(P[L.value.path]=!0,P),{})),skipValidation:!0});E({type:"UPDATE_MANY",formState:N}),y(!1)},[m,r.slug,F,l]);return uo(Sl,{collectionSlug:r.slug,currentEditor:c,hasPublishedDoc:!1,id:null,initialData:{},isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,versionCount:0,children:uo(vd,{value:"update",children:Sf("div",{className:`${$o}__main`,children:[Sf("div",{className:`${$o}__header`,children:[uo("h2",{className:`${$o}__header__title`,children:v("general:editingLabel",{count:h,label:F8(h>1?o:n,b)})}),uo("button",{"aria-label":v("general:close"),className:`${$o}__header__close`,id:`close-drawer__${s}`,onClick:()=>u(s),type:"button",children:uo(ft,{})})]}),Sf(Dn,{className:`${$o}__form`,isInitializing:x,onChange:[D],onSuccess:I,children:[uo(Hm,{fields:e,onChange:T,permissions:F.fields}),i.length===0?null:uo("div",{className:"render-fields",children:i.map((E,$)=>{let{value:{field:j,fieldPermissions:N,path:P}}=E;return uo(Aa,{clientFieldConfig:j,indexPath:"",parentPath:"",parentSchemaPath:"",path:P,permissions:N},`${P}-${$}`)})}),uo("div",{className:`${$o}__sidebar-wrap`,children:uo("div",{className:`${$o}__sidebar`,children:uo("div",{className:`${$o}__sidebar-sticky-wrap`,children:uo("div",{className:`${$o}__document-actions`,children:r?.versions?.drafts?Sf(TR.Fragment,{children:[uo(k8,{action:`${f}${d}/${r.slug}${_}&draft=true`,disabled:i.length===0}),uo($8,{action:`${f}${d}/${r.slug}${_}&draft=true`,disabled:i.length===0})]}):uo(L8,{action:`${f}${d}/${r.slug}${_}`,disabled:i.length===0})})})})})]})]})})})};var $o="edit-many",b1=t=>{let e=j8(10),{collection:o}=t,{slug:n}=o,{permissions:r}=Re(),{openModal:s}=ce(),{selectAll:i}=oo(),{t:l}=k(),a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[0]=a):a=e[0];let[c,u]=M8(a),d=r?.collections?.[n],f=`edit-${n}`;if(i===vo.None||!d?.update)return null;let m;if(e[1]!==f||e[2]!==s||e[3]!==t.collection||e[4]!==c||e[5]!==l){let h;e[7]!==f||e[8]!==s?(h=()=>{s(f),u([])},e[7]=f,e[8]=s,e[9]=h):h=e[9],m=O8("div",{className:$o,children:[If("button",{"aria-label":l("general:edit"),className:`${$o}__toggle`,onClick:h,type:"button",children:l("general:edit")}),If(Ns,{children:If(Lt,{Header:null,slug:f,children:If(LR,{collection:t.collection,drawerSlug:f,selectedFields:c,setSelectedFields:u})})})]}),e[1]=f,e[2]=s,e[3]=t.collection,e[4]=c,e[5]=l,e[6]=m}else m=e[6];return m};import{c as B8}from"react/compiler-runtime";import{jsx as V8}from"react/jsx-runtime";import"react";function G8(t){let e=B8(6),o=lt(),n;e[0]!==t.style?(n=t.style||{},e[0]=t.style,e[1]=n):n=e[1];let r=`calc(100 + ${o||0} + 1)`,s;return e[2]!==t||e[3]!==n||e[4]!==r?(s=V8(Uo,{...t,style:{...n,zIndex:r}}),e[2]=t,e[3]=n,e[4]=r,e[5]=s):s=e[5],s}import{c as W8}from"react/compiler-runtime";import{jsx as Rf,jsxs as H8}from"react/jsx-runtime";import z8 from"react";function v1(t){let e=W8(12),{highlightField:o,setKey:n}=t,{id:r}=Te(),{toggleModal:s}=ce(),{t:i}=k(),l=`generate-confirmation-${r}`,a;e[0]!==o||e[1]!==n||e[2]!==i?(a=()=>{n(),me.success(i("authentication:newAPIKeyGenerated")),o(!0)},e[0]=o,e[1]=n,e[2]=i,e[3]=a):a=e[3];let c=a,u;e[4]!==l||e[5]!==s?(u=()=>{s(l)},e[4]=l,e[5]=s,e[6]=u):u=e[6];let d;return e[7]!==c||e[8]!==l||e[9]!==i||e[10]!==u?(d=H8(z8.Fragment,{children:[Rf(se,{buttonStyle:"secondary",onClick:u,size:"small",children:i("authentication:generateNewAPIKey")}),Rf(It,{body:Rf(wi,{elements:{1:X8},i18nKey:"authentication:generatingNewAPIKeyWillInvalidate",t:i}),confirmLabel:i("authentication:generate"),heading:i("authentication:confirmGeneration"),modalSlug:l,onConfirm:c})]}),e[7]=c,e[8]=l,e[9]=i,e[10]=u,e[11]=d):d=e[11],d}function X8(t){let{children:e}=t;return Rf("strong",{children:e})}import{c as U8}from"react/compiler-runtime";import{useEffect as Y8}from"react";function Z8(t){let e=U8(4),{permissions:o}=t,{setPermissions:n}=Re(),r,s;return e[0]!==o||e[1]!==n?(r=()=>{n(o)},s=[o,n],e[0]=o,e[1]=n,e[2]=r,e[3]=s):(r=e[2],s=e[3]),Y8(r,s),null}import{jsx as Ht,jsxs as Ef}from"react/jsx-runtime";import{getTranslation as Xa}from"@payloadcms/translations";import{validateWhereQuery as EV}from"payload/shared";import PV,{Fragment as v_,useEffect as x_,useRef as y_,useState as NV}from"react";import{jsx as x1,jsxs as J8}from"react/jsx-runtime";import"react";var y1="dots",$R=({ariaLabel:t,className:e,noBackground:o,orientation:n="vertical"})=>J8("div",{"aria-label":t,className:[e,y1,o&&`${y1}--no-background`,n&&`${y1}--${n}`].filter(Boolean).join(" "),children:[x1("div",{}),x1("div",{}),x1("div",{})]});import{jsx as kR}from"react/jsx-runtime";import{useEffect as jR,useRef as OR,useState as q8}from"react";import{usePathname as Q8}from"next/navigation.js";var MR="search-filter",C1=t=>{let{handleChange:e,initialParams:o,label:n}=t,r=Q8(),[s,i]=q8(typeof o?.search=="string"?o?.search:void 0),l=OR(!0),a=OR(typeof o?.search=="string"?o?.search:void 0),c=Zo(s,300);return jR(()=>{o?.search!==a.current&&(l.current=!1,i(o?.search),a.current=o?.search)},[o?.search,r]),jR(()=>{c!==a.current&&l.current&&(e&&e(c),a.current=c)},[c,e]),kR("div",{className:MR,children:kR("input",{"aria-label":n,className:`${MR}__input`,id:"search-filter-input",onChange:u=>{l.current=!0,i(u.target.value)},placeholder:n,type:"text",value:s||""})})};import{jsx as Mn,jsxs as fu}from"react/jsx-runtime";import{getTranslation as wV}from"@payloadcms/translations";import{transformWhereQuery as SV,validateWhereQuery as i_}from"payload/shared";import Ff,{useMemo as a_}from"react";import{jsx as jn,jsxs as T1}from"react/jsx-runtime";import{useCallback as t_,useEffect as hV,useState as gV}from"react";import{jsx as uu}from"react/jsx-runtime";import"react";import{jsx as BR}from"react/jsx-runtime";import"react";var K8="condition-value-date",w1=({disabled:t,field:{admin:e},onChange:o,value:n})=>{let{date:r}=e||{};return BR("div",{className:K8,children:BR(Qi,{...r,onChange:o,readOnly:t,value:n})})};import{c as eV}from"react/compiler-runtime";import{jsx as VR}from"react/jsx-runtime";import GR from"react";var tV="condition-value-number",S1=t=>{let e=eV(18),{disabled:o,field:n,onChange:r,operator:s,value:i}=t,{hasMany:l}=n,{t:a}=k(),c;e[0]!==l||e[1]!==s?(c=["in","not_in"].includes(s)||l,e[0]=l,e[1]=s,e[2]=c):c=e[2];let u=c,d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=[],e[3]=d):d=e[3];let[f,m]=GR.useState(d),h;e[4]!==u||e[5]!==r?(h=x=>{let y;x?u&&(Array.isArray(x)?y=x.map(oV):y=[Number(x.value?.value||x.value)]):y=[],r(y)},e[4]=u,e[5]=r,e[6]=h):h=e[6];let p=h,g,b;e[7]!==i?(g=()=>{Array.isArray(i)?m(i.map(rV)):m([])},b=[i],e[7]=i,e[8]=g,e[9]=b):(g=e[8],b=e[9]),GR.useEffect(g,b);let v;return e[10]!==o||e[11]!==u||e[12]!==r||e[13]!==p||e[14]!==a||e[15]!==i||e[16]!==f?(v=u?VR(mt,{disabled:o,isClearable:!0,isCreatable:!0,isMulti:u,isSortable:!0,numberOnly:!0,onChange:p,options:[],placeholder:a("general:enterAValue"),value:f||[]}):VR("input",{className:tV,disabled:o,onChange:x=>r(x.target.value),placeholder:a("general:enterAValue"),type:"number",value:i}),e[10]=o,e[11]=u,e[12]=r,e[13]=p,e[14]=a,e[15]=i,e[16]=f,e[17]=v):v=e[17],v};function oV(t){return Number(t.value?.value||t.value)}function rV(t,e){return{id:`${t}${e}`,label:`${t}`,value:{toString:()=>`${t}${e}`,value:t?.value||t}}}import{jsx as XR,jsxs as sV}from"react/jsx-runtime";import*as JR from"qs-esm";import UR,{useCallback as _f,useEffect as YR,useReducer as iV,useState as I1}from"react";import{getTranslation as WR}from"@payloadcms/translations";var HR=t=>t.reduce((e,o)=>o.options?[...e,...HR(o.options)]:[...e,o.id],[]),nV=(t,e)=>{switch(e.type){case"ADD":{let{collection:o,data:n,hasMultipleRelations:r,i18n:s,relation:i}=e,l=o.admin.useAsTitle||"id",a=HR(t);if(!r)return[...t,...n.docs.reduce((f,m)=>a.indexOf(m.id)===-1?(a.push(m.id),[...f,{label:m[l],value:m.id}]):f,[])];let c=[...t],u=c.find(f=>f.label===WR(o.labels.plural,s)),d=n.docs.reduce((f,m)=>a.indexOf(m.id)===-1?(a.push(m.id),[...f,{label:m[l],relationTo:i,value:m.id}]):f,[]);return u?u.options=[...u.options,...d]:c.push({label:WR(o.labels.plural,s),options:d,value:void 0}),c}case"CLEAR":return e.required?[]:[{label:e.i18n.t("general:none"),value:"null"}];default:return t}},zR=nV;var ZR="condition-value-relationship",aV=10,R1=t=>{let{disabled:e,field:{admin:{isSortable:o}={},hasMany:n,relationTo:r},filterOptions:s,onChange:i,value:l}=t,{config:{routes:{api:a},serverURL:c},getEntityConfig:u}=H(),d=Array.isArray(r),[f,m]=iV(zR,[]),[h,p]=I1(""),g=Zo(h,300),[b,v]=I1(""),[x,y]=I1(!1),{i18n:C,t:S}=k(),w=Pe(),F=d?r:[r],R=UR.useRef(new Map(F.map(N=>[N,{hasLoadedAll:!1,nextPage:1}]))),A=_f((N,P)=>{let L=u({collectionSlug:P});m({type:"ADD",collection:L,data:N,hasMultipleRelations:d,i18n:C,relation:P})},[d,C,u]),D=eo(async({abortController:N,relationSlug:P})=>{let L=R.current.get(P);if(P&&!L.hasLoadedAll){let M=u({collectionSlug:P})?.admin?.useAsTitle||"id",O={and:[]},B={depth:0,limit:aV,locale:w.code,page:L.nextPage,select:{[M]:!0},where:O};s&&s?.[P]&&B.where.and.push(s[P]),g&&B.where.and.push({[M]:{like:g}});try{let G=await fetch(`${c}${a}/${P}${JR.stringify(B,{addQueryPrefix:!0})}`,{credentials:"include",headers:{"Accept-Language":C.language},signal:N.signal});if(G.ok){let X=await G.json();X.docs.length>0&&(A(X,P),X.nextPage?R.current.set(P,{hasLoadedAll:!1,nextPage:X.nextPage}):R.current.set(P,{hasLoadedAll:!0,nextPage:null}))}else v(S("error:unspecific"))}catch(G){N.signal.aborted||console.error(G)}}y(!0)}),_=UR.useCallback(()=>{let N=R.current.entries().next().value;if(N[0]&&!N[1].hasLoadedAll){let P=new AbortController;D({abortController:P,relationSlug:N[0]})}},[]),I=_f(()=>{if(l){if(n)return Array.isArray(l)?l.map(N=>{if(d){let P;return f.forEach(L=>{L.options&&L.options.some(V=>V?.value==N.value?(P=V,!0):!1)}),P}return f.find(P=>P.value==N)}):void 0;if(d){let N,P=l;return f.forEach(L=>{L?.options&&L.options.some(V=>V?.value==P.value?(N=V,!0):!1)}),N}return f.find(N=>N.value==l)}},[n,d,l,f]),T=_f(N=>{if(N!==h){m({type:"CLEAR",i18n:C,required:!1});let P=Array.isArray(r)?r:[r];R.current=new Map(P.map(L=>[L,{hasLoadedAll:!1,nextPage:1}])),p(N)}},[C,r,h]),E=_f(async(N,P)=>{if(!b&&N!=="null"&&N&&P){let L=await fetch(`${c}${a}/${P}/${N}?depth=0`,{credentials:"include",headers:{"Accept-Language":C.language}});if(L.ok){let V=await L.json();A({docs:[V]},P)}else console.error(S("error:loadingDocument",{id:N}))}},[C,A,a,b,c,S]);YR(()=>{let N=Array.isArray(r)?r:[r];R.current=new Map(N.map(L=>[L,{hasLoadedAll:!1,nextPage:1}])),m({type:"CLEAR",i18n:C,required:!1}),y(!1);let P=[];return N.forEach(L=>{let V=new AbortController;D({abortController:V,relationSlug:L}),P.push(V)}),()=>{P.forEach(L=>{if(L.signal)try{L.abort()}catch{}})}},[C,r,g]),YR(()=>{if(l&&x){if(n)(I()||[]).forEach((P,L)=>{P||(d?E(l[L].value,l[L].relationTo):E(l[L],r))});else if(!I())if(d){let P=l;E(P.value,P.relationTo)}else E(l,r)}},[E,I,n,d,r,l,x]);let $=["field-type",ZR,b&&"error-loading"].filter(Boolean).join(" "),j=I()||l;return sV("div",{className:$,children:[!b&&XR(mt,{disabled:e,isMulti:n,isSortable:o,onChange:N=>{if(!N){i(null);return}n&&Array.isArray(N)?i(N?N.map(P=>d?{relationTo:P?.relationTo,value:P?.value}:P?.value):null):d&&!Array.isArray(N)?i({relationTo:N?.relationTo,value:N?.value}):Array.isArray(N)||i(N?.value)},onInputChange:T,onMenuScrollToBottom:_,options:f,placeholder:S("general:selectValue"),value:j}),b&&XR("div",{className:`${ZR}__error-loading`,children:b})]})};import{c as lV}from"react/compiler-runtime";import{jsx as cV}from"react/jsx-runtime";import{getTranslation as _1}from"@payloadcms/translations";import D1 from"react";var F1=t=>{let e=lV(26),{disabled:o,isClearable:n,onChange:r,operator:s,options:i,value:l}=t,{i18n:a}=k(),c;e[0]!==i?(c=Ql(i),e[0]=i,e[1]=c):c=e[1];let[u,d]=D1.useState(c),f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=["in","not_in"],e[2]=f):f=e[2];let m=f.includes(s),h;if(m&&Array.isArray(l)){let S;e[3]!==a||e[4]!==u?(S=w=>{let F=u.find(R=>R.value===w);return{label:F?_1(F.label,a):w,value:F?.value??w}},e[3]=a,e[4]=u,e[5]=S):S=e[5],h=l.map(S)}else if(l){let S,w;if(e[6]!==a||e[7]!==u||e[8]!==l){let F;e[11]!==l?(F=R=>R.value===l,e[11]=l,e[12]=F):F=e[12],S=u.find(F),w=S?_1(S.label,a):l,e[6]=a,e[7]=u,e[8]=l,e[9]=S,e[10]=w}else S=e[9],w=e[10];h={label:w,value:S?.value??l}}let p;e[13]!==m||e[14]!==r?(p=S=>{let w;S?m?Array.isArray(S)?w=S.map(uV):w=[]:w=S.value:w=null,r(w)},e[13]=m,e[14]=r,e[15]=p):p=e[15];let g=p,b,v;e[16]!==i?(b=()=>{d(Ql(i))},v=[i],e[16]=i,e[17]=b,e[18]=v):(b=e[17],v=e[18]),D1.useEffect(b,v);let x,y;e[19]!==m||e[20]!==r||e[21]!==l?(x=()=>{!m&&Array.isArray(l)&&r(l[0])},y=[m,r,l],e[19]=m,e[20]=r,e[21]=l,e[22]=x,e[23]=y):(x=e[22],y=e[23]),D1.useEffect(x,y);let C;return e[24]!==a?(C=S=>({...S,label:_1(S.label,a)}),e[24]=a,e[25]=C):C=e[25],cV(mt,{disabled:o,isClearable:n,isMulti:m,onChange:g,options:u.map(C),value:h})};function uV(t){return t.value}import{c as dV}from"react/compiler-runtime";import{jsx as qR}from"react/jsx-runtime";import QR from"react";var mV="condition-value-text",A1=t=>{let e=dV(18),{disabled:o,field:n,onChange:r,operator:s,value:i}=t,{hasMany:l}=n,{t:a}=k(),c;e[0]!==l||e[1]!==s?(c=["in","not_in"].includes(s)||l,e[0]=l,e[1]=s,e[2]=c):c=e[2];let u=c,d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=[],e[3]=d):d=e[3];let[f,m]=QR.useState(d),h;e[4]!==u||e[5]!==r?(h=x=>{let y;x?u&&(Array.isArray(x)?y=x.map(fV):y=[x.value?.value||x.value]):y=[],r(y)},e[4]=u,e[5]=r,e[6]=h):h=e[6];let p=h,g,b;e[7]!==i?(g=()=>{Array.isArray(i)?m(i.map(pV)):m([])},b=[i],e[7]=i,e[8]=g,e[9]=b):(g=e[8],b=e[9]),QR.useEffect(g,b);let v;return e[10]!==o||e[11]!==u||e[12]!==r||e[13]!==p||e[14]!==a||e[15]!==i||e[16]!==f?(v=u?qR(mt,{disabled:o,isClearable:!0,isCreatable:!0,isMulti:u,isSortable:!0,onChange:p,options:[],placeholder:a("general:enterAValue"),value:f||[]}):qR("input",{className:mV,disabled:o,onChange:x=>r(x.target.value),placeholder:a("general:enterAValue"),type:"text",value:i||""}),e[10]=o,e[11]=u,e[12]=r,e[13]=p,e[14]=a,e[15]=i,e[16]=f,e[17]=v):v=e[17],v};function fV(t){return t.value?.value||t.value}function pV(t,e){return{id:`${t}${e}`,label:`${t}`,value:{toString:()=>`${t}${e}`,value:t?.value||t}}}var KR=({booleanSelect:t,disabled:e,filterOptions:o,internalField:n,onChange:r,operator:s,options:i,value:l})=>{if(t||["radio","select"].includes(n?.field?.type))return uu(F1,{disabled:e,field:n.field,isClearable:!t,onChange:r,operator:s,options:i,value:l});switch(n?.field?.type){case"date":return uu(w1,{disabled:e,field:n.field,onChange:r,operator:s,value:l});case"number":return uu(S1,{disabled:e,field:n.field,onChange:r,operator:s,value:l});case"relationship":return uu(R1,{disabled:e,field:n.field,filterOptions:o,onChange:r,operator:s,value:l});default:return uu(A1,{disabled:e,field:n?.field,onChange:r,operator:s,value:l})}};var e_=t=>({all:"any",contains:"string",equals:"any",exists:"boolean",greater_than:t==="date"?"object":"string",greater_than_equal:t==="date"?"object":"string",in:"any",intersects:"any",less_than:t==="date"?"object":"string",less_than_equal:t==="date"?"object":"string",like:"string",near:"any",not_equals:"any",not_in:"any",not_like:"string",within:"any"});var On="condition",o_=t=>{let{addCondition:e,andIndex:o,fieldName:n,filterOptions:r,operator:s,orIndex:i,reducedFields:l,removeCondition:a,RenderedFilter:c,updateCondition:u,value:d}=t,{t:f}=k(),m=l.find(w=>w.value===n),[h,p]=gV(d),g=Zo(h,300),b=["exists"].includes(s)||m?.field?.type==="checkbox",v=[];b?v=[{label:f("general:true"),value:"true"},{label:f("general:false"),value:"false"}]:m?.field&&"options"in m.field&&(v=m.field.options);let x=eo(async w=>{s&&await u({andIndex:o,field:m,operator:s,orIndex:i,value:w===null?"":w})});hV(()=>{x(g)},[g]);let y=!m?.value&&typeof m?.value!="number"||m?.field?.admin?.disableListFilter,C=t_(async w=>{p(void 0),await u({andIndex:o,field:l.find(F=>F.value===w.value),operator:s,orIndex:i,value:void 0})},[o,s,i,l,u]),S=t_(async w=>{let R=e_(m.field.type)[w.value]||"any",A=R==="any"||typeof d===R||R==="boolean"&&(d==="true"||d==="false");A||p(void 0),await u({andIndex:o,field:m,operator:w.value,orIndex:i,value:A?d:void 0})},[o,m,i,u,d]);return jn("div",{className:On,children:T1("div",{className:`${On}__wrap`,children:[T1("div",{className:`${On}__inputs`,children:[jn("div",{className:`${On}__field`,children:jn(mt,{disabled:y,isClearable:!1,onChange:C,options:l.filter(w=>!w.field.admin.disableListFilter),value:m||{value:m?.value}})}),jn("div",{className:`${On}__operator`,children:jn(mt,{disabled:y,isClearable:!1,onChange:S,options:m?.operators,value:m?.operators.find(w=>s===w.value)||null})}),jn("div",{className:`${On}__value`,children:c||jn(KR,{booleanSelect:b,disabled:!s||!m||m?.field?.admin?.disableListFilter,filterOptions:r,internalField:m,onChange:p,operator:s,options:v,value:h??""})})]}),T1("div",{className:`${On}__actions`,children:[jn(se,{buttonStyle:"icon-label",className:`${On}__actions-remove`,icon:"x",iconStyle:"with-border",onClick:()=>a({andIndex:o,orIndex:i}),round:!0}),jn(se,{buttonStyle:"icon-label",className:`${On}__actions-add`,icon:"plus",iconStyle:"with-border",onClick:()=>e({andIndex:o+1,field:l.find(w=>!w.field.admin?.disableListFilter),orIndex:i,relation:"and"}),round:!0})]})]})})};var E1=[{label:"equals",value:"equals"},{label:"isNotEqualTo",value:"not_equals"}],rr=[...E1,{label:"isIn",value:"in"},{label:"isNotIn",value:"not_in"},{label:"exists",value:"exists"}],r_=[...rr,{label:"isGreaterThan",value:"greater_than"},{label:"isLessThan",value:"less_than"},{label:"isLessThanOrEqualTo",value:"less_than_equal"},{label:"isGreaterThanOrEqualTo",value:"greater_than_equal"}],bV=[...E1,{label:"exists",value:"exists"},{label:"near",value:"near"}],n_={label:"within",value:"within"},s_={label:"intersects",value:"intersects"},du={label:"isLike",value:"like"},mu={label:"isNotLike",value:"not_like"},Wa={label:"contains",value:"contains"},vV={checkbox:{component:"Text",operators:E1},code:{component:"Text",operators:[...rr,du,mu,Wa]},date:{component:"Date",operators:[...rr,...r_]},email:{component:"Text",operators:[...rr,Wa]},json:{component:"Text",operators:[...rr,du,Wa,mu,n_,s_]},number:{component:"Number",operators:[...rr,...r_]},point:{component:"Point",operators:[...bV,n_,s_]},radio:{component:"Select",operators:[...rr]},relationship:{component:"Relationship",operators:[...rr]},richText:{component:"Text",operators:[...rr,du,mu,Wa]},select:{component:"Select",operators:[...rr]},text:{component:"Text",operators:[...rr,du,mu,Wa]},textarea:{component:"Text",operators:[...rr,du,mu,Wa]},upload:{component:"Text",operators:[...rr]}},Di=vV;import{getTranslation as Df}from"@payloadcms/translations";import{fieldIsHiddenOrDisabled as xV,fieldIsID as yV,tabHasName as CV}from"payload/shared";var Ha=({fields:t,i18n:e,labelPrefix:o,pathPrefix:n})=>t.reduce((r,s)=>{if(xV(s)&&!yV(s))return r;if(s.type==="tabs"&&"tabs"in s)return s.tabs.forEach(l=>{if(typeof l.label!="boolean"){let a=Df(l.label,e),c=o?o+" > "+a:a,u=CV(l)&&l.name?n?n+"."+l.name:l.name:n;typeof a=="string"&&r.push(...Ha({fields:l.fields,i18n:e,labelPrefix:c,pathPrefix:u}))}}),r;if(s.type==="row"&&"fields"in s)return r.push(...Ha({fields:s.fields,i18n:e,labelPrefix:o,pathPrefix:n})),r;if(s.type==="collapsible"&&"fields"in s){let i=Df(s.label||"",e),l=o?o+" > "+i:i;return r.push(...Ha({fields:s.fields,i18n:e,labelPrefix:l,pathPrefix:n})),r}if(s.type==="group"&&"fields"in s){let i=Df(s.label||"",e),l=o?i?o+" > "+i:o:i,a=s.name?n?n+"."+s.name:s.name:n;return r.push(...Ha({fields:s.fields,i18n:e,labelPrefix:l,pathPrefix:a})),r}if(typeof Di[s.type]=="object"){let i=new Set,l=Di[s.type].operators.reduce((f,m)=>{if(!i.has(m.value)){i.add(m.value);let h=`operators:${m.label}`;f.push({...m,label:e.t(h)})}return f},[]),a=Df(s.label||"",e),c=o?Nc({field:s,prefix:o}):a,u=n?Fa(n,s):s.name,d={label:c,value:u,...Di[s.type],field:s,operators:l};return r.push(d),r}return r},[]);var sn="where-builder",l_=t=>{let{collectionPluralLabel:e,fields:o,renderedFilters:n,resolvedFilterOptions:r}=t,{i18n:s,t:i}=k(),l=a_(()=>Ha({fields:o,i18n:s}),[o,s]),{handleWhereChange:a,query:c}=Rt(),u=a_(()=>{let h=c.where;if(h){if(i_(h))return h.or;let p=SV(h);if(i_(p))return p.or;console.warn(`Invalid where query in URL: ${JSON.stringify(h)}`)}return[]},[c.where]),d=Ff.useCallback(async({andIndex:h,field:p,orIndex:g,relation:b})=>{let v=[...u],x=Di[p.field.type].operators[0].value;b==="and"?v[g].and.splice(h,0,{[String(p.value)]:{[x]:void 0}}):v.push({and:[{[String(p.value)]:{[x]:void 0}}]}),await a({or:v})},[u,a]),f=Ff.useCallback(async({andIndex:h,field:p,operator:g,orIndex:b,value:v})=>{let x=u[b].and[h],y=Di[p.field.type],C=g||y.operators[0].value;if(typeof x=="object"&&p.value){let S=v??x?.[C],w=S!==x?.[String(p.value)]?.[String(C)],F=C!==Object.keys(x?.[String(p.value)]||{})?.[0];if(w||F){let R={[String(p.value)]:{[C]:S}},A=[...u];A[b].and[h]=R,await a({or:A})}}},[u,a]),m=Ff.useCallback(async({andIndex:h,orIndex:p})=>{let g=[...u];g[p].and.splice(h,1),g[p].and.length===0&&g.splice(p,1),await a({or:g})},[u,a]);return fu("div",{className:sn,children:[u.length>0&&fu(Ff.Fragment,{children:[Mn("div",{className:`${sn}__label`,children:i("general:filterWhere",{label:wV(e,s)})}),Mn("ul",{className:`${sn}__or-filters`,children:u.map((h,p)=>{let g=`${p}_${Array.isArray(h?.and)?h.and.length:""}`;return fu("li",{children:[p!==0&&Mn("div",{className:`${sn}__label`,children:i("general:or")}),Mn("ul",{className:`${sn}__and-filters`,children:Array.isArray(h?.and)&&h.and.map((b,v)=>{let x=u[p].and[v],y=Object.keys(x)[0],C=Object.keys(x?.[y]||{})?.[0]||void 0,S=x?.[y]?.[C]||void 0;return fu("li",{children:[v!==0&&Mn("div",{className:`${sn}__label`,children:i("general:and")}),Mn(o_,{addCondition:d,andIndex:v,fieldName:y,filterOptions:r?.get(y),operator:C,orIndex:p,reducedFields:l,removeCondition:m,RenderedFilter:n?.get(y),updateCondition:f,value:S})]},v)})})]},g)})}),Mn(se,{buttonStyle:"icon-label",className:`${sn}__add-or`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{await d({andIndex:0,field:l[0],orIndex:u.length,relation:"or"})},children:i("general:or")})]}),u.length===0&&fu("div",{className:`${sn}__no-filters`,children:[Mn("div",{className:`${sn}__label`,children:i("general:noFiltersSet")}),Mn(se,{buttonStyle:"icon-label",className:`${sn}__add-first-filter`,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{l.length>0&&await d({andIndex:0,field:l.find(h=>!h.field.admin?.disableListFilter),orIndex:u.length,relation:"or"})},children:i("general:addFilter")})]})]})};import{c as IV}from"react/compiler-runtime";import{jsx as Af,jsxs as RV}from"react/jsx-runtime";import{getTranslation as _V}from"@payloadcms/translations";import{jsx as c_}from"react/jsx-runtime";import"react";var u_=({className:t})=>c_("svg",{className:["icon","icon--people",t].filter(Boolean).join(" "),height:"14",viewBox:"0 0 16 14",width:"16",xmlns:"http://www.w3.org/2000/svg",children:c_("path",{className:"stroke",d:"M12.0002 13C12.0002 11.5855 11.4383 10.229 10.4381 9.22876C9.43787 8.22857 8.08132 7.66667 6.66683 7.66667M6.66683 7.66667C5.25234 7.66667 3.89579 8.22857 2.89559 9.22876C1.8954 10.229 1.3335 11.5855 1.3335 13M6.66683 7.66667C8.50778 7.66667 10.0002 6.17428 10.0002 4.33333C10.0002 2.49238 8.50778 1 6.66683 1C4.82588 1 3.3335 2.49238 3.3335 4.33333C3.3335 6.17428 4.82588 7.66667 6.66683 7.66667ZM14.6668 12.3333C14.6668 10.0867 13.3335 8 12.0002 7C12.4384 6.67118 12.7889 6.23939 13.0205 5.74285C13.2522 5.2463 13.3578 4.70031 13.3282 4.1532C13.2985 3.60609 13.1344 3.07472 12.8505 2.60613C12.5665 2.13754 12.1714 1.74617 11.7002 1.46667",strokeLinecap:"square"})});var pu="active-query-preset";function d_(t){let e=IV(36),{activePreset:o,openPresetListDrawer:n,resetPreset:r}=t,{i18n:s,t:i}=k(),{getEntityConfig:l}=H(),a,c,u,d,f,m,h,p,g,b,v;if(e[0]!==o||e[1]!==l||e[2]!==s||e[3]!==n||e[4]!==i){let y=l({collectionSlug:"payload-query-presets"});c=RV,u=bt;let C=o&&`${pu}--active`,S;e[16]!==C?(S=[pu,C].filter(Boolean),e[16]=C,e[17]=S):S=e[17],p=S.join(" "),g="select-preset",e[18]!==n?(b=()=>{n()},e[18]=n,e[19]=b):b=e[19],v=o?"always-white":"light",e[20]!==o?.isShared?(h=o?.isShared&&Af(u_,{className:`${pu}__shared`}),e[20]=o?.isShared,e[21]=h):h=e[21],f=Af,m="div",a=`${pu}__label-text`,d=o?.title||i("general:selectLabel",{label:_V(y.labels.singular,s)}),e[0]=o,e[1]=l,e[2]=s,e[3]=n,e[4]=i,e[5]=a,e[6]=c,e[7]=u,e[8]=d,e[9]=f,e[10]=m,e[11]=h,e[12]=p,e[13]=g,e[14]=b,e[15]=v}else a=e[5],c=e[6],u=e[7],d=e[8],f=e[9],m=e[10],h=e[11],p=e[12],g=e[13],b=e[14],v=e[15];let x;return e[22]!==o||e[23]!==r||e[24]!==a||e[25]!==c||e[26]!==u||e[27]!==d||e[28]!==f||e[29]!==m||e[30]!==h||e[31]!==p||e[32]!==g||e[33]!==b||e[34]!==v?(x=c(u,{className:p,id:g,onClick:b,pillStyle:v,children:[h,f(m,{className:a,children:d}),o?Af("div",{className:`${pu}__clear`,id:"clear-preset",onClick:async y=>{y.stopPropagation(),await r()},onKeyDown:async y=>{y.stopPropagation(),await r()},role:"button",tabIndex:0,children:Af(ft,{})}):null]}),e[22]=o,e[23]=r,e[24]=a,e[25]=c,e[26]=u,e[27]=d,e[28]=f,e[29]=m,e[30]=h,e[31]=p,e[32]=g,e[33]=b,e[34]=v,e[35]=x):x=e[35],x}import{fieldAffectsData as DV,flattenTopLevelFields as FV}from"payload/shared";var m_=(t,e)=>t?FV(e).filter(n=>DV(n)&&t.includes(n.name)):null;import{jsx as yr,jsxs as AV}from"react/jsx-runtime";import{getTranslation as P1}from"@payloadcms/translations";import{transformColumnsToPreferences as f_,transformColumnsToSearchParams as p_}from"payload/shared";import{Fragment as TV,useCallback as Tf,useMemo as h_}from"react";var g_="confirm-delete-preset",za="payload-query-presets",b_=({activePreset:t,collectionSlug:e,queryPresetPermissions:o})=>{let{modified:n,query:r,refineListData:s,setModified:i}=Rt(),{i18n:l,t:a}=k(),{openModal:c}=ce(),{config:{routes:{api:u}},getEntityConfig:d}=H(),f=d({collectionSlug:za}),[m,,{openDrawer:h}]=Qt({id:t?.id,collectionSlug:za}),[p,,{closeDrawer:g,openDrawer:b}]=Qt({collectionSlug:za}),v=h_(()=>({"payload-query-presets":{relatedCollection:{equals:e}}}),[e]),[x,,{closeDrawer:y,openDrawer:C}]=ai({collectionSlugs:[za],filterOptions:v,selectedCollection:za}),S=Tf(async D=>{await s({columns:D.columns?p_(D.columns):void 0,preset:D.id,where:D.where},!1)},[s]),w=Tf(async()=>{await s({columns:void 0,preset:void 0,where:void 0},!1)},[s]),F=Tf(async()=>{try{await fetch(`${u}/${za}/${t.id}`,{method:"DELETE"}).then(async D=>{try{let _=await D.json();D.status<400?(me.success(a("general:titleDeleted",{label:P1(f?.labels?.singular,l),title:t.title})),await w()):_.errors?_.errors.forEach(I=>me.error(I.message)):me.error(a("error:deletingTitle",{title:t.title}))}catch{me.error(a("error:deletingTitle",{title:t.title}))}})}catch{me.error(a("error:deletingTitle",{title:t.title}))}},[u,t?.id,t?.title,a,f,l,w]),R=Tf(async()=>{try{await fetch(`${u}/payload-query-presets/${t.id}`,{body:JSON.stringify({columns:f_(r.columns),where:r.where}),credentials:"include",headers:{"Content-Type":"application/json"},method:"PATCH"}).then(async D=>{try{let _=await D.json();D.status<400?(me.success(a("general:updatedLabelSuccessfully",{label:P1(f?.labels?.singular,l)})),i(!1)):_.errors?_.errors.forEach(I=>me.error(I.message)):me.error(a("error:unknown"))}catch{me.error(a("error:unknown"))}})}catch{me.error(a("error:unknown"))}},[u,t?.id,r.columns,r.where,a,f?.labels?.singular,l,i]),A=h_(()=>{let D=[yr($u,{label:P1(f?.labels?.plural,l)},"preset-group-label")];return t&&n&&(D.push(yr(Me.Button,{onClick:async()=>{await s({columns:p_(t.columns),where:t.where},!1)},children:a("general:reset")})),o.update&&D.push(yr(Me.Button,{onClick:async()=>{await R()},children:t.isShared?a("general:updateForEveryone"):a("general:save")}))),D.push(yr(Me.Button,{onClick:()=>{b()},children:a("general:createNew")})),t&&o?.delete&&D.push(AV(TV,{children:[yr(Me.Button,{onClick:()=>c(g_),children:a("general:delete")}),yr(Me.Button,{onClick:()=>{h()},children:a("general:edit")})]})),D},[t,o?.delete,o?.update,b,h,c,R,a,s,n,f?.labels?.plural,l]);return{CreateNewPresetDrawer:yr(p,{initialData:{columns:f_(r.columns),relatedCollection:e,where:r.where},onSave:async({doc:D})=>{g(),await S(D)},redirectAfterCreate:!1}),DeletePresetModal:yr(It,{body:yr(wi,{elements:{1:({children:D})=>yr("strong",{children:D})},i18nKey:"general:aboutToDelete",t:a,variables:{label:f?.labels?.singular,title:t?.title}}),confirmingLabel:a("general:deleting"),heading:a("general:confirmDeletion"),modalSlug:g_,onConfirm:F}),EditPresetDrawer:yr(m,{onDelete:()=>{},onDuplicate:async({doc:D})=>{await S(D)},onSave:async({doc:D})=>{await S(D)}}),hasModifiedPreset:n,openPresetListDrawer:C,PresetListDrawer:yr(x,{allowCreate:!1,disableQueryPresets:!0,onSelect:async({doc:D})=>{y(),await S(D)}}),queryPresetMenuItems:A,resetPreset:w}};var Do="list-controls",N1=t=>{let{beforeActions:e,collectionConfig:o,collectionSlug:n,disableQueryPresets:r,enableColumns:s=!0,enableSort:i=!1,listMenuItems:l,queryPreset:a,queryPresetPermissions:c,renderedFilters:u,resolvedFilterOptions:d}=t,{handleSearchChange:f,query:m}=Rt(),{CreateNewPresetDrawer:h,DeletePresetModal:p,EditPresetDrawer:g,hasModifiedPreset:b,openPresetListDrawer:v,PresetListDrawer:x,queryPresetMenuItems:y,resetPreset:C}=b_({activePreset:a,collectionSlug:n,queryPresetPermissions:c}),S=Eb(o),{i18n:w,t:F}=k(),{breakpoints:{s:R}}=Co(),A=(S&&Xa("label"in S&&(typeof S.label=="string"||typeof S.label=="object")?S.label:"name"in S?S.name:null,w))??"ID",D=m_(o.admin.listSearchableFields,o.fields),_=y_(F("general:searchBy",{label:Xa(A,w)})),I=y_(!!m?.where),T=EV(m?.where),[E,$]=NV(T?"where":void 0);x_(()=>{I.current&&!m?.where?I.current=!1:m?.where&&(I.current=!0)},[$,m?.where]),x_(()=>{D?.length>0?_.current=D.reduce((N,P,L)=>{let V="label"in P&&P.label?P.label:"name"in P?P.name:null;return L===0?`${F("general:searchBy",{label:Xa(V,w)})}`:L===D.length-1?`${N} ${F("general:or")} ${Xa(V,w)}`:`${N}, ${Xa(V,w)}`},""):_.current=F("general:searchBy",{label:Xa(A,w)})},[F,D,w,A]);let j=l;return o?.enableQueryPresets&&!r&&y?.length>0&&(j=[...y,l?.length>0?Ht(Me.Divider,{},"divider"):null,...l||[]]),Ef(v_,{children:[Ef("div",{className:Do,children:[Ef("div",{className:`${Do}__wrap`,children:[Ht(Pl,{}),Ht(C1,{fieldName:S&&"name"in S?S?.name:null,handleChange:N=>void f(N),initialParams:m,label:_.current},n),a&&b?Ht("div",{className:`${Do}__modified`,children:"Modified"}):null,Ht("div",{className:`${Do}__buttons`,children:Ef("div",{className:`${Do}__buttons-wrap`,children:[!R&&Ht(PV.Fragment,{children:e&&e}),s&&Ht(bt,{"aria-controls":`${Do}-columns`,"aria-expanded":E==="columns",className:`${Do}__toggle-columns`,icon:Ht(Je,{direction:E==="columns"?"up":"down"}),onClick:()=>$(E!=="columns"?"columns":void 0),pillStyle:"light",children:F("general:columns")}),Ht(bt,{"aria-controls":`${Do}-where`,"aria-expanded":E==="where",className:`${Do}__toggle-where`,icon:Ht(Je,{direction:E==="where"?"up":"down"}),onClick:()=>$(E!=="where"?"where":void 0),pillStyle:"light",children:F("general:filters")}),i&&Ht(bt,{"aria-controls":`${Do}-sort`,"aria-expanded":E==="sort",className:`${Do}__toggle-sort`,icon:Ht(Je,{}),onClick:()=>$(E!=="sort"?"sort":void 0),pillStyle:"light",children:F("general:sort")}),!r&&Ht(d_,{activePreset:a,openPresetListDrawer:v,resetPreset:C}),j&&Array.isArray(j)&&j.length>0&&Ht(po,{button:Ht($R,{ariaLabel:F("general:moreOptions")}),className:`${Do}__popup`,horizontalAlign:"right",id:"list-menu",size:"large",verticalAlign:"bottom",children:Ht(Me.ButtonGroup,{children:j.map((N,P)=>Ht(v_,{children:N},`list-menu-item-${P}`))})})]})})]}),s&&Ht(Fr,{className:`${Do}__columns`,height:E==="columns"?"auto":0,id:`${Do}-columns`,children:Ht(cm,{collectionSlug:o.slug})}),Ht(Fr,{className:`${Do}__where`,height:E==="where"?"auto":0,id:`${Do}-where`,children:Ht(l_,{collectionPluralLabel:o?.labels?.plural,collectionSlug:o.slug,fields:o?.fields,renderedFilters:u,resolvedFilterOptions:d})})]}),x,g,h,p]})};import{c as HV}from"react/compiler-runtime";import{jsx as Fi,jsxs as A_}from"react/jsx-runtime";import{Fragment as zV}from"react";import{jsx as C_,jsxs as LV}from"react/jsx-runtime";import{getTranslation as w_}from"@payloadcms/translations";import{useRouter as $V,useSearchParams as kV}from"next/navigation.js";import*as I_ from"qs-esm";import jV,{useCallback as S_}from"react";var OV="publish-many",L1=t=>{let{clearRouteCache:e}=kn(),{collection:{slug:o,labels:{plural:n,singular:r},versions:s}={}}=t,{config:{routes:{api:i},serverURL:l}}=H(),{permissions:a}=Re(),{i18n:c,t:u}=k(),{getQueryParams:d,selectAll:f}=oo(),m=$V(),h=kV(),{openModal:p}=ce(),b=a?.collections?.[o]?.update,v=`publish-${o}`,x=S_(()=>{me.error(u("error:unknown"))},[u]),y=S_(async()=>{await Ke.patch(`${l}${i}/${o}${d({_status:{not_equals:"published"}})}&draft=true`,{body:JSON.stringify({_status:"published"}),headers:{"Accept-Language":c.language,"Content-Type":"application/json"}}).then(async C=>{try{let S=await C.json(),w=S?.docs.length||0,F=w>1?n:r;return C.status<400||w>0?(me.success(u("general:updatedCountSuccessfully",{count:w,label:w_(F,c)})),S?.errors.length>0&&me.error(S.message,{description:S.errors.map(R=>R.message).join(`
`)}),m.replace(I_.stringify({...$r(h),page:f?"1":void 0},{addQueryPrefix:!0})),e(),null):(S.errors?S.errors.forEach(R=>me.error(R.message)):x(),!1)}catch{return x()}})},[l,i,o,d,c,n,r,u,m,h,f,e,x]);return!s?.drafts||f===vo.None||!b?null:LV(jV.Fragment,{children:[C_("button",{className:`${OV}__toggle`,onClick:()=>{p(v)},type:"button",children:u("version:publish")}),C_(It,{body:u("version:aboutToPublishSelection",{label:w_(n,c)}),cancelLabel:u("general:cancel"),confirmingLabel:u("version:publishing"),confirmLabel:u("general:confirm"),heading:u("version:confirmPublish"),modalSlug:v,onConfirm:y})]})};import{jsx as R_,jsxs as MV}from"react/jsx-runtime";import{getTranslation as __}from"@payloadcms/translations";import{useRouter as BV,useSearchParams as VV}from"next/navigation.js";import*as F_ from"qs-esm";import GV,{useCallback as D_}from"react";var WV="unpublish-many",$1=t=>{let{collection:{slug:e,labels:{plural:o,singular:n},versions:r}={}}=t,{config:{routes:{api:s},serverURL:i}}=H(),{permissions:l}=Re(),{toggleModal:a}=ce(),{i18n:c,t:u}=k(),d=VV(),{getQueryParams:f,selectAll:m}=oo(),h=BV(),{clearRouteCache:p}=kn(),b=l?.collections?.[e]?.update,v=`unpublish-${e}`,x=D_(()=>{me.error(u("error:unknown"))},[u]),y=D_(async()=>{await Ke.patch(`${i}${s}/${e}${f({_status:{not_equals:"draft"}})}`,{body:JSON.stringify({_status:"draft"}),headers:{"Accept-Language":c.language,"Content-Type":"application/json"}}).then(async C=>{try{let S=await C.json(),w=S?.docs.length||0,F=w>1?o:n;return C.status<400||w>0?(me.success(u("general:updatedCountSuccessfully",{count:w,label:__(F,c)})),S?.errors.length>0&&me.error(S.message,{description:S.errors.map(R=>R.message).join(`
`)}),h.replace(F_.stringify({...$r(d),page:m?"1":void 0},{addQueryPrefix:!0})),p(),null):(S.errors?S.errors.forEach(R=>me.error(R.message)):x(),!1)}catch{return x()}})},[i,s,e,f,c,o,n,u,h,d,m,p,x]);return!r?.drafts||m===vo.None||!b?null:MV(GV.Fragment,{children:[R_("button",{className:`${WV}__toggle`,onClick:()=>{a(v)},type:"button",children:u("version:unpublish")}),R_(It,{body:u("version:aboutToUnpublishSelection",{label:__(o,c)}),confirmingLabel:u("version:unpublishing"),heading:u("version:confirmUnpublish"),modalSlug:v,onConfirm:y})]})};var T_="list-selection",hu=t=>{let e=HV(10),{collectionConfig:o,disableBulkDelete:n,disableBulkEdit:r,label:s}=t,{count:i,selectAll:l,toggleAll:a,totalDocs:c}=oo(),{t:u}=k();if(i===0)return null;let d;return e[0]!==o||e[1]!==i||e[2]!==n||e[3]!==r||e[4]!==s||e[5]!==l||e[6]!==u||e[7]!==a||e[8]!==c?(d=A_("div",{className:T_,children:[Fi("span",{children:u("general:selectedCount",{count:i,label:""})}),l!==vo.AllAvailable&&i<c&&Fi("button",{"aria-label":u("general:selectAll",{count:i,label:s}),className:`${T_}__button`,id:"select-all-across-pages",onClick:()=>a(!0),type:"button",children:u("general:selectAll",{count:c,label:""})}),!r&&!n&&Fi("span",{children:"\u2014"}),!r&&A_(zV,{children:[Fi(b1,{collection:o}),Fi(L1,{collection:o}),Fi($1,{collection:o})]}),!n&&Fi(i1,{collection:o})]}),e[0]=o,e[1]=i,e[2]=n,e[3]=r,e[4]=s,e[5]=l,e[6]=u,e[7]=a,e[8]=c,e[9]=d):d=e[9],d};import{jsx as nr,jsxs as Ua,Fragment as XV}from"react/jsx-runtime";import{getTranslation as Ya}from"@payloadcms/translations";import"react";var E_="list-header",Ai="list-drawer",UV=({className:t,collectionConfig:e,Description:o,disableBulkDelete:n,disableBulkEdit:r,hasCreatePermission:s,i18n:i,isBulkUploadEnabled:l,newDocumentURL:a,openBulkUpload:c,smallBreak:u,t:d})=>Ua("header",{className:[E_,t].filter(Boolean).join(" "),children:[nr("h1",{children:Ya(e?.labels?.plural,i)}),s&&Ua(XV,{children:[nr(se,{"aria-label":i.t("general:createNewLabel",{label:Ya(e?.labels?.singular,i)}),buttonStyle:"pill",el:"link",size:"small",to:a,children:i.t("general:createNew")}),l&&nr(se,{"aria-label":d("upload:bulkUpload"),buttonStyle:"pill",onClick:c,size:"small",children:d("upload:bulkUpload")})]}),!u&&nr(hu,{collectionConfig:e,disableBulkDelete:n,disableBulkEdit:r,label:Ya(e?.labels?.plural,i)}),o]}),YV=({Description:t,hasCreatePermission:e,i18n:o,t:n})=>{let{config:{collections:r},getEntityConfig:s}=H(),{closeModal:i}=ce(),{DocumentDrawerToggler:l,drawerSlug:a,enabledCollections:c,selectedOption:u,setSelectedOption:d}=Qr(),f=s({collectionSlug:u.value}),m=r.filter(({slug:p})=>c.includes(p)),h=c.length>1;return Ua("header",{className:`${Ai}__header`,children:[Ua("div",{className:`${Ai}__header-wrap`,children:[Ua("div",{className:`${Ai}__header-content`,children:[nr("h2",{className:`${Ai}__header-text`,children:Ya(f?.labels?.plural,o)}),e&&nr(l,{className:`${Ai}__create-new-button`,children:nr(bt,{children:n("general:createNew")})})]}),nr("button",{"aria-label":n("general:close"),className:`${Ai}__header-close`,onClick:()=>{i(a)},type:"button",children:nr(ft,{})})]}),t,h&&Ua("div",{className:`${Ai}__select-collection-wrap`,children:[nr(ve,{label:n("upload:selectCollectionToBrowse")}),nr(mt,{className:`${E_}__select-collection`,onChange:d,options:m.map(p=>({label:Ya(p.labels.singular,o),value:p.slug})),value:{label:Ya(f?.labels.singular,o),value:f?.slug}})]})]})},k1=t=>{let{isInDrawer:e}=Qr();return e?nr(YV,{...t}):nr(UV,{...t})};import{c as ZV}from"react/compiler-runtime";import{jsx as N_}from"react/jsx-runtime";import{formatAdminURL as JV}from"payload/shared";import"react";import{jsx as P_}from"react/jsx-runtime";import"react";var j1=()=>P_("svg",{className:"icon icon--logout",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:P_("path",{className:"stroke",d:"M12 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12M7.33333 13.3333L4 10M4 10L7.33333 6.66667M4 10H12",strokeLinecap:"square"})});var qV="nav",QV=t=>{let e=ZV(5),{tabIndex:o}=t,n=o===void 0?0:o,{t:r}=k(),{config:s}=H(),{admin:i,routes:l}=s,{routes:a}=i,{logout:c}=a,{admin:u}=l,d;return e[0]!==u||e[1]!==c||e[2]!==r||e[3]!==n?(d=N_(ro,{"aria-label":r("authentication:logOut"),className:`${qV}__log-out`,href:JV({adminRoute:u,path:c}),prefetch:!1,tabIndex:n,title:r("authentication:logOut"),children:N_(j1,{})}),e[0]=u,e[1]=c,e[2]=r,e[3]=n,e[4]=d):d=e[4],d};import{c as KV}from"react/compiler-runtime";import{jsx as Za,jsxs as L_}from"react/jsx-runtime";import eG,{useState as $_}from"react";var Is="nav-group",tG="nav",oG=t=>{let e=KV(21),{children:o,isOpen:n,label:r}=t,[s,i]=$_(typeof n<"u"?!n:!1),[l,a]=$_(!1),{setPreference:c}=Fo(),{navOpen:u}=Ii();if(r){let f;e[0]!==s||e[1]!==r||e[2]!==c?(f=()=>{a(!0);let F={};F?.[r]?F[r].open=!!s:F[r]={open:!!s},c(tG,{groups:F},!0),i(!s)},e[0]=s,e[1]=r,e[2]=c,e[3]=f):f=e[3];let m=f,h=`${r}`,p=s&&`${Is}--collapsed`,g;e[4]!==h||e[5]!==p?(g=[`${Is}`,h,p].filter(Boolean),e[4]=h,e[5]=p,e[6]=g):g=e[6];let b=g.join(" "),v=`nav-group-${r}`,x=`${Is}__toggle--${s?"collapsed":"open"}`,y;e[7]!==x?(y=[`${Is}__toggle`,x].filter(Boolean),e[7]=x,e[8]=y):y=e[8];let C=y.join(" "),S=u?0:-1,w;return e[9]!==l||e[10]!==o||e[11]!==s||e[12]!==r||e[13]!==S||e[14]!==b||e[15]!==v||e[16]!==C||e[17]!==m?(w=L_("div",{className:b,id:v,children:[L_("button",{className:C,onClick:m,tabIndex:S,type:"button",children:[Za("div",{className:`${Is}__label`,children:r}),Za("div",{className:`${Is}__indicator`,children:Za(Je,{className:`${Is}__indicator`,direction:s?void 0:"up"})})]}),Za(Fr,{duration:l?200:0,height:s?0:"auto",children:Za("div",{className:`${Is}__content`,children:o})})]}),e[9]=l,e[10]=o,e[11]=s,e[12]=r,e[13]=S,e[14]=b,e[15]=v,e[16]=C,e[17]=m,e[18]=w):w=e[18],w}let d;return e[19]!==o?(d=Za(eG.Fragment,{children:o}),e[19]=o,e[20]=d):d=e[20],d};import{c as rG}from"react/compiler-runtime";import{jsx as Rs,jsxs as k_}from"react/jsx-runtime";import{collectionDefaults as nG,isNumber as sG}from"payload/shared";import"react";var Ja="per-page",iG=nG.admin.pagination.limits,O1=t=>{let e=rG(9),{defaultLimit:o,handleChange:n,limit:r,limits:s}=t,i=o===void 0?10:o,l=s===void 0?iG:s,{t:a}=k(),c=sG(r)?r:i,u;if(e[0]!==n||e[1]!==c||e[2]!==l||e[3]!==a){let d;e[5]!==n||e[6]!==c||e[7]!==l?(d=f=>{let{close:m}=f;return Rs(Me.ButtonGroup,{children:l.map((h,p)=>k_(Me.Button,{className:[`${Ja}__button`,h===c&&`${Ja}__button-active`].filter(Boolean).join(" "),onClick:()=>{m(),n&&n(h)},children:[h===c&&Rs("div",{className:`${Ja}__chevron`,children:Rs(Je,{direction:"right",size:"small"})}),"\xA0",Rs("span",{children:h})]},p))})},e[5]=n,e[6]=c,e[7]=l,e[8]=d):d=e[8],u=Rs("div",{className:Ja,children:Rs(po,{button:k_("div",{className:`${Ja}__base-button`,children:[Rs("span",{children:a("general:perPage",{limit:c})}),"\xA0",Rs(Je,{className:`${Ja}__icon`})]}),horizontalAlign:"right",render:d,size:"small"})}),e[0]=n,e[1]=c,e[2]=l,e[3]=a,e[4]=u}else u=e[4];return u};import{c as cG}from"react/compiler-runtime";import{jsx as Nf}from"react/jsx-runtime";import{Fragment as O_}from"react";import{jsxs as aG}from"react/jsx-runtime";import"react";function j_(t){return t===void 0||typeof t=="number"?t:decodeURIComponent(t)}var lG="id-label",Pf=({id:t,className:e,prefix:o="ID:"})=>aG("div",{className:[lG,e].filter(Boolean).join(" "),title:t,children:[o,"\xA0",j_(t)]});var M1="render-title",B1=t=>{let e=cG(10),{className:o,element:n,fallback:r,title:s}=t,i=n===void 0?"h1":n,{id:l,isInitializing:a,title:c}=Te(),u=s||c||r,d=u===l,f=i,m;if(e[0]!==f||e[1]!==o||e[2]!==l||e[3]!==d||e[4]!==a||e[5]!==u){let h=Nf(O_,{children:"\xA0"}),p=d&&`${M1}--has-id`,g;e[7]!==o||e[8]!==p?(g=[o,M1,p].filter(Boolean),e[7]=o,e[8]=p,e[9]=g):g=e[9],m=Nf(f,{className:g.join(" "),title:u,children:a?h:Nf(O_,{children:d?Nf(Pf,{className:`${M1}__id`,id:l}):u||h})}),e[0]=f,e[1]=o,e[2]=l,e[3]=d,e[4]=a,e[5]=u,e[6]=m}else m=e[6];return m};import{c as uG}from"react/compiler-runtime";import{jsx as qa,jsxs as M_}from"react/jsx-runtime";import"react";var an="sort-column",dG=t=>{let e=uG(22),{name:o,appearance:n,disable:r,Label:s,label:i}=t,l=r===void 0?!1:r,{handleSortChange:a,query:c}=Rt(),{t:u}=k(),{sort:d}=c,f=`-${o}`,m=o,h;e[0]!==m||e[1]!==d?(h=[`${an}__asc`],d===m&&h.push(`${an}--active`),e[0]=m,e[1]=d,e[2]=h):h=e[2];let p;e[3]!==f||e[4]!==d?(p=[`${an}__desc`],d===f&&p.push(`${an}--active`),e[3]=f,e[4]=d,e[5]=p):p=e[5];let g=n&&`${an}--appearance-${n}`,b;e[6]!==g?(b=[an,g].filter(Boolean),e[6]=g,e[7]=b):b=e[7];let v=b.join(" "),x;e[8]!==s||e[9]!==i?(x=s??qa(ve,{hideLocale:!0,label:i,unstyled:!0}),e[8]=s,e[9]=i,e[10]=x):x=e[10];let y;return e[11]!==m||e[12]!==h||e[13]!==f||e[14]!==p||e[15]!==l||e[16]!==a||e[17]!==i||e[18]!==u||e[19]!==v||e[20]!==x?(y=M_("div",{className:v,children:[qa("span",{className:`${an}__label`,children:x}),!l&&M_("div",{className:`${an}__buttons`,children:[qa("button",{"aria-label":u("general:sortByLabelDirection",{direction:u("general:ascending"),label:i}),className:[...h,`${an}__button`].filter(Boolean).join(" "),onClick:()=>void a(m),type:"button",children:qa(Je,{direction:"up"})}),qa("button",{"aria-label":u("general:sortByLabelDirection",{direction:u("general:descending"),label:i}),className:[...p,`${an}__button`].filter(Boolean).join(" "),onClick:()=>void a(f),type:"button",children:qa(Je,{})})]})]}),e[11]=m,e[12]=h,e[13]=f,e[14]=p,e[15]=l,e[16]=a,e[17]=i,e[18]=u,e[19]=v,e[20]=x,e[21]=y):y=e[21],y};import{jsx as B_}from"react/jsx-runtime";import"react";var mG=t=>{let{className:e}=t;return B_("svg",{className:[e,"icon icon--externalLink"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:B_("path",{className:"stroke",d:"M16 10.6667V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H5.33333C4.97971 16 4.64057 15.8595 4.39052 15.6095C4.14048 15.3594 4 15.0203 4 14.6667V5.33333C4 4.97971 4.14048 4.64057 4.39052 4.39052C4.64057 4.14048 4.97971 4 5.33333 4H9.33333M16 4L10 10M16 4H12M16 4V8",strokeLinecap:"square"})})};import{jsx as V_}from"react/jsx-runtime";import"react";var fG=()=>V_("svg",{"aria-hidden":"true",className:"graphic code-block-icon",focusable:"false",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:V_("path",{className:"stroke",d:"M14 12.6667L16.6667 9.99999L14 7.33332M5.99999 7.33332L3.33333 9.99999L5.99999 12.6667M11.6667 4.66666L8.33333 15.3333",strokeLinecap:"square"})});import{jsx as V1}from"react/jsx-runtime";import"react";var G1="minimize-maximize",pG=({className:t,isMinimized:e})=>{let o=[G1,e?`${G1}--minimized`:`${G1}--maximized`,t].filter(Boolean).join(" ");return V1("svg",{className:o,height:"20",stroke:"currentColor",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:e?V1("path",{d:"M7.33333 4H5.33333C4.97971 4 4.64057 4.14048 4.39052 4.39052C4.14048 4.64057 4 4.97971 4 5.33333V7.33333M16 7.33333V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12.6667M4 12.6667V14.6667C4 15.0203 4.14048 15.3594 4.39052 15.6095C4.64057 15.8595 4.97971 16 5.33333 16H7.33333M12.6667 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V12.6667"}):V1("path",{d:"M7.33333 4V6C7.33333 6.35362 7.19286 6.69276 6.94281 6.94281C6.69276 7.19286 6.35362 7.33333 6 7.33333H4M16 7.33333H14C13.6464 7.33333 13.3072 7.19286 13.0572 6.94281C12.8071 6.69276 12.6667 6.35362 12.6667 6V4M4 12.6667H6C6.35362 12.6667 6.69276 12.8071 6.94281 13.0572C7.19286 13.3072 7.33333 13.6464 7.33333 14V16M12.6667 16V14C12.6667 13.6464 12.8071 13.3072 13.0572 13.0572C13.3072 12.8071 13.6464 12.6667 14 12.6667H16"})})};import{jsx as G_,jsxs as hG}from"react/jsx-runtime";import"react";var W1=()=>hG("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[G_("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-error-500)"}),G_("path",{d:"M15.4001 10.5996L10.6001 15.3996M10.6001 10.5996L15.4001 15.3996",stroke:"var(--theme-error-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as W_,jsxs as gG}from"react/jsx-runtime";import"react";var H1=()=>gG("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[W_("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-elevation-500)"}),W_("path",{d:"M13 16.1998V12.9998M13 9.7998H13.0077",stroke:"var(--theme-elevation-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as H_,jsxs as bG}from"react/jsx-runtime";import"react";var z1=()=>bG("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[H_("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-success-500)"}),H_("path",{d:"M10.6001 13.0004L12.2001 14.6004L15.4001 11.4004",stroke:"var(--theme-success-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as z_,jsxs as vG}from"react/jsx-runtime";import"react";var X1=()=>vG("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[z_("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-warning-500)"}),z_("path",{d:"M13 10V13.2M13 16.4H13.008",stroke:"var(--theme-warning-50)",strokeLinecap:"round",strokeLinejoin:"round"})]});import{c as U_}from"react/compiler-runtime";import{jsx as X_}from"react/jsx-runtime";import Qa from"react";var Y_=Qa.createContext({addClientFunction:()=>null,removeClientFunction:()=>null}),Z_=Qa.createContext({}),U1=t=>{let e=U_(6),{children:o}=t,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];let[r,s]=Qa.useState(n),i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=d=>{s(f=>{let m={...f};return m[d.key]=d.func,m})},e[1]=i):i=e[1];let l=i,a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=d=>{s(f=>{let m={...f};return delete m[d.key],m})},e[2]=a):a=e[2];let c=a,u;return e[3]!==o||e[4]!==r?(u=X_(Y_,{value:{addClientFunction:l,removeClientFunction:c},children:X_(Z_,{value:r,children:o})}),e[3]=o,e[4]=r,e[5]=u):u=e[5],u},xG=(t,e)=>{let o=U_(6),{addClientFunction:n,removeClientFunction:r}=Qa.use(Y_),s,i;o[0]!==n||o[1]!==e||o[2]!==t||o[3]!==r?(s=()=>(n({func:e,key:t}),()=>{r({func:e,key:t})}),i=[e,t,n,r],o[0]=n,o[1]=e,o[2]=t,o[3]=r,o[4]=s,o[5]=i):(s=o[4],i=o[5]),Qa.useEffect(s,i)},yG=()=>Qa.use(Z_);import{c as CG}from"react/compiler-runtime";import{jsx as J_}from"react/jsx-runtime";import wG,{useEffect as SG,useRef as IG}from"react";var q_=200,Y1="progress-bar",RG=150,_G=()=>{let t=CG(9),{isTransitioning:e,transitionProgress:o}=st(),[n,r]=wG.useState(null),s=IG(!0),i,l;if(t[0]!==e||t[1]!==o?(i=()=>{let a,c;return e?s.current?c=setTimeout(()=>{r(o),s.current=!1},RG):r(o):(s.current=!0,r(1),a=setTimeout(()=>{r(null)},q_*2)),()=>{clearTimeout(a),clearTimeout(c)}},l=[e,o],t[0]=e,t[1]=o,t[2]=i,t[3]=l):(i=t[2],l=t[3]),SG(i,l),typeof n=="number"){let a=n===1&&`${Y1}--fade-out`,c;t[4]!==a?(c=[Y1,a].filter(Boolean),t[4]=a,t[5]=c):c=t[5];let u=c.join(" "),d;return t[6]!==n||t[7]!==u?(d=J_("div",{className:u,style:{"--transition-duration":`${q_}ms`},children:J_("div",{className:`${Y1}__progress`,style:{width:`${(n||0)*100}%`}})}),t[6]=n,t[7]=u,t[8]=d):d=t[8],d}return null};import{c as DG}from"react/compiler-runtime";import{jsx as FG}from"react/jsx-runtime";import{createContext as AG,use as TG}from"react";var Q_=AG({}),EG=t=>{let e=DG(6),{children:o,visibleEntities:n}=t,r;e[0]!==n?(r=l=>{let{collectionSlug:a,globalSlug:c}=l;return a?n.collections.includes(a):c?n.globals.includes(c):!1},e[0]=n,e[1]=r):r=e[1];let s=r,i;return e[2]!==o||e[3]!==s||e[4]!==n?(i=FG(Q_,{value:{isEntityVisible:s,visibleEntities:n},children:o}),e[2]=o,e[3]=s,e[4]=n,e[5]=i):i=e[5],i},Z1=()=>TG(Q_);import{c as PG}from"react/compiler-runtime";import{jsx as NG}from"react/jsx-runtime";import{useParams as LG}from"next/navigation.js";import{createContext as $G,use as kG}from"react";var K_=$G({}),J1=t=>{let e=PG(3),{children:o}=t,n=LG(),r;return e[0]!==o||e[1]!==n?(r=NG(K_,{value:n,children:o}),e[0]=o,e[1]=n,e[2]=r):r=e[2],r},jG=()=>kG(K_);import{jsx as Ot,jsxs as rD}from"react/jsx-runtime";import IMe,{Fragment as RMe}from"react";import{useContext as MG}from"react";import{createContext as OG}from"react";var gu=OG({});var bu=()=>MG(gu);import BG,{useCallback as VG,useEffect as GG,useReducer as WG,useRef as HG}from"react";var zG=(t,e)=>{let{timestamp:o,animationRef:n}=e;n.current=null;let{x:r,y:s,xDirection:i,yDirection:l,eventsFired:a,hasScrolled:c}=t,u=c||!!o,d=u?window.pageXOffset:0,f=u?window.pageYOffset:0,m=u?a+1:a,h=d-r,p=f-s,g=d/(document.body.scrollWidth-window.innerWidth)*100,b=f/(document.body.scrollHeight-window.innerHeight)*100,v=(g+b)/2,x=h>0?"right":h<0?"left":i,y=p>0?"down":p<0?"up":l;return{x:d,y:f,xDifference:h,yDifference:p,xDirection:x,yDirection:y,xPercentage:g,yPercentage:b,totalPercentage:v,eventsFired:m,hasScrolled:u}},vu=t=>{let{children:e}=t,o=HG(null),[n,r]=WG(zG,{x:0,y:0,xDifference:0,yDifference:0,xDirection:void 0,yDirection:void 0,xPercentage:0,yPercentage:0,totalPercentage:0,eventsFired:0,hasScrolled:!1}),s=VG(i=>{o.current&&cancelAnimationFrame(o.current),o.current=requestAnimationFrame(l=>{r({e:i,timestamp:l,animationRef:o})})},[]);return GG(()=>(window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}),[s]),BG.createElement(gu.Provider,{value:Object.assign({},n)},e&&e)};import PMe from"react";import{Fragment as nD}from"react";var{WindowInfoProvider:q1}=Xn&&"WindowInfoProvider"in Xn?Xn:{WindowInfoProvider:void 0},{useWindowInfo:Q1}=Xn&&"useWindowInfo"in Xn?Xn:{useWindowInfo:void 0};import{jsx as XG}from"react/jsx-runtime";import{useSearchParams as UG}from"next/navigation.js";import*as Lf from"qs-esm";import eD,{createContext as YG,use as ZG}from"react";var JG={searchParams:{},stringifyParams:()=>""},tD=YG(JG),K1=({children:t})=>{let o=UG().toString(),n=eD.useMemo(()=>Lf.parse(o,{depth:10,ignoreQueryPrefix:!0}),[o]),r=eD.useCallback(({params:s,replace:i=!1})=>Lf.stringify({...i?{}:n,...s},{addQueryPrefix:!0}),[n]);return XG(tD,{value:{searchParams:n,stringifyParams:r},children:t})},qG=()=>ZG(tD);import{jsx as xu}from"react/jsx-runtime";import"react";var oD=()=>xu(H0,{className:"payload-toast-container",closeButton:!0,dir:"undefined",gap:8,icons:{error:xu(W1,{}),info:xu(H1,{}),success:xu(z1,{}),warning:xu(X1,{})},offset:"calc(var(--gutter-h) / 2)",toastOptions:{classNames:{closeButton:"payload-toast-close-button",content:"toast-content",error:"toast-error",icon:"toast-icon",info:"toast-info",success:"toast-success",title:"toast-title",toast:"payload-toast-item",warning:"toast-warning"},unstyled:!0},visibleToasts:5});var QG=({children:t,config:e,dateFNSKey:o,fallbackLang:n,isNavOpen:r,languageCode:s,languageOptions:i,locale:l,permissions:a,serverFunction:c,switchLanguageServerAction:u,theme:d,translations:f,user:m})=>{let h=process.env.NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH==="true"?o1:nD;return rD(nD,{children:[Ot(vg,{serverFunction:c,children:Ot(ap,{children:Ot(h,{children:Ot(Wf,{config:e,children:Ot(U1,{children:Ot(Gf,{dateFNSKey:o,fallbackLang:n,language:s,languageOptions:i,switchLanguageServerAction:u,translations:f,children:Ot(q1,{breakpoints:{l:"(max-width: 1440px)",m:"(max-width: 1024px)",s:"(max-width: 768px)",xs:"(max-width: 400px)"},children:Ot(vu,{children:Ot(K1,{children:Ot(Lp,{classPrefix:"payload",transTime:0,zIndex:"var(--z-modal)",children:rD(Gp,{permissions:a,user:m,children:[Ot(zp,{children:Ot(zf,{theme:d,children:Ot(J1,{children:Ot(Xp,{locale:l,children:Ot(Kb,{children:Ot(n3,{children:Ot(pb,{children:Ot(j4,{initialIsOpen:r,children:Ot(ob,{children:t})})})})})})})})}),Ot(Ep,{}),Ot(Y0,{})]})})})})})})})})})})}),Ot(oD,{})]})};import{jsx as sD,jsxs as KG}from"react/jsx-runtime";import{email as eW,username as tW}from"payload/shared";import"react";function ev(t){let{className:e,loginWithUsername:o,readOnly:n,t:r}=t,s=!o||o?.requireEmail||o?.allowEmailLogin,i=!!o;return KG("div",{className:e,children:[s?sD(oi,{field:{name:"email",admin:{autoComplete:"off"},label:r("general:email"),required:!o||o&&o.requireEmail},path:"email",readOnly:n,schemaPath:"email",validate:eW}):null,i&&sD(di,{field:{name:"username",label:r("authentication:username"),required:o&&o.requireUsername},path:"username",readOnly:n,schemaPath:"username",validate:tW})]})}import{c as oW}from"react/compiler-runtime";import{jsx as rW}from"react/jsx-runtime";import"react";var iD="select-all",nW=()=>{let t=oW(7),{selectAll:e,toggleAll:o}=oo(),{i18n:n}=k(),r;if(t[0]!==n||t[1]!==e||t[2]!==o){let s;t[4]===Symbol.for("react.memo_cache_sentinel")?(s=[iD,`${iD}__checkbox`],t[4]=s):s=t[4];let i;t[5]!==o?(i=()=>o(),t[5]=o,t[6]=i):i=t[6],r=rW(Hs,{"aria-label":e===vo.None?n.t("general:selectAllRows"):n.t("general:deselectAllRows"),checked:e===vo.AllInPage||e===vo.AllAvailable,className:s.join(" "),id:"select-all",name:"select-all",onToggle:i,partialChecked:e===vo.Some}),t[0]=n,t[1]=e,t[2]=o,t[3]=r}else r=t[3];return r};import{c as sW}from"react/compiler-runtime";import{jsx as aD}from"react/jsx-runtime";import"react";var lD="select-row",iW=t=>{let e=sW(14),{rowData:o}=t,{user:n}=Re(),{selected:r,setSelection:s}=oo(),i;e[0]!==o?(i=o||{},e[0]=o,e[1]=i):i=e[1];let{_isLocked:l,_userEditing:a}=i;if(l&&a&&a.id!==n?.id){let p;return e[2]!==a?(p=aD(lu,{user:a}),e[2]=a,e[3]=p):p=e[3],p}let u;e[4]!==o.id||e[5]!==r?(u=r.get(o.id),e[4]=o.id,e[5]=r,e[6]=u):u=e[6];let d=!!u,f;e[7]===Symbol.for("react.memo_cache_sentinel")?(f=[lD,`${lD}__checkbox`],e[7]=f):f=e[7];let m;e[8]!==o.id||e[9]!==s?(m=()=>s(o.id),e[8]=o.id,e[9]=s,e[10]=m):m=e[10];let h;return e[11]!==d||e[12]!==m?(h=aD(Hs,{checked:d,className:f.join(" "),onToggle:m}),e[11]=d,e[12]=m,e[13]=h):h=e[13],h};import{jsx as aW}from"react/jsx-runtime";import"react";var Ka=t=>{let{onClick:e}=t,{count:o,selected:n}=oo();return!n||!o?null:aW(bt,{onClick:()=>{typeof e=="function"&&e(n)},pillStyle:"white",children:`Select ${o}`})};import{c as lW}from"react/compiler-runtime";import{jsx as zt,jsxs as Ti}from"react/jsx-runtime";import{getTranslation as $f}from"@payloadcms/translations";import{useRouter as cW}from"next/navigation.js";import{formatFilesize as uW,isNumber as dW}from"payload/shared";import{Fragment as tv,useEffect as cD,useState as mW}from"react";var Bn="collection-list";function fW(t){let e=lW(17),{AfterList:o,AfterListTable:n,beforeActions:r,BeforeList:s,BeforeListTable:i,collectionSlug:l,columnState:a,Description:c,disableBulkDelete:u,disableBulkEdit:d,disableQueryPresets:f,enableRowSelections:m,hasCreatePermission:h,listMenuItems:p,newDocumentURL:g,queryPreset:b,queryPresetPermissions:v,renderedFilters:x,resolvedFilterOptions:y,Table:C}=t,[S,w]=mW(C),{allowCreate:F,createNewDrawerSlug:R,drawerSlug:A,onBulkSelect:D}=Qr(),_=F!==void 0?F&&h:h,I,T;e[0]!==C?(I=()=>{C&&w(C)},T=[C],e[0]=C,e[1]=I,e[2]=T):(I=e[1],T=e[2]),cD(I,T);let{user:E}=Re(),{getEntityConfig:$}=H(),j=cW(),{data:N,defaultLimit:P,handlePageChange:L,handlePerPageChange:V,query:M}=Rt(),{openModal:O}=ce(),{setCollectionSlug:B,setCurrentActivePath:G,setOnSuccess:X}=Wo(),{drawerSlug:Z}=Wo(),oe=$({collectionSlug:l}),{labels:z,upload:Y}=oe,le=!!Y,J=le&&oe.upload.bulkUpload,ue=!!A,{i18n:te,t:K}=k(),{setStepNav:he}=$n(),{breakpoints:fe}=Q1(),{s:Ne}=fe,be;if(le){let ae;e[3]!==N.docs?(ae=N.docs.map(pW),e[3]=N.docs,e[4]=ae):ae=e[4],be=ae}else be=N.docs;let Xe=be,Q;e[5]!==Z||e[6]!==l||e[7]!==O||e[8]!==j||e[9]!==B||e[10]!==G||e[11]!==X?(Q=()=>{B(l),G(l),O(Z),X(l,()=>j.refresh())},e[5]=Z,e[6]=l,e[7]=O,e[8]=j,e[9]=B,e[10]=G,e[11]=X,e[12]=Q):Q=e[12];let ke=Q;cD(()=>{ue||he([{label:z?.plural}])},[he,z,ue]);let Ce;return e[13]!==r||e[14]!==m||e[15]!==D?(Ce=m&&typeof D=="function"?r?[...r,zt(Ka,{onClick:D},"select-many")]:[zt(Ka,{onClick:D},"select-many")]:r,e[13]=r,e[14]=m,e[15]=D,e[16]=Ce):Ce=e[16],zt(tv,{children:zt(sc,{collectionSlug:l,columnState:a,children:zt("div",{className:`${Bn} ${Bn}--${l}`,children:Ti(s1,{docs:Xe,totalDocs:N.totalDocs,user:E,children:[s,Ti(Mo,{className:`${Bn}__wrap`,children:[zt(k1,{collectionConfig:oe,Description:zt("div",{className:`${Bn}__sub-header`,children:zt(re,{CustomComponent:c,Fallback:zt(Bb,{collectionSlug:l,description:oe?.admin?.description})})}),disableBulkDelete:u,disableBulkEdit:d,hasCreatePermission:_,i18n:te,isBulkUploadEnabled:J&&!Y.hideFileInputOnCreate,newDocumentURL:g,openBulkUpload:ke,smallBreak:Ne,t:K}),zt(N1,{beforeActions:Ce,collectionConfig:oe,collectionSlug:l,disableQueryPresets:oe?.enableQueryPresets!==!0||f,listMenuItems:p,queryPreset:b,queryPresetPermissions:v,renderedFilters:x,resolvedFilterOptions:y}),i,Xe.length>0&&zt(cc,{children:S}),Xe.length===0&&Ti("div",{className:`${Bn}__no-results`,children:[zt("p",{children:te.t("general:noResults",{label:$f(z?.plural,te)})}),_&&g&&zt(tv,{children:ue?zt(se,{el:"button",onClick:()=>O(R),children:te.t("general:createNewLabel",{label:$f(z?.singular,te)})}):zt(se,{el:"link",to:g,children:te.t("general:createNewLabel",{label:$f(z?.singular,te)})})})]}),n,Xe.length>0&&Ti("div",{className:`${Bn}__page-controls`,children:[zt(dc,{hasNextPage:N.hasNextPage,hasPrevPage:N.hasPrevPage,limit:N.limit,nextPage:N.nextPage,numberOfNeighbors:1,onChange:ae=>void L(ae),page:N.page,prevPage:N.prevPage,totalPages:N.totalPages}),N.totalDocs>0&&Ti(tv,{children:[Ti("div",{className:`${Bn}__page-info`,children:[N.page*N.limit-(N.limit-1),"-",N.totalPages>1&&N.totalPages!==N.page?N.limit*N.page:N.totalDocs," ",te.t("general:of")," ",N.totalDocs]}),zt(O1,{handleChange:ae=>void V(ae),limit:dW(M?.limit)?Number(M.limit):P,limits:oe?.admin?.pagination?.limits,resetPage:N.totalDocs<=N.pagingCounter}),Ne&&Ti("div",{className:`${Bn}__list-selection`,children:[zt(hu,{collectionConfig:oe,disableBulkDelete:u,disableBulkEdit:d,label:$f(oe.labels.plural,te)}),zt("div",{className:`${Bn}__list-selection-actions`,children:m&&typeof D=="function"?r?[...r,zt(Ka,{onClick:D},"select-many")]:[zt(Ka,{onClick:D},"select-many")]:r})]})]})]})]}),o]})})})})}function pW(t){return{...t,filesize:uW(t.filesize)}}import{jsx as sr,jsxs as yD}from"react/jsx-runtime";import{useRouter as jW,useSearchParams as OW}from"next/navigation.js";import{formatAdminURL as MW}from"payload/shared";import BW,{Fragment as VW,useCallback as av,useEffect as CD,useMemo as GW,useRef as lv,useState as Of}from"react";import{c as dD}from"react/compiler-runtime";import{jsx as el,jsxs as uD}from"react/jsx-runtime";var mD=t=>{let e=dD(7),{drawerSlug:o}=t,{closeModal:n}=ce(),{t:r}=k(),s;if(e[0]!==n||e[1]!==o||e[2]!==r){let i;e[4]!==n||e[5]!==o?(i=()=>n(o),e[4]=n,e[5]=o,e[6]=i):i=e[6],s=uD(Mo,{className:`${as}__header`,children:[uD("div",{className:`${as}__header-content`,children:[el("h2",{className:`${as}__header-text`,children:el(B1,{element:"span"})}),el("button",{"aria-label":r("general:close"),className:`${as}__header-close`,onClick:i,type:"button",children:el(ft,{})})]}),el(hW,{})]}),e[0]=n,e[1]=o,e[2]=r,e[3]=s}else s=e[3];return s},hW=()=>{let t=dD(3),{id:e,title:o}=Te(),n;return t[0]!==e||t[1]!==o?(n=e&&e!==o?el(Pf,{id:e.toString()}):null,t[0]=e,t[1]=o,t[2]=n):n=t[2],n};import{formatAdminURL as gW}from"payload/shared";var fD=({adminRoute:t,router:e})=>{let o=gW({adminRoute:t,path:"/"});e.push(o)};import{formatAdminURL as bW}from"payload/shared";var pD=({adminRoute:t,collectionSlug:e,router:o})=>{let n=bW({adminRoute:t,path:e?`/collections/${e}`:"/"});o.push(n)};var ov=(t,e,o,n,r,s,i,l,a,c)=>{if(a)try{s(t,e??o,n),r||(l.current.hasShownLockedModal=!0),l.current={hasShownLockedModal:l.current?.hasShownLockedModal,isLocked:!0,user:n},i(n),r&&c&&c(!1)}catch(u){console.error("Error during document takeover:",u)}};import{c as IW}from"react/compiler-runtime";import{jsx as ln,jsxs as yu}from"react/jsx-runtime";import RW,{Fragment as _W,useEffect as DW,useState as FW}from"react";import{jsx as kf,jsxs as rv}from"react/jsx-runtime";import{getTranslation as vW}from"@payloadcms/translations";import{text as xW}from"payload/shared";import yW,{useEffect as hD,useMemo as gD,useState as bD}from"react";var CW="apiKey",wW="api-key",SW="field-type",vD=({enabled:t,readOnly:e})=>{let[o]=bD(yn()),[n,r]=bD(!1),{i18n:s,t:i}=k(),{config:l,getEntityConfig:a}=H(),{collectionSlug:c}=Te(),u=Nt(([y])=>y&&y[CW]||null),d=a({collectionSlug:c})?.fields?.find(y=>"name"in y&&y.name==="apiKey"),f=y=>xW(y,{name:"apiKey",type:"text",blockData:{},data:{},event:"onChange",maxLength:48,minLength:24,path:["apiKey"],preferences:{fields:{}},req:{payload:{config:l},t:i},siblingData:{}}),m=u?.value,h=gD(()=>{let y="API Key";return d?.label&&(y=d.label),vW(y,s)},[d,s]),p=gD(()=>rv("div",{className:`${wW}__label`,children:[kf("span",{children:h}),kf(Oc,{value:m})]}),[h,m]),g=Fe({path:"apiKey",validate:f}),b=()=>{n&&r(!1),setTimeout(()=>{r(!0)},1)},{setValue:v,value:x}=g;return hD(()=>{!m&&t&&v(o),!t&&m&&v(null)},[m,t,v,o]),hD(()=>{n&&setTimeout(()=>{r(!1)},1e4)},[n]),t?rv(yW.Fragment,{children:[rv("div",{className:[SW,"api-key","read-only"].filter(Boolean).join(" "),children:[p,kf("input",{"aria-label":h,className:n?"highlight":void 0,disabled:!0,id:"apiKey",name:"apiKey",type:"text",value:x||""})]}),!e&&kf(v1,{highlightField:b,setKey:()=>v(yn())})]}):null};var jf="auth-fields",xD=t=>{let e=IW(57),{className:o,collectionSlug:n,disableLocalStrategy:r,email:s,loginWithUsername:i,operation:l,readOnly:a,requirePassword:c,setValidateBeforeSubmit:u,useAPIKey:d,username:f,verify:m}=t,{permissions:h}=Re(),[p,g]=FW(c),b=Nt(AW),v=Nt(TW),x=Zt(),{i18n:y,t:C}=k(),{docPermissions:S,isEditing:w,isInitializing:F}=Te(),{config:R}=H(),{routes:A,serverURL:D}=R,{api:_}=A,I=!r||typeof r=="object"&&r.enableFields===!0,T=a||F,E=S?.fields===!0?!0:S?.fields?.enableAPIKey,$=a||E===!0||E&&typeof E=="object"&&!E?.update,j=a||E!==!0&&!E?.update,N=E===!0||E?.read,P;e:{let Y=h?.collections?.[n];if(Y){P=!!("unlock"in Y&&Y.unlock);break e}P=!1}let L=P,V;e[0]!==v||e[1]!==u||e[2]!==C?(V=Y=>{Y?(u(!0),v({type:"UPDATE",errorMessage:C("validation:required"),path:"password",valid:!1}),v({type:"UPDATE",errorMessage:C("validation:required"),path:"confirm-password",valid:!1})):(u(!1),v({type:"REMOVE",path:"password"}),v({type:"REMOVE",path:"confirm-password"})),g(Y)},e[0]=v,e[1]=u,e[2]=C,e[3]=V):V=e[3];let M=V,O;e[4]!==_||e[5]!==n||e[6]!==s||e[7]!==y||e[8]!==i||e[9]!==D||e[10]!==C||e[11]!==f?(O=async()=>{let Y=`${D}${_}/${n}/unlock`;(await fetch(Y,{body:JSON.stringify(i&&f?{username:f}:{email:s}),credentials:"include",headers:{"Accept-Language":y.language,"Content-Type":"application/json"},method:"post"})).status===200?me.success(C("authentication:successfullyUnlocked")):me.error(C("authentication:failedToUnlock"))},e[4]=_,e[5]=n,e[6]=s,e[7]=y,e[8]=i,e[9]=D,e[10]=C,e[11]=f,e[12]=O):O=e[12];let B=O,G,X;if(e[13]!==x?(G=()=>{x||g(!1)},X=[x],e[13]=x,e[14]=G,e[15]=X):(G=e[14],X=e[15]),DW(G,X),r&&!I&&!d)return null;let Z;e[16]!==o?(Z=[jf,o].filter(Boolean),e[16]=o,e[17]=Z):Z=e[17];let oe=Z.join(" "),z;if(e[18]!==$||e[19]!==N||e[20]!==p||e[21]!==n||e[22]!==r||e[23]!==T||e[24]!==S?.fields||e[25]!==b?.value||e[26]!==j||e[27]!==I||e[28]!==M||e[29]!==L||e[30]!==w||e[31]!==i||e[32]!==l||e[33]!==a||e[34]!==c||e[35]!==C||e[36]!==oe||e[37]!==B||e[38]!==d||e[39]!==m){let Y;e[41]!==$||e[42]!==N||e[43]!==n||e[44]!==T||e[45]!==b?.value||e[46]!==j||e[47]!==C||e[48]!==d?(Y=d&&ln("div",{className:`${jf}__api-key`,children:N&&yu(_W,{children:[ln(dr,{field:{name:"enableAPIKey",admin:{disabled:T,readOnly:j},label:C("authentication:enableAPIKey")},path:"enableAPIKey",schemaPath:`${n}.enableAPIKey`}),ln(vD,{enabled:!!b?.value,readOnly:$})]})}),e[41]=$,e[42]=N,e[43]=n,e[44]=T,e[45]=b?.value,e[46]=j,e[47]=C,e[48]=d,e[49]=Y):Y=e[49];let le;e[50]!==n||e[51]!==T||e[52]!==w||e[53]!==a||e[54]!==C||e[55]!==m?(le=m&&w&&ln(dr,{field:{name:"_verified",admin:{disabled:T,readOnly:a},label:C("authentication:verified")},path:"_verified",schemaPath:`${n}._verified`}),e[50]=n,e[51]=T,e[52]=w,e[53]=a,e[54]=C,e[55]=m,e[56]=le):le=e[56],z=yu("div",{className:oe,children:[I&&yu(RW.Fragment,{children:[ln(ev,{loginWithUsername:i,operation:l,permissions:S?.fields,readOnly:a,t:C}),(p||c)&&(!r||!I)&&yu("div",{className:`${jf}__changing-password`,children:[ln(Qc,{autoComplete:"new-password",field:{name:"password",label:C("authentication:newPassword"),required:!0},indexPath:"",parentPath:"",parentSchemaPath:"",path:"password",schemaPath:"password"}),ln(qc,{disabled:a})]}),yu("div",{className:`${jf}__controls`,children:[p&&!c&&ln(se,{buttonStyle:"secondary",disabled:T,onClick:()=>M(!1),size:"medium",children:C("general:cancel")}),!p&&!c&&!r&&ln(se,{buttonStyle:"secondary",disabled:T,id:"change-password",onClick:()=>M(!0),size:"medium",children:C("authentication:changePassword")}),l==="update"&&L&&ln(se,{buttonStyle:"secondary",disabled:T,onClick:()=>void B(),size:"medium",children:C("authentication:forceUnlock")})]})]}),Y,le]}),e[18]=$,e[19]=N,e[20]=p,e[21]=n,e[22]=r,e[23]=T,e[24]=S?.fields,e[25]=b?.value,e[26]=j,e[27]=I,e[28]=M,e[29]=L,e[30]=w,e[31]=i,e[32]=l,e[33]=a,e[34]=c,e[35]=C,e[36]=oe,e[37]=B,e[38]=d,e[39]=m,e[40]=z}else z=e[40];return z};function AW(t){let[e]=t;return e&&e?.enableAPIKey||null}function TW(t){return t[1]}import{c as EW}from"react/compiler-runtime";import{getTranslation as PW}from"@payloadcms/translations";import{formatAdminURL as nv}from"payload/shared";import{useEffect as NW}from"react";var sv=t=>{let e=EW(20),{id:o,collectionSlug:n,globalSlug:r,pluralLabel:s,useAsTitle:i}=t,l=t?.view||void 0,{isEditing:a,isInitializing:c,title:u}=Te(),{isEntityVisible:d}=Z1(),f;e[0]!==n||e[1]!==r||e[2]!==d?(f=d({collectionSlug:n,globalSlug:r}),e[0]=n,e[1]=r,e[2]=d,e[3]=f):f=e[3];let m=f,{setStepNav:h}=$n(),{i18n:p,t:g}=k(),{config:b}=H(),{routes:v}=b,{admin:x}=v,y,C;return e[4]!==x||e[5]!==n||e[6]!==r||e[7]!==p||e[8]!==o||e[9]!==a||e[10]!==c||e[11]!==m||e[12]!==s||e[13]!==h||e[14]!==g||e[15]!==u||e[16]!==i||e[17]!==l?(y=()=>{let S=[];c||(n?(S.push({label:PW(s,p),url:m?nv({adminRoute:x,path:`/collections/${n}`}):void 0}),a?S.push({label:i&&i!=="id"&&u||`${o}`,url:m?nv({adminRoute:x,path:`/collections/${n}/${o}`}):void 0}):S.push({label:g("general:createNew")})):r&&S.push({label:u,url:m?nv({adminRoute:x,path:`/globals/${r}`}):void 0}),l&&S.push({label:l}),h(S))},C=[h,c,a,s,o,i,x,g,p,u,n,r,l,m],e[4]=x,e[5]=n,e[6]=r,e[7]=p,e[8]=o,e[9]=a,e[10]=c,e[11]=m,e[12]=s,e[13]=h,e[14]=g,e[15]=u,e[16]=i,e[17]=l,e[18]=y,e[19]=C):(y=e[18],C=e[19]),NW(y,C),null};import{c as LW}from"react/compiler-runtime";import{useEffect as $W,useRef as kW}from"react";var iv=t=>{let e=LW(13),{collectionConfig:o,config:n,fallback:r,globalConfig:s}=t,i=o?.admin?.useAsTitle,l;e[0]!==i?(l=b=>{let[v]=b;return i&&v&&v?.[i]||null},e[0]=i,e[1]=l):l=e[1];let a=Nt(l),c=kW(!1),{i18n:u}=k(),{setDocumentTitle:d}=Te(),f=n?.admin?.dateFormat,m;e[2]!==o||e[3]!==f||e[4]!==r||e[5]!==a||e[6]!==s||e[7]!==u?(m=ur({collectionConfig:o,data:{id:""},dateFormat:f,fallback:typeof a=="string"?a:typeof a=="number"?String(a):a?.value||r,globalConfig:s,i18n:u}),e[2]=o,e[3]=f,e[4]=r,e[5]=a,e[6]=s,e[7]=u,e[8]=m):m=e[8];let h=m,p,g;return e[9]!==d||e[10]!==h?(p=()=>{if(!c.current){c.current=!0;return}d(h)},g=[d,h],e[9]=d,e[10]=h,e[11]=p,e[12]=g):(p=e[11],g=e[12]),$W(p,g),null};var Mf="collection-edit";function WW({Description:t,PreviewButton:e,PublishButton:o,SaveButton:n,SaveDraftButton:r,Upload:s}){let{id:i,action:l,AfterDocument:a,AfterFields:c,apiURL:u,BeforeFields:d,collectionSlug:f,currentEditor:m,disableActions:h,disableCreate:p,disableLeaveWithoutSaving:g,docPermissions:b,documentIsLocked:v,getDocPermissions:x,getDocPreferences:y,globalSlug:C,hasPublishPermission:S,hasSavePermission:w,incrementVersionCount:F,initialState:R,isEditing:A,isInitializing:D,lastUpdateTime:_,redirectAfterCreate:I,redirectAfterDelete:T,redirectAfterDuplicate:E,savedDocumentData:$,setCurrentEditor:j,setDocumentIsLocked:N,unlockDocument:P,updateDocumentEditor:L,updateSavedDocumentData:V}=Te(),{clearDoc:M,drawerSlug:O,onDelete:B,onDuplicate:G,onSave:X}=ac(),Z=!!O,{refreshCookieAsync:oe,user:z}=Re(),{config:Y,config:{admin:{user:le},routes:{admin:J}},getEntityConfig:ue}=H(),te=ue({collectionSlug:f}),K=ue({globalSlug:C}),he=lt(),fe=jW(),Ne=OW(),{reportUpdate:be}=fi(),{resetUploadEdits:Xe}=Ws(),{getFormState:Q}=Ft(),{startRouteTransition:ke}=st(),Ce=lv(null),ae=lv(null),ie=Ne.get("locale"),U=te?.slug||K?.slug,ne=f&&!i?"create":"update",de=te?te.auth:void 0,Ae=te?te.upload:void 0,We=te||K,Le=We?.lockDocuments!==void 0?We?.lockDocuments:!0,Ve=Le!==!1,ut=(typeof Le=="object"?Le.duration:300)*1e3,Mt=!!(te?.versions?.drafts&&te?.versions?.drafts?.autosave||K?.versions?.drafts&&K?.versions?.drafts?.autosave),Ue=typeof g<"u"?!g:!Mt,[He,qe]=Of(!1),[vt,Et]=Of(!1),[Ct,Qe]=Of(Date.now()),Pt=_+ut,ge=Date.now()>Pt,q=lv({hasShownLockedModal:!1,isLocked:!1,user:null}),W=[Mf,(i||C)&&`${Mf}--is-editing`];C&&W.push(`global-edit--${C}`),f&&W.push(`collection-edit--${f}`);let ee=GW(()=>[U],[U]),[pe,De]=Of(()=>!!(ne==="create"&&de&&!de.disableLocalStrategy)),Ee=av(Ze=>{N(!0);let Dt=typeof q.current?.user=="object"?q.current?.user?.id:q.current?.user;if(Ze){let mo=typeof Ze.user=="string"||typeof Ze.user=="number"?Ze.user:Ze.user.id;(!q.current||mo!==Dt)&&(Dt===z.id&&mo!==z.id&&(Et(!0),q.current.hasShownLockedModal=!0),q.current={hasShownLockedModal:q.current?.hasShownLockedModal||!1,isLocked:!0,user:Ze.user},j(Ze.user))}},[j,N,z?.id]),we=av(async Ze=>{let Dt=tr(ae),mo=Ze?.doc||Ze?.result;if(be({id:i,entitySlug:U,updatedAt:mo?.updatedAt||new Date().toISOString()}),z&&f===le&&i===z.id&&oe(),F(),typeof V=="function"&&V(mo||{}),typeof X=="function"){let fo=i?"update":"create";X({...Ze,operation:fo,updatedAt:fo==="update"?new Date().toISOString():mo?.updatedAt||new Date().toISOString()})}if(!A&&he<2&&I!==!1){let fo=MW({adminRoute:J,path:`/collections/${f}/${mo?.id}${ie?`?locale=${ie}`:""}`});ke(()=>fe.push(fo))}else Xe();if(await x(Ze),(i||C)&&!Mt){let fo=await y(),{state:Vn}=await Q({id:i,collectionSlug:f,data:mo,docPermissions:b,docPreferences:fo,globalSlug:C,operation:ne,renderAllFields:!0,returnLockStatus:!1,schemaPath:ee.join("."),signal:Dt.signal,skipValidation:!0});return Ve&&N(!1),ae.current=null,Vn}},[be,i,U,z,f,le,F,V,X,A,he,x,C,Mt,oe,J,ie,fe,Xe,y,Q,b,ne,ee,Ve,N,ke,I]),ze=av(async({formState:Ze,submitted:Dt})=>{let mo=tr(Ce),fo=Date.now(),Vn=fo-Ct,je=Ve&&Vn>=1e4;je&&Qe(fo);let xo=await y(),{lockedState:zo,state:Ut}=await Q({id:i,collectionSlug:f,docPermissions:b,docPreferences:xo,formState:Ze,globalSlug:C,operation:ne,skipValidation:!Dt,renderAllFields:!1,returnLockStatus:Ve,schemaPath:ee.join("."),signal:mo.signal,updateLastEdited:je});return Ve&&Ee(zo),Ce.current=null,Ut},[i,f,y,Q,C,Ee,Ve,ne,ee,b,Ct]);CD(()=>()=>{Ve&&v&&(i||C)&&!["preview","api","versions"].some(Dt=>window.location.pathname.includes(Dt))&&(typeof q.current?.user=="object"?q.current?.user?.id===z?.id:q.current?.user===z?.id)&&(P(i,f??C),N(!1),j(null)),Et(!1)},[f,C,i,P,z,j,Ve,v,N]),CD(()=>{let Ze=Ce.current,Dt=ae.current;return()=>{er(Ze),er(Dt)}},[]);let Xt=v&&m&&(typeof m=="object"?m.id!==z?.id:m!==z?.id)&&!He&&!vt&&!q.current?.hasShownLockedModal&&!ge;return sr("main",{className:W.filter(Boolean).join(" "),children:sr(Il,{operation:ne,children:yD(Dn,{action:l,className:`${Mf}__form`,disabled:He||D||!w,disableValidationOnSubmit:!pe,initialState:!D&&R,isDocumentForm:!0,isInitializing:D,method:i?"PATCH":"POST",onChange:[ze],onSuccess:we,children:[Z&&sr(mD,{drawerSlug:O}),Ve&&Xt&&!He&&sr(Mb,{handleGoBack:()=>pD({adminRoute:J,collectionSlug:f,router:fe}),isActive:Xt,onReadOnly:()=>{qe(!0),Et(!1)},onTakeOver:()=>ov(i,f,C,z,!1,L,j,q,Ve),updatedAt:_,user:m}),Ve&&vt&&sr(Ob,{handleBackToDashboard:()=>fD({adminRoute:J,router:fe}),isActive:vt,onReadOnly:()=>{qe(!0),Et(!1)}}),!He&&Ue&&sr(Kc,{}),!Z&&sr(sv,{collectionSlug:te?.slug,globalSlug:K?.slug,id:i,pluralLabel:te?.labels?.plural,useAsTitle:te?.admin?.useAsTitle}),sr(iv,{collectionConfig:te,config:Y,fallback:he<=1?i?.toString():void 0,globalConfig:K}),sr(h1,{apiURL:u,customComponents:{PreviewButton:e,PublishButton:o,SaveButton:n,SaveDraftButton:r},data:$,disableActions:h,disableCreate:p,hasPublishPermission:S,hasSavePermission:w,id:i,isEditing:A,onDelete:B,onDrawerCreateNew:M,onDuplicate:G,onSave:we,onTakeOver:()=>ov(i,f,C,z,!0,L,j,q,Ve,qe),permissions:b,readOnlyForIncomingUser:He,redirectAfterDelete:T,redirectAfterDuplicate:E,slug:te?.slug||K?.slug,user:m}),sr(kc,{AfterFields:c,BeforeFields:d||yD(VW,{children:[de&&sr(xD,{className:`${Mf}__auth`,collectionSlug:te.slug,disableLocalStrategy:te.auth?.disableLocalStrategy,email:$?.email,loginWithUsername:de?.loginWithUsername,operation:ne,readOnly:!w,requirePassword:!i,setValidateBeforeSubmit:De,useAPIKey:de.useAPIKey,username:$?.username,verify:de.verify}),Ae&&sr(BW.Fragment,{children:s||sr(wb,{collectionSlug:te.slug,initialState:R,uploadConfig:Ae})})]}),Description:t,docPermissions:b,fields:We.fields,readOnly:He||!w,schemaPathSegments:ee}),a]})})})}import{jsx as HW}from"react/jsx-runtime";import"react";var zW="field-diff-label",XW=({children:t})=>HW("div",{className:zW,children:t});export{Hb as Account,MB as ActionsProvider,h7 as AppHeader,Zc as ArrayField,Gp as AuthProvider,Sr as Banner,Nl as BlocksDrawer,Ll as BlocksField,jI as BulkUploadDrawer,Ib as BulkUploadProvider,se as Button,FD as CalendarIcon,b7 as Card,ih as CheckIcon,dr as CheckboxField,Hs as CheckboxInput,Je as ChevronIcon,U1 as ClientFunctionProvider,Xb as CloseMenuIcon,fG as CodeBlockIcon,_D as CodeEdiftor,$l as CodeEditorLazy,kl as CodeField,Xs as Collapsible,Ol as CollapsibleField,Wf as ConfigProvider,qc as ConfirmPasswordField,It as ConfirmationModal,Al as CopyIcon,t1 as CopyLocaleData,Oc as CopyToClipboard,w1 as DateCondition,AD as DatePicker,ec as DateTimeField,bh as DefaultBlockImage,uc as DefaultCell,WW as DefaultEditView,fW as DefaultListView,i1 as DeleteMany,h1 as DocumentControls,pb as DocumentEventsProvider,kc as DocumentFields,Sl as DocumentInfoProvider,Mb as DocumentLocked,Ob as DocumentTakeOver,xn as DragHandleIcon,Lt as Drawer,cr as DrawerToggler,mi as Dropzone,Ns as EditDepthProvider,Ir as EditIcon,b1 as EditMany,hb as EditUpload,ev as EmailAndUsernameFields,oi as EmailField,EG as EntityVisibilityProvider,W1 as ErrorIcon,so as ErrorPill,mG as ExternalLinkIcon,Be as FieldDescription,XW as FieldDiffLabel,Ge as FieldError,ve as FieldLabel,hm as File,xb as FileDetails,Dn as Form,K9 as FormLoadingOverlayToggle,Xr as FormSubmit,G8 as FullscreenModal,v1 as GenerateConfirmation,tc as GroupField,Mo as Gutter,Zb as Hamburger,oc as HiddenField,Z8 as HydrateAuthProvider,H1 as InfoIcon,fc as JSONField,mc as JoinField,Kc as LeaveWithoutSaving,ah as LineIcon,ro as Link,cp as LinkIcon,N1 as ListControls,pg as ListDrawerContextProvider,k1 as ListHeader,bg as ListQueryProvider,hu as ListSelection,wn as LoadingOverlay,i3 as LoadingOverlayToggle,Xp as LocaleProvider,lu as Locked,j1 as LogOutIcon,QV as Logout,Ub as MenuIcon,pG as MinimizeMaximizeIcon,Uo as Modal,dh as MoreIcon,oG as NavGroup,Qb as NavToggler,Fl as NullifyLocaleField,S1 as NumberCondition,pc as NumberField,Il as OperationProvider,zM as OrderableTable,dc as Pagination,J1 as ParamsProvider,Qc as PasswordField,gf as PayloadIcon,O1 as PerPage,bt as Pill,ko as PlusIcon,hc as PointField,po as Popup,Me as PopupList,zp as PreferencesProvider,a1 as PreviewButton,yb as PreviewSizes,_G as ProgressBar,d1 as PublishButton,L1 as PublishMany,eB as QueryPresetsAccessCell,sB as QueryPresetsColumnField,ZM as QueryPresetsColumnsCell,QM as QueryPresetsWhereCell,cB as QueryPresetsWhereField,vc as RadioGroupField,mt as ReactSelect,R1 as RelationshipCondition,Sc as RelationshipField,cc as RelationshipProvider,Og as RelationshipTable,re as RenderCustomComponent,KL as RenderDefaultCell,So as RenderFields,B1 as RenderTitle,Ic as RichTextField,QG as RootProvider,o1 as RouteCacheProvider,ap as RouteTransitionProvider,Rc as RowField,cn as RowLabel,np as RowLabelProvider,m1 as SaveButton,f1 as SaveDraftButton,vu as ScrollInfoProvider,C1 as SearchFilter,Pl as SearchIcon,K1 as SearchParamsProvider,vh as SectionTitle,mt as Select,nW as SelectAll,F1 as SelectCondition,_c as SelectField,Sa as SelectInput,Ka as SelectMany,iW as SelectRow,s1 as SelectionProvider,vg as ServerFunctionsProvider,sv as SetDocumentStepNav,iv as SetDocumentTitle,l7 as SetStepNav,St as ShimmerEffect,dG as SortColumn,BM as SortHeader,GM as SortRow,SD as StaggeredShimmers,z1 as SuccessIcon,up as SwapIcon,ib as TabComponent,l1 as Table,sc as TableColumnsProvider,Tc as TabsField,dg as TabsProvider,A1 as TextCondition,di as TextField,lb as TextInput,Ec as TextareaField,cb as TextareaInput,zf as ThemeProvider,jr as Thumbnail,Kl as TimezonePicker,ho as Tooltip,wi as Translation,Gf as TranslationProvider,Pc as UIField,$1 as UnpublishMany,wb as Upload,th as UploadEditsProvider,Yc as UploadField,ob as UploadHandlersProvider,tf as UploadInput,Bb as ViewDescription,X1 as WarningIcon,Ys as WatchChildErrors,sh as WatchCondition,q1 as WindowInfoProvider,ft as XIcon,xM as allFieldComponents,ID as defaultTheme,as as documentDrawerBaseClass,ye as fieldBaseClass,QI as fieldComponents,Fc as fieldReducer,jp as formatDrawerSlug,$r as parseSearchParams,me as toast,zb as useActions,xG as useAddClientFunction,ki as useAllFormFields,Re as useAuth,Wo as useBulkUpload,MI as useBulkUploadDrawerSlug,Pg as useCellProps,yG as useClientFunctions,qn as useCollapsible,H as useConfig,Zo as useDebounce,Xg as useDebouncedCallback,tb as useDebouncedEffect,Hf as useDelay,wg as useDelayedRender,Qt as useDocumentDrawer,ac as useDocumentDrawerContext,fi as useDocumentEvents,$i as useDocumentForm,Te as useDocumentInfo,bl as useDrawerSlug,lt as useEditDepth,eo as useEffectEvent,Z1 as useEntityVisibility,Fe as useField,Oe as useForm,rp as useFormBackgroundProcessing,Nt as useFormFields,Ts as useFormInitializing,Zt as useFormModified,ar as useFormProcessing,Yt as useFormSubmitted,yi as useHotkey,un as useIntersect,ai as useListDrawer,Qr as useListDrawerContext,Rt as useListQuery,_g as useListRelationships,Pe as useLocale,ce as useModal,Ii as useNav,qo as useOperation,jG as useParams,EM as usePayloadAPI,Fo as usePreferences,$M as useResize,kn as useRouteCache,st as useRouteTransition,HD as useRowLabel,bu as useScrollInfo,qG as useSearchParams,oo as useSelection,Ft as useServerFunctions,$n as useStepNav,pa as useTableColumns,RD as useTheme,Bs as useThrottledEffect,k as useTranslation,Ws as useUploadEdits,Dc as useUploadHandlers,Eb as useUseTitleField,Lu as useWatchForm,Q1 as useWindowInfo,$e as withCondition};
/*! Bundled license information:

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

is-buffer/index.js:
  (*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 7.5.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/
//# sourceMappingURL=index.js.map
