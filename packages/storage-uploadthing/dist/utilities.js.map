{"version":3,"sources":["../src/utilities.ts"],"sourcesContent":["/**\n * Extract '_key' value from the doc safely\n */\nexport const getKeyFromFilename = (doc: unknown, filename: string) => {\n  if (\n    doc &&\n    typeof doc === 'object' &&\n    'filename' in doc &&\n    doc.filename === filename &&\n    '_key' in doc\n  ) {\n    return doc._key as string\n  }\n  if (doc && typeof doc === 'object' && 'sizes' in doc) {\n    const sizes = doc.sizes\n    if (typeof sizes === 'object' && sizes !== null) {\n      for (const size of Object.values(sizes)) {\n        if (size?.filename === filename && '_key' in size) {\n          return size._key as string\n        }\n      }\n    }\n  }\n}\n"],"names":["getKeyFromFilename","doc","filename","_key","sizes","size","Object","values"],"mappings":"AAAA;;CAEC,GACD,OAAO,MAAMA,qBAAqB,CAACC,KAAcC;IAC/C,IACED,OACA,OAAOA,QAAQ,YACf,cAAcA,OACdA,IAAIC,QAAQ,KAAKA,YACjB,UAAUD,KACV;QACA,OAAOA,IAAIE,IAAI;IACjB;IACA,IAAIF,OAAO,OAAOA,QAAQ,YAAY,WAAWA,KAAK;QACpD,MAAMG,QAAQH,IAAIG,KAAK;QACvB,IAAI,OAAOA,UAAU,YAAYA,UAAU,MAAM;YAC/C,KAAK,MAAMC,QAAQC,OAAOC,MAAM,CAACH,OAAQ;gBACvC,IAAIC,MAAMH,aAAaA,YAAY,UAAUG,MAAM;oBACjD,OAAOA,KAAKF,IAAI;gBAClB;YACF;QACF;IACF;AACF,EAAC"}