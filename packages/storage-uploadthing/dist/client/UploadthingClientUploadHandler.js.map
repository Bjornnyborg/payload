{"version":3,"sources":["../../src/client/UploadthingClientUploadHandler.ts"],"sourcesContent":["'use client'\nimport { createClientUploadHandler } from '@payloadcms/plugin-cloud-storage/client'\nimport { genUploader } from 'uploadthing/client'\n\nexport const UploadthingClientUploadHandler = createClientUploadHandler({\n  handler: async ({ apiRoute, collectionSlug, file, serverHandlerPath, serverURL }) => {\n    const { uploadFiles } = genUploader({\n      package: 'storage-uploadthing',\n      url: `${serverURL}${apiRoute}${serverHandlerPath}?collectionSlug=${collectionSlug}`,\n    })\n\n    const res = await uploadFiles('uploader', {\n      files: [file],\n    })\n\n    return { key: res[0].key }\n  },\n})\n"],"names":["createClientUploadHandler","genUploader","UploadthingClientUploadHandler","handler","apiRoute","collectionSlug","file","serverHandlerPath","serverURL","uploadFiles","package","url","res","files","key"],"mappings":"AAAA;AACA,SAASA,yBAAyB,QAAQ,0CAAyC;AACnF,SAASC,WAAW,QAAQ,qBAAoB;AAEhD,OAAO,MAAMC,iCAAiCF,0BAA0B;IACtEG,SAAS,OAAO,EAAEC,QAAQ,EAAEC,cAAc,EAAEC,IAAI,EAAEC,iBAAiB,EAAEC,SAAS,EAAE;QAC9E,MAAM,EAAEC,WAAW,EAAE,GAAGR,YAAY;YAClCS,SAAS;YACTC,KAAK,GAAGH,YAAYJ,WAAWG,kBAAkB,gBAAgB,EAAEF,gBAAgB;QACrF;QAEA,MAAMO,MAAM,MAAMH,YAAY,YAAY;YACxCI,OAAO;gBAACP;aAAK;QACf;QAEA,OAAO;YAAEQ,KAAKF,GAAG,CAAC,EAAE,CAACE,GAAG;QAAC;IAC3B;AACF,GAAE"}