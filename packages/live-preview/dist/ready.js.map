{"version":3,"sources":["../src/ready.ts"],"sourcesContent":["export const ready = (args: { serverURL: string }): void => {\n  const { serverURL } = args\n\n  if (typeof window !== 'undefined') {\n    // This subscription may have been from either an iframe or a popup\n    // We need to report 'ready' to the parent window, whichever it may be\n    // i.e. `window?.opener` for popups, `window?.parent` for iframes\n    const windowToPostTo: Window = window?.opener || window?.parent\n\n    windowToPostTo?.postMessage(\n      {\n        type: 'payload-live-preview',\n        ready: true,\n      },\n      serverURL,\n    )\n  }\n}\n"],"names":["ready","args","serverURL","window","windowToPostTo","opener","parent","postMessage","type"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,CAACC;IACpB,MAAM,EAAEC,SAAS,EAAE,GAAGD;IAEtB,IAAI,OAAOE,WAAW,aAAa;QACjC,mEAAmE;QACnE,sEAAsE;QACtE,iEAAiE;QACjE,MAAMC,iBAAyBD,QAAQE,UAAUF,QAAQG;QAEzDF,gBAAgBG,YACd;YACEC,MAAM;YACNR,OAAO;QACT,GACAE;IAEJ;AACF,EAAC"}