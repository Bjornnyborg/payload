"use client";import{a as xe,c as _o,d as To,e as wo}from"./chunk-TMS3LIBB.js";import{a as st}from"./chunk-DBWINSQN.js";import{a as lt,b as Ot,c as Ve}from"./chunk-FSKAVN4P.js";import{a as Ce}from"./chunk-INBEEENE.js";import{a as ca}from"./chunk-F26IQ5RE.js";import{a as ae,c as Pr,d as Br,e as ua,f as da,h as ma,j as pa,k as fa}from"./chunk-DOZWITPU.js";import{a as aa,b as j}from"./chunk-BZZVLW4U.js";function Q(t){return{items:t,key:"basic",label:({i18n:e})=>e.t("lexical:general:slashMenuBasicGroupLabel")}}import{$isElementNode as ye,$isRangeSelection as $t,FORMAT_ELEMENT_COMMAND as Pt}from"lexical";import{jsx as ko,jsxs as ha}from"react/jsx-runtime";import"react";var Hr=()=>ha("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[ko("path",{d:"M2.5 5H17.5",stroke:"currentColor",strokeWidth:"1.5"}),ko("path",{d:"M2.5 10H17.5",stroke:"currentColor",strokeWidth:"1.5"}),ko("path",{d:"M5 15H15",stroke:"currentColor",strokeWidth:"1.5"})]});import{jsx as Eo,jsxs as ga}from"react/jsx-runtime";import"react";var jr=()=>ga("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[Eo("path",{d:"M2.5 5H17.5",stroke:"currentColor",strokeWidth:"1.5"}),Eo("path",{d:"M2.5 10H17.5",stroke:"currentColor",strokeWidth:"1.5"}),Eo("path",{d:"M2.5 15H17.5",stroke:"currentColor",strokeWidth:"1.5"})]});import{jsx as No,jsxs as Ca}from"react/jsx-runtime";import"react";var Ft=()=>Ca("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[No("path",{d:"M2.5 5H17.5",stroke:"currentColor",strokeWidth:"1.5"}),No("path",{d:"M2.5 10H17.5",stroke:"currentColor",strokeWidth:"1.5"}),No("path",{d:"M2.5 15H12.5",stroke:"currentColor",strokeWidth:"1.5"})]});import{jsx as Lo,jsxs as xa}from"react/jsx-runtime";import"react";var Ur=()=>xa("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[Lo("path",{d:"M2.5 5H17.5",stroke:"currentColor",strokeWidth:"1.5"}),Lo("path",{d:"M2.5 10H17.5",stroke:"currentColor",strokeWidth:"1.5"}),Lo("path",{d:"M7.5 15H17.5",stroke:"currentColor",strokeWidth:"1.5"})]});var y=t=>o=>{let r={clientFeatureProps:o};if(typeof t=="function")r.feature=({config:n,featureClientImportMap:i,featureClientSchemaMap:l,featureProviderMap:s,field:u,resolvedFeatures:c,schemaPath:d,unSanitizedEditorConfig:a})=>{let p=t({config:n,featureClientImportMap:i,featureClientSchemaMap:l,featureProviderMap:s,field:u,props:o,resolvedFeatures:c,schemaPath:d,unSanitizedEditorConfig:a});return p.sanitizedClientFeatureProps===null&&(p.sanitizedClientFeatureProps=o),p};else{let n={...t};n.sanitizedClientFeatureProps=o,r.feature=n}return r};var Gr=t=>({type:"dropdown",ChildComponent:Ft,items:t,key:"align",order:30});var Wr=[Gr([{ChildComponent:Ft,isActive:({selection:t})=>{if(!$t(t))return!1;for(let e of t.getNodes()){if(ye(e)&&e.getFormatType()==="left")continue;let o=e.getParent();if(!(ye(o)&&o.getFormatType()==="left"))return!1}return!0},key:"alignLeft",label:({i18n:t})=>t.t("lexical:align:alignLeftLabel"),onSelect:({editor:t})=>{t.dispatchCommand(Pt,"left")},order:1},{ChildComponent:Hr,isActive:({selection:t})=>{if(!$t(t))return!1;for(let e of t.getNodes()){if(ye(e)&&e.getFormatType()==="center")continue;let o=e.getParent();if(!(ye(o)&&o.getFormatType()==="center"))return!1}return!0},key:"alignCenter",label:({i18n:t})=>t.t("lexical:align:alignCenterLabel"),onSelect:({editor:t})=>{t.dispatchCommand(Pt,"center")},order:2},{ChildComponent:Ur,isActive:({selection:t})=>{if(!$t(t))return!1;for(let e of t.getNodes()){if(ye(e)&&e.getFormatType()==="right")continue;let o=e.getParent();if(!(ye(o)&&o.getFormatType()==="right"))return!1}return!0},key:"alignRight",label:({i18n:t})=>t.t("lexical:align:alignRightLabel"),onSelect:({editor:t})=>{t.dispatchCommand(Pt,"right")},order:3},{ChildComponent:jr,isActive:({selection:t})=>{if(!$t(t))return!1;for(let e of t.getNodes()){if(ye(e)&&e.getFormatType()==="justify")continue;let o=e.getParent();if(!(ye(o)&&o.getFormatType()==="justify"))return!1}return!0},key:"alignJustify",label:({i18n:t})=>t.t("lexical:align:alignJustifyLabel"),onSelect:({editor:t})=>{t.dispatchCommand(Pt,"justify")},order:4}])],ba=y({toolbarFixed:{groups:Wr},toolbarInline:{groups:Wr}});import{$createQuoteNode as Yr,$isQuoteNode as zr,QuoteNode as wa}from"@lexical/rich-text";import{$setBlocksType as qr}from"@lexical/selection";import{$getSelection as Qr,$isRangeSelection as ka}from"lexical";import{jsx as Vr}from"react/jsx-runtime";import"react";var So=()=>Vr("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Vr("path",{d:"M13.5353 10.5725C13.5353 9.47709 11.0456 9.99991 11.0456 7.85883C11.0456 6.46464 12.1162 5.61816 13.361 5.61816C14.805 5.61816 16 6.86298 16 8.92937C16 11.2945 14.4564 13.7841 11.1203 14.3816L10.8216 13.1368C12.888 12.4895 13.5353 11.4937 13.5353 10.5725ZM6.71369 10.5725C6.71369 9.47709 4.22407 9.99991 4.22407 7.85883C4.22407 6.46464 5.29461 5.61816 6.53942 5.61816C7.9834 5.61816 9.17842 6.86298 9.17842 8.92937C9.17842 11.2945 7.63485 13.7841 4.29876 14.3816L4 13.1368C6.06639 12.4895 6.71369 11.4937 6.71369 10.5725Z",fill:"currentColor"})});import{jsx as Kr}from"react/jsx-runtime";import"react";var at=()=>Kr("svg",{"aria-hidden":"true",className:"icon",fill:"currentColor",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Kr("path",{d:"M11.708 14.5H7.79785V13.9414H8.01367C9.00391 13.9414 9.15625 13.9033 9.15625 13.6113V6.70508H8.07715C6.82031 6.70508 6.73145 7.08594 6.28711 8.67285H5.80469L5.91895 6.12109H13.5869L13.7012 8.67285H13.2188C12.7744 7.08594 12.6855 6.70508 11.4287 6.70508H10.3496V13.6113C10.3496 13.9033 10.502 13.9414 11.4922 13.9414H11.708V14.5Z",fill:"currentColor"})});var ne=t=>({type:"dropdown",ChildComponent:at,items:t,key:"text",order:25});import{$createQuoteNode as _a,$isQuoteNode as Jr,QuoteNode as Ta}from"@lexical/rich-text";var Xr={type:"element",dependencies:[Ta],export:(t,e)=>{if(!Jr(t))return null;let o=e(t).split(`
`),r=[];for(let n of o)r.push("> "+n);return r.join(`
`)},regExp:/^>\s/,replace:(t,e,o,r)=>{if(r){let i=t.getPreviousSibling();if(Jr(i)){i.splice(i.getChildrenSize(),0,[...e]),i.select(0,0),t.remove();return}}let n=_a();n.append(...e),t.replace(n),n.select(0,0)}};var Zr=[ne([{ChildComponent:So,isActive:({selection:t})=>{if(!ka(t))return!1;for(let e of t.getNodes())if(!zr(e)&&!zr(e.getParent()))return!1;return!0},key:"blockquote",label:({i18n:t})=>t.t("lexical:blockquote:label"),onSelect:({editor:t})=>{t.update(()=>{let e=Qr();qr(e,()=>Yr())})},order:20}])],Ea=y({markdownTransformers:[Xr],nodes:[wa],slashMenu:{groups:[Q([{Icon:So,key:"blockquote",keywords:["quote","blockquote"],label:({i18n:t})=>t.t("lexical:blockquote:label"),onSelect:({editor:t})=>{t.update(()=>{let e=Qr();qr(e,()=>Yr())})}}])]},toolbarFixed:{groups:Zr},toolbarInline:{groups:Zr}});import{getTranslation as Kt}from"@payloadcms/translations";import{jsx as Ro,jsxs as Na}from"react/jsx-runtime";import"react";var Bt=()=>Na("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[Ro("rect",{height:"4",rx:"0.5",stroke:"currentColor",width:"4",x:"8",y:"5"}),Ro("rect",{height:"4",rx:"0.5",stroke:"currentColor",width:"4",x:"5",y:"11"}),Ro("rect",{height:"4",rx:"0.5",stroke:"currentColor",width:"4",x:"11",y:"11"})]});import{jsx as en}from"react/jsx-runtime";import"react";var Ht=()=>en("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:en("path",{clipRule:"evenodd",d:"M5.33333 6.5C5.11232 6.5 4.90036 6.5878 4.74408 6.74408C4.5878 6.90036 4.5 7.11232 4.5 7.33333V12.1667C4.5 12.3877 4.5878 12.5996 4.74408 12.7559C4.90036 12.9122 5.11232 13 5.33333 13H14.6667C14.8877 13 15.0996 12.9122 15.2559 12.7559C15.4122 12.5996 15.5 12.3877 15.5 12.1667V11.6667C15.5 11.3905 15.7239 11.1667 16 11.1667C16.2761 11.1667 16.5 11.3905 16.5 11.6667V12.1667C16.5 12.6529 16.3068 13.1192 15.963 13.463C15.6192 13.8068 15.1529 14 14.6667 14H5.33333C4.8471 14 4.38079 13.8068 4.03697 13.463C3.69315 13.1192 3.5 12.6529 3.5 12.1667V7.33333C3.5 6.8471 3.69315 6.38079 4.03697 6.03697C4.38079 5.69315 4.8471 5.5 5.33333 5.5H10.3333C10.6095 5.5 10.8333 5.72386 10.8333 6C10.8333 6.27614 10.6095 6.5 10.3333 6.5H5.33333ZM13 6.5C12.7239 6.5 12.5 6.27614 12.5 6C12.5 5.72386 12.7239 5.5 13 5.5H16C16.2761 5.5 16.5 5.72386 16.5 6V9C16.5 9.27614 16.2761 9.5 16 9.5C15.7239 9.5 15.5 9.27614 15.5 9V7.20711L13.3536 9.35355C13.1583 9.54882 12.8417 9.54882 12.6464 9.35355C12.4512 9.15829 12.4512 8.84171 12.6464 8.64645L14.7929 6.5H13ZM6.16699 8.33325C6.16699 8.05711 6.39085 7.83325 6.66699 7.83325H11.0003C11.2765 7.83325 11.5003 8.05711 11.5003 8.33325C11.5003 8.60939 11.2765 8.83325 11.0003 8.83325H6.66699C6.39085 8.83325 6.16699 8.60939 6.16699 8.33325ZM6.16699 10.9999C6.16699 10.7238 6.39085 10.4999 6.66699 10.4999H13.3337C13.6098 10.4999 13.8337 10.7238 13.8337 10.9999C13.8337 11.2761 13.6098 11.4999 13.3337 11.4999H6.66699C6.39085 11.4999 6.16699 11.2761 6.16699 10.9999Z",fill:"currentColor",fillRule:"evenodd"})});import{jsx as La}from"react/jsx-runtime";import"react";function jt(t,e){return t?()=>La("img",{alt:e??"Block Image",className:"lexical-block-custom-image",src:t,style:{maxHeight:20,maxWidth:20}}):Bt}import{jsx as oc}from"react/jsx-runtime";import rc from"bson-objectid";import"react";import{DecoratorBlockNode as Sa}from"@lexical/react/LexicalDecoratorBlockNode.js";import Ra from"bson-objectid";var ct=class extends Sa{__cacheBuster;__fields;constructor({cacheBuster:e,fields:o,format:r,key:n}){super(r,n),this.__fields=o,this.__cacheBuster=e||0}static clone(e){return new this({cacheBuster:e.__cacheBuster,fields:e.__fields,format:e.__format,key:e.__key})}static getType(){return"block"}static importDOM(){return{}}static importJSON(e){e.version===1&&(e={...e,fields:{...e.fields.data},version:2});let o=Ia(e.fields);return o.setFormat(e.format),o}static isInline(){return!1}decorate(e,o){return null}exportDOM(){let e=document.createElement("div"),o=document.createTextNode(this.getTextContent());return e.append(o),{element:e}}exportJSON(){return{...super.exportJSON(),type:"block",fields:this.getFields(),version:2}}getCacheBuster(){return this.getLatest().__cacheBuster}getFields(){return this.getLatest().__fields}getTextContent(){return"Block Field"}setFields(e,o){let r=this.getWritable();r.__fields=e,o||r.__cacheBuster++}};function Ia(t){return new ct({fields:{...t,id:t?.id||new Ra.default().toHexString()}})}import{jsx as z,jsxs as ut,Fragment as Fa}from"react/jsx-runtime";import{Button as nn,Collapsible as $a,Drawer as Pa,EditDepthProvider as Ba,ErrorPill as Ha,Form as ja,formatDrawerSlug as Ua,FormSubmit as Ga,Pill as Wa,RenderFields as Va,SectionTitle as Ka,useConfig as Ja,useDocumentForm as Xa,useDocumentInfo as ln,useEditDepth as za,useFormSubmitted as Za,useServerFunctions as Ya,useTranslation as qa}from"@payloadcms/ui";import{abortAndIgnore as Io}from"@payloadcms/ui/shared";import{deepCopyObjectSimpleWithoutReactComponents as Gt,reduceFieldsToValues as sn}from"payload/shared";import dt,{useCallback as yo,useEffect as vo,useMemo as mt,useRef as Mo}from"react";import{useLexicalComposerContext as Qa}from"@lexical/react/LexicalComposerContext";import{getTranslation as ec}from"@payloadcms/translations";import{$getNodeByKey as Wt}from"lexical";import{v4 as tc}from"uuid";import{c as ya}from"react/compiler-runtime";import{jsx as Ut,jsxs as va}from"react/jsx-runtime";import{RenderFields as Ma,useFormSubmitted as Aa}from"@payloadcms/ui";import Da,{createContext as Oa}from"react";var tn=Oa({initialState:!1}),Oe=()=>Da.use(tn),on=t=>{let e=ya(13),{BlockDrawer:o,Collapsible:r,CustomBlock:n,EditButton:i,errorCount:l,formSchema:s,initialState:u,nodeKey:c,RemoveButton:d}=t,p=Aa()&&l>0,m,f;e[0]!==r||e[1]!==l||e[2]!==p?(f=_=>Ut(r,{editButton:_.editButton,errorCount:l,fieldHasErrors:p,Label:_.Label,removeButton:_.removeButton,children:_.children}),e[0]=r,e[1]=l,e[2]=p,e[3]=f):f=e[3],m=f;let h=m,C;return e[4]!==o||e[5]!==h||e[6]!==n||e[7]!==i||e[8]!==d||e[9]!==s||e[10]!==u||e[11]!==c?(C=n?va(tn,{value:{BlockCollapsible:h,EditButton:i,initialState:u,nodeKey:c,RemoveButton:d},children:[n,Ut(o,{})]}):Ut(h,{children:Ut(Ma,{fields:s,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:"",permissions:!0})}),e[4]=o,e[5]=h,e[6]=n,e[7]=i,e[8]=d,e[9]=s,e[10]=u,e[11]=c,e[12]=C):C=e[12],C};function rn({fields:t}){for(let e in t){let o=t[e];Array.isArray(o?.rows)&&"value"in o&&(o.disableFormData=!0)}return t}var ue="lexical-block",an=t=>{let{cacheBuster:e,formData:o,nodeKey:r}=t,n=Za(),{id:i,collectionSlug:l,globalSlug:s}=ln(),{fieldProps:{featureClientSchemaMap:u,field:c,initialLexicalFormState:d,permissions:a,readOnly:p,schemaPath:m},uuid:f}=j(),{fields:h}=Xa(),C=Mo(new AbortController),_=za(),[R,A]=dt.useState(0),{config:b}=Ja(),T=Ua({slug:`lexical-blocks-create-${f}-${o.id}`,depth:_}),{toggleDrawer:g}=Ce(T),{getDocPreferences:k,setDocFieldPreferences:M}=ln(),[D]=Qa(),{getFormState:P}=Ya(),v=`${m}.lexical_internal_feature.blocks.lexical_blocks.${o.blockType}.fields`,[N,x]=dt.useState(()=>d?.[o.id]?.formState?{...d?.[o.id]?.formState,blockName:{initialValue:o.blockName,passesCondition:!0,valid:!0,value:o.blockName}}:!1),E=Mo(!1),S=Mo(e);vo(()=>{E.current?(S.current!==e&&x(!1),S.current=e):E.current=!0},[e]);let[L,I]=dt.useState(N?._components?.customComponents?.BlockLabel),[w,F]=dt.useState(N?._components?.customComponents?.Block);vo(()=>{let G=new AbortController;return o&&!N&&(async()=>{let{state:J}=await P({id:i,collectionSlug:l,data:o,docPermissions:{fields:!0},docPreferences:await k(),documentFormState:Gt(h),globalSlug:s,initialBlockData:o,operation:"update",renderAllFields:!0,schemaPath:v,signal:G.signal});if(J){J.blockName={initialValue:o.blockName,passesCondition:!0,valid:!0,value:o.blockName};let q=sn(Gt(J),!0);D.update(()=>{let X=Wt(r);if(X&&pt(X)){let se=q;se.blockType=o.blockType,X.setFields(se,!0)}}),x(J),I(J._components?.customComponents?.BlockLabel),F(J._components?.customComponents?.Block)}})(),()=>{Io(G)}},[P,v,i,o,D,r,N,l,s,k,h]);let[$,U]=dt.useState(d?.[o.id]?.collapsed??!1),V=`${m}.lexical_internal_feature.blocks.lexical_blocks.${o.blockType}`,H=u.blocks?.[V]?.[0],W=H.blockReferences?typeof H?.blockReferences?.[0]=="string"?b.blocksMap[H?.blockReferences?.[0]]:H?.blockReferences?.[0]:H?.blocks?.[0],{i18n:te,t:ce}=qa(),Y=yo(async({formState:G,submit:fe})=>{Io(C.current);let J=new AbortController;C.current=J;let{state:q}=await P({id:i,collectionSlug:l,docPermissions:{fields:!0},docPreferences:await k(),documentFormState:Gt(h),formState:G,globalSlug:s,initialBlockFormState:G,operation:"update",renderAllFields:!!fe,schemaPath:v,signal:J.signal});if(!q)return G;G.blockName&&(q.blockName=G.blockName);let X=sn(rn({fields:Gt(q)}),!0);if(setTimeout(()=>{D.update(()=>{let se=Wt(r);if(se&&pt(se)){let We=X;We.blockType=o.blockType,se.setFields(We,!0)}})},0),fe){I(q._components?.customComponents?.BlockLabel),F(q._components?.customComponents?.Block);let se=0;for(let We of Object.values(q))We?.valid===!1&&se++;A(se)}return q},[P,i,l,k,s,v,o.blockType,h,D,r]);vo(()=>()=>{Io(C.current)},[]);let K=yo(()=>{D.update(()=>{Wt(r)?.remove()})},[D,r]),oe=W?.labels?.singular?ec(W.labels.singular,te):W?.slug,re=yo(G=>{k().then(fe=>{let q=fe?.fields?.[c.name]?.collapsed,X=q&&q?.length?q:[];G?X.includes(o.id)||X.push(o.id):X.includes(o.id)&&X.splice(X.indexOf(o.id),1),M(c.name,{collapsed:X,hello:"hi"})})},[k,c.name,M,o.id]),le=mt(()=>()=>z(nn,{buttonStyle:"icon-label",className:`${ue}__editButton`,disabled:p,el:"button",icon:"edit",onClick:G=>(G.preventDefault(),G.stopPropagation(),g(),!1),onMouseDown:G=>{G.preventDefault()},round:!0,size:"small",tooltip:ce("lexical:blocks:inlineBlocks:edit",{label:oe})}),[oe,p,ce,g]),De=mt(()=>()=>z(nn,{buttonStyle:"icon-label",className:`${ue}__removeButton`,disabled:c?.admin?.readOnly||!1,icon:"x",onClick:G=>{G.preventDefault(),K()},round:!0,tooltip:"Remove Block"}),[c?.admin?.readOnly,K]),it=mt(()=>({children:G,disableBlockName:fe,editButton:J,errorCount:q,fieldHasErrors:X,Label:se,removeButton:We})=>z("div",{className:ue+" "+ue+"-"+o.blockType,children:z($a,{className:[`${ue}__row`,X?`${ue}__row--has-errors`:`${ue}__row--no-errors`].join(" "),collapsibleStyle:X?"error":"default",header:ut("div",{className:`${ue}__block-header`,children:[se??L?se??L:ut("div",{children:[z(Wa,{className:`${ue}__block-pill ${ue}__block-pill-${o?.blockType}`,pillStyle:"white",children:oe??o?.blockType}),!fe&&z(Ka,{path:"blockName",readOnly:c?.admin?.readOnly||!1}),X&&z(Ha,{count:q??0,i18n:te,withMessage:!0})]}),ut("div",{children:[w&&J!==!1||!w&&J?z(le,{}):null,We!==!1&&D.isEditable()?z(De,{}):null]})]}),isCollapsed:$,onToggle:$r=>{re($r),U($r)},children:G},0)}),[w,L,le,De,oe,D,o.blockType,te,$,re,c?.admin?.readOnly]),Dt=W?.fields??[],Fr=mt(()=>()=>z(Ba,{children:z(Pa,{className:"",slug:T,title:ce(`lexical:blocks:inlineBlocks:${o?.id?"edit":"create"}`,{label:oe??ce("lexical:blocks:inlineBlocks:label")}),children:N?ut(Fa,{children:[z(Va,{fields:Dt,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:v,permissions:!0,readOnly:!1}),z(Ga,{programmaticSubmit:!0,children:ce("fields:saveChanges")})]}):null})}),[N,T,oe,ce,W?.fields,v,a]),sa=mt(()=>N?z(ja,{beforeSubmit:[async({formState:G})=>await Y({formState:G,submit:!0})],el:"div",fields:Dt,initialState:N,onChange:[Y],onSubmit:(G,fe)=>{fe.blockType=o.blockType,D.update(()=>{let J=Wt(r);J&&pt(J)&&J.setFields(fe,!0)}),g()},submitted:n,uuid:tc(),children:z(on,{baseClass:ue,BlockDrawer:Fr,Collapsible:it,CustomBlock:w,EditButton:le,errorCount:R,formSchema:Dt,initialState:N,nodeKey:r,RemoveButton:De})}):null,[it,Fr,w,Dt,De,le,D,R,g,W?.fields,N,r,Y,n]);return W?sa:z(it,{disableBlockName:!0,fieldHasErrors:!0,children:ut("div",{className:"lexical-block-not-found",children:["Error: Block '",o.blockType,"' not found in the config but exists in the lexical data"]})})};var be=class extends ct{static clone(e){return super.clone(e)}static getType(){return super.getType()}static importJSON(e){e.version===1&&(e={...e,fields:{...e.fields.data},version:2});let o=Vt(e.fields);return o.setFormat(e.format),o}decorate(e,o){return oc(an,{cacheBuster:this.getCacheBuster(),formData:this.getFields(),nodeKey:this.getKey()})}exportJSON(){return super.exportJSON()}};function Vt(t){return new be({fields:{...t,id:t?.id||new rc.default().toHexString()}})}function pt(t){return t instanceof be}import{createCommand as cn}from"lexical";var Ke=cn("INSERT_BLOCK_COMMAND"),Je=cn("INSERT_INLINE_BLOCK_COMMAND");import{c as nc}from"react/compiler-runtime";import{useLexicalComposerContext as ic}from"@lexical/react/LexicalComposerContext.js";import{$insertNodeToNearestRoot as lc,$wrapNodeInElement as sc,mergeRegister as ac}from"@lexical/utils";import{formatDrawerSlug as cc,useEditDepth as uc}from"@payloadcms/ui";import{$createParagraphNode as dc,$getNodeByKey as mc,$getPreviousSelection as pc,$getSelection as fc,$insertNodes as hc,$isParagraphNode as dn,$isRangeSelection as gc,$isRootOrShadowRoot as Cc,COMMAND_PRIORITY_EDITOR as un}from"lexical";import{useEffect as xc,useState as bc}from"react";var mn=()=>{let t=nc(12),[e]=ic(),[o,r]=bc(null),{setCreatedInlineBlock:n,uuid:i}=j(),l=uc(),s="lexical-inlineBlocks-create-"+i,u;t[0]!==l||t[1]!==s?(u=cc({slug:s,depth:l}),t[0]=l,t[1]=s,t[2]=u):u=t[2];let c=u,{toggleDrawer:d}=Ce(c,!0),a;t[3]!==e||t[4]!==n||t[5]!==o?(a=()=>{if(!e.hasNodes([be]))throw new Error("BlocksPlugin: BlocksNode not registered on editor");return ac(e.registerCommand(Ke,m=>(e.update(()=>{let f=fc()||pc();if(gc(f)){let h=Vt(m);lc(h);let{focus:C}=f,_=C.getNode();dn(_)&&_.getTextContentSize()===0&&_.getParentOrThrow().getChildren().filter(_c).length>1&&_.remove()}}),!0),un),e.registerCommand(Je,m=>{if(o){let h=mc(o);return!h||!wo(h)?!1:(h.setFields(m),r(null),!0)}let f=To(m);return n?.(f),hc([f]),Cc(f.getParentOrThrow())&&sc(f,dc).selectEnd(),!0},un))},t[3]=e,t[4]=n,t[5]=o,t[6]=a):a=t[6];let p;return t[7]!==e||t[8]!==n||t[9]!==o||t[10]!==d?(p=[e,n,o,d],t[7]=e,t[8]=n,t[9]=o,t[10]=d,t[11]=p):p=t[11],xc(a,p),null};function _c(t){return dn(t)}var Tc=y(({config:t,featureClientSchemaMap:e,props:o,schemaPath:r})=>{let n=`${r}.lexical_internal_feature.blocks.lexical_blocks`,i=`${r}.lexical_internal_feature.blocks.lexical_inline_blocks`,l=e.blocks;if(!l)return{};let s=Object.entries(l).filter(([a])=>a.startsWith(n+".")&&!a.replace(n+".","").includes(".")).map(([,a])=>a[0]),u=Object.entries(l).filter(([a])=>a.startsWith(i+".")&&!a.replace(i+".","").includes(".")).map(([,a])=>a[0]),c=s.map(a=>a.blockReferences?typeof a.blockReferences[0]=="string"?t.blocksMap[a.blockReferences[0]]:a.blockReferences[0]:a.blocks[0]).filter(a=>a!==void 0),d=u.map(a=>a.blockReferences?typeof a.blockReferences[0]=="string"?t.blocksMap[a.blockReferences[0]]:a.blockReferences[0]:a.blocks[0]).filter(a=>a!==void 0);return{nodes:[be,_o],plugins:[{Component:mn,position:"normal"}],sanitizedClientFeatureProps:o,slashMenu:{groups:[c?.length?{items:c.map(a=>({Icon:jt(a.imageURL,a.imageAltText),key:"block-"+a.slug,keywords:["block","blocks",a.slug],label:({i18n:p})=>a?.labels?.singular?Kt(a.labels.singular,p):a?.slug,onSelect:({editor:p})=>{p.dispatchCommand(Ke,{blockName:"",blockType:a.slug})}})),key:"blocks",label:({i18n:a})=>a.t("lexical:blocks:label")}:null,d?.length?{items:d.map(a=>({Icon:Ht,key:"inlineBlocks-"+a.slug,keywords:["inlineBlock","inline block",a.slug],label:({i18n:p})=>a?.labels?.singular?Kt(a.labels.singular,p):a?.slug,onSelect:({editor:p})=>{p.dispatchCommand(Je,{blockName:"",blockType:a.slug})}})),key:"inlineBlocks",label:({i18n:a})=>a.t("lexical:blocks:inlineBlocks:label")}:null].filter(Boolean)},toolbarFixed:{groups:[c.length?{type:"dropdown",ChildComponent:Bt,items:c.map((a,p)=>({ChildComponent:jt(a.imageURL,a.imageAltText),isActive:void 0,key:"block-"+a.slug,label:({i18n:m})=>a?.labels?.singular?Kt(a.labels.singular,m):a?.slug,onSelect:({editor:m})=>{m.dispatchCommand(Ke,{blockName:"",blockType:a.slug})},order:p})),key:"blocks",order:20}:null,d?.length?{type:"dropdown",ChildComponent:Ht,items:d.map((a,p)=>({ChildComponent:a.imageURL?jt(a.imageURL,a.imageAltText):Ht,isActive:void 0,key:"inlineBlock-"+a.slug,label:({i18n:m})=>a?.labels?.singular?Kt(a.labels.singular,m):a?.slug,onSelect:({editor:m})=>{m.dispatchCommand(Je,{blockName:"",blockType:a.slug})},order:p})),key:"inlineBlocks",order:25}:null].filter(Boolean)}}});import{c as Ec}from"react/compiler-runtime";import{jsx as $e,jsxs as Fo}from"react/jsx-runtime";import{useLexicalComposerContext as Nc}from"@lexical/react/LexicalComposerContext.js";import{$createParagraphNode as Lc,$createTextNode as Sc,$getRoot as Rc,getDOMSelection as Ao}from"lexical";import*as Cn from"react";import{useCallback as Fe,useEffect as Do,useLayoutEffect as fn,useRef as Oo,useState as Jt}from"react";var wc=ae&&"documentMode"in document?document.documentMode:null,pn=ae&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Mb=ae&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Ab=ae&&"InputEvent"in window&&!wc?"getTargetRanges"in new window.InputEvent("input"):!1,Db=ae&&/Version\/[\d.].*Safari/.test(navigator.userAgent),Ob=ae&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Fb=ae&&/Android/.test(navigator.userAgent),$b=ae&&/Win/.test(navigator.platform),kc=ae&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Pb=ae&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!kc;var Ic=t=>{let e=document.createElement("textarea");e.value=t||"",e.style.position="absolute",e.style.opacity="0",document.body?.appendChild(e),e.focus(),e.select();try{let o=document.execCommand("copy");console.log(o)}catch(o){console.error(o)}document.body?.removeChild(e)},yc=(t,e)=>{let o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e||"")),o.setAttribute("download",t),o.style.display="none",document.body?.appendChild(o),o.click(),document.body?.removeChild(o)},vc=t=>{let o=((r,n)=>{switch(r){case"click":return`      await page.mouse.click(${n.x}, ${n.y});`;case"keydown":return`      await page.keyboard.keydown('${n}');`;case"keyup":return`      await page.keyboard.keyup('${n}');`;case"press":return`      await page.keyboard.press('${n}');`;case"selectAll":return"      await selectAll(page);";case"snapshot":return`      await assertHTMLSnapshot(page);
      await assertSelection(page, {
        anchorPath: [${n.anchorPath.toString()}],
        anchorOffset: ${n.anchorOffset},
        focusPath: [${n.focusPath.toString()}],
        focusOffset: ${n.focusOffset},
      });
`;case"type":return`      await page.keyboard.type('${n}');`;default:return""}})(t.name,t.value);switch(t.count){case 1:return o;case 2:return[o,o].join(`
`);default:return`      await repeat(${t.count}, async () => {
  ${o}
      );`}};function Mc(t){return t.key.toLowerCase()==="a"&&(pn?t.metaKey:t.ctrlKey)}function Ac(t){let{anchorNode:e,focusNode:o}=t,{anchorOffset:r,focusOffset:n}=t;return r!==0&&r--,n!==0&&n--,{anchorNode:e,anchorOffset:r,focusNode:o,focusOffset:n}}function hn(t,e){let o=t,r=[];for(;o!==e;)o!=null&&r.unshift(Array.from(o?.parentNode?.childNodes??[]).indexOf(o)),o=o?.parentNode;return r}var gn=new Set(["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","Backspace","Delete","Enter","Escape"]);function Dc(t){let[e,o]=Jt([]),[r,n]=Jt(!1),[,i]=Jt(""),[l,s]=Jt(""),u=Oo(null),c=Oo(!1),d=Oo(null),a=Fe(()=>t,[t]),p=Fe(()=>{let b=t.getRootElement(),T=Ao(t._window);return b==null||T==null||T.anchorNode==null||T.focusNode==null||!b.contains(T.anchorNode)||!b.contains(T.focusNode)?null:`
import {
  initializeE2E,
  assertHTMLSnapshot,
  assertSelection,
  repeat,
} from '../utils';
import {selectAll} from '../keyboardShortcuts';
import { RangeSelection } from 'lexical';
import { NodeSelection } from 'lexical';

describe('Test case', () => {
  initializeE2E((e2e) => {
    it('Should pass this test', async () => {
      const {page} = e2e;

      await page.focus('div[contenteditable="true"]');
${e.map(vc).join(`
`)}
    });
});
    `},[t,e]),m=Fe((b,T)=>{o(g=>{let k=e.length-1,M=e[k];if(M&&M.name===b){if(b==="type")return[...e.slice(0,k),{...M,value:M.value+T}];if(M.value===T)return[...e.slice(0,k),{...M,count:M.count+1}]}return[...g,{name:b,count:1,value:T}]})},[e,o]);fn(()=>{let b=g=>{if(!r)return;let k=g.key;Mc(g)?m("selectAll",""):gn.has(k)?m("press",g.key):[...k].length>1?m("keydown",g.key):m("type",g.key)},T=g=>{if(!r)return;let k=g.key;!gn.has(k)&&[...k].length>1&&m("keyup",g.key)};return t.registerRootListener((g,k)=>{k!==null&&(k.removeEventListener("keydown",b),k.removeEventListener("keyup",T)),g!==null&&(g.addEventListener("keydown",b),g.addEventListener("keyup",T))})},[t,r,m]),fn(()=>{d.current&&d.current.scrollTo(0,d.current.scrollHeight)},[p]),Do(()=>{if(e){let b=p();b!==null&&s(b),d.current&&d.current.scrollTo(0,d.current.scrollHeight)}},[p,e]),Do(()=>t.registerUpdateListener(({dirtyElements:T,dirtyLeaves:g,editorState:k})=>{if(!r)return;let M=k._selection,D=u.current,P=c.current;if(D!==M){if(g.size===0&&T.size===0&&!P){let N=Ao(t._window);if(N&&(N.anchorNode==null||N.focusNode==null))return}u.current=M}c.current=!1;let v=p();v!==null&&s(v)}),[t,p,r,m]),Do(()=>r?t.registerUpdateListener(()=>{let T=t.getRootElement();T!==null&&i(T?.innerHTML)}):void 0,[t,r]);let f=Fe(b=>{r||(b.update(()=>{let T=Rc();T.clear();let g=Sc();T.append(Lc().append(g)),g.select()}),o([])),n(T=>!T)},[r]),h=Fe(()=>{if(!r)return;let b=Ao(t._window);if(b===null||b.anchorNode==null||b.focusNode==null)return;let{anchorNode:T,anchorOffset:g,focusNode:k,focusOffset:M}=Ac(b),D=a().getRootElement(),P;T!==null&&(P=hn(T,D));let v;k!==null&&(v=hn(k,D)),m("snapshot",{anchorNode:T,anchorOffset:g,anchorPath:P,focusNode:k,focusOffset:M,focusPath:v})},[m,r,a]),C=Fe(()=>{Ic(p())},[p]),_=Fe(()=>{yc("test.js",p())},[p]);return[$e("button",{className:`editor-dev-button ${r?"active":""}`,id:"test-recorder-button",onClick:b=>{f(a()),b.preventDefault()},title:r?"Disable test recorder":"Enable test recorder",type:"button",children:r?"Disable test recorder":"Enable test recorder"}),r?Fo("div",{className:"test-recorder-output",children:[Fo("div",{className:"test-recorder-toolbar",children:[$e("button",{className:"test-recorder-button",id:"test-recorder-button-snapshot",onClick:b=>{h(),b.preventDefault()},title:"Insert snapshot",type:"button",children:"Insert Snapshot"}),$e("button",{className:"test-recorder-button",id:"test-recorder-button-copy",onClick:b=>{C(),b.preventDefault()},title:"Copy to clipboard",type:"button",children:"Copy"}),$e("button",{className:"test-recorder-button",id:"test-recorder-button-download",onClick:b=>{_(),b.preventDefault()},title:"Download as a file",type:"button",children:"Download"})]}),$e("pre",{id:"test-recorder",ref:d,children:l})]}):null]}var xn=()=>{let t=Ec(3),[e]=Nc(),[o,r]=Dc(e),n;return t[0]!==o||t[1]!==r?(n=Fo(Cn.Fragment,{children:[$e("p",{children:"HI"}),o,r,$e("p",{children:"DONE"})]}),t[0]=o,t[1]=r,t[2]=n):n=t[2],n};var Oc=y({plugins:[{Component:xn,position:"bottom"}]});import{c as Fc}from"react/compiler-runtime";import{jsx as $c}from"react/jsx-runtime";import{useLexicalComposerContext as Pc}from"@lexical/react/LexicalComposerContext.js";import{TreeView as Bc}from"@lexical/react/LexicalTreeView.js";import"react";var bn=()=>{let t=Fc(2),[e]=Pc(),o;return t[0]!==e?(o=$c(Bc,{editor:e,timeTravelButtonClassName:"debug-timetravel-button",timeTravelPanelButtonClassName:"debug-timetravel-panel-button",timeTravelPanelClassName:"debug-timetravel-panel",timeTravelPanelSliderClassName:"debug-timetravel-panel-slider",treeTypeButtonClassName:"debug-treetype-button",viewClassName:"tree-view-output"}),t[0]=e,t[1]=o):o=t[1],o};var Hc=y({plugins:[{Component:bn,position:"bottom"}]});import{$isTableSelection as jc}from"@lexical/table";import{$isRangeSelection as Uc,FORMAT_TEXT_COMMAND as Gc}from"lexical";import{jsx as _n}from"react/jsx-runtime";import"react";var Tn=()=>_n("svg",{"aria-hidden":"true",className:"icon",fill:"currentColor",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:_n("path",{d:"M10.6772 15H6.27017V5.718H10.4172C12.6792 5.718 13.8492 6.602 13.8492 8.292C13.8492 9.098 13.1992 9.982 12.4712 10.216C13.3812 10.476 14.1742 11.256 14.1742 12.322C14.1742 14.09 12.9002 15 10.6772 15ZM8.46717 9.501H10.3262C11.3012 9.501 11.7042 9.046 11.7042 8.409C11.7042 7.72 11.2362 7.317 10.3392 7.317H8.46717V9.501ZM8.46717 11.061V13.401H10.4822C11.4702 13.401 11.9642 12.959 11.9642 12.218C11.9642 11.49 11.4702 11.061 10.4822 11.061H8.46717Z",fill:"currentColor"})});var ee=t=>({type:"buttons",items:t,key:"format",order:40});var wn={type:"text-format",format:["bold","italic"],tag:"***"},kn={type:"text-format",format:["bold","italic"],intraword:!1,tag:"___"},En={type:"text-format",format:["bold"],tag:"**"},Nn={type:"text-format",format:["bold"],intraword:!1,tag:"__"};var Ln=[ee([{ChildComponent:Tn,isActive:({selection:t})=>Uc(t)||jc(t)?t.hasFormat("bold"):!1,key:"bold",onSelect:({editor:t})=>{t.dispatchCommand(Gc,"bold")},order:1}])],Wc=y(({featureProviderMap:t})=>{let e=[En,Nn];return t.get("italic")&&e.push(kn,wn),{enableFormats:["bold"],markdownTransformers:e,toolbarFixed:{groups:Ln},toolbarInline:{groups:Ln}}});import{$isTableSelection as Kc}from"@lexical/table";import{$isRangeSelection as Jc,FORMAT_TEXT_COMMAND as Xc}from"lexical";import{jsx as Sn,jsxs as Vc}from"react/jsx-runtime";import"react";var Rn=()=>Vc("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[Sn("path",{d:"M7.76465 6L3.76465 10L7.76465 14",stroke:"currentColor"}),Sn("path",{d:"M12.2354 6L16.2354 10L12.2354 14",stroke:"currentColor"})]});var In={type:"text-format",format:["code"],tag:"`"};var yn=[ee([{ChildComponent:Rn,isActive:({selection:t})=>Jc(t)||Kc(t)?t.hasFormat("code"):!1,key:"inlineCode",onSelect:({editor:t})=>{t.dispatchCommand(Xc,"code")},order:7}])],zc=y({enableFormats:["code"],markdownTransformers:[In],toolbarFixed:{groups:yn},toolbarInline:{groups:yn}});import{$isTableSelection as Zc}from"@lexical/table";import{$isRangeSelection as Yc,FORMAT_TEXT_COMMAND as qc}from"lexical";import{jsx as vn}from"react/jsx-runtime";import"react";var Mn=()=>vn("svg",{"aria-hidden":"true",className:"icon",fill:"currentColor",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:vn("path",{d:"M11.311 14.2969L11.0327 15H6.18408L6.4624 14.2969C7.54639 14.2969 7.70752 14.209 7.83936 13.8721L10.8423 6.45996C10.8716 6.38672 10.8862 6.32812 10.8862 6.26953C10.8862 6.09375 10.6519 6.03516 9.80225 6.03516L10.0952 5.33203H14.9438L14.6509 6.03516C13.5669 6.03516 13.4204 6.12305 13.2886 6.45996L10.2856 13.8721C10.2563 13.9453 10.2271 14.0039 10.2271 14.0625C10.2271 14.2383 10.4614 14.2969 11.311 14.2969Z",fill:"currentColor"})});var An={type:"text-format",format:["italic"],tag:"*"},Dn={type:"text-format",format:["italic"],intraword:!1,tag:"_"};var On=[ee([{ChildComponent:Mn,isActive:({selection:t})=>Yc(t)||Zc(t)?t.hasFormat("italic"):!1,key:"italic",onSelect:({editor:t})=>{t.dispatchCommand(qc,"italic")},order:2}])],Qc=y({enableFormats:["italic"],markdownTransformers:[An,Dn],toolbarFixed:{groups:On},toolbarInline:{groups:On}});import{$isTableSelection as tu}from"@lexical/table";import{$isRangeSelection as ou,FORMAT_TEXT_COMMAND as ru}from"lexical";import{jsx as Fn,jsxs as eu}from"react/jsx-runtime";import"react";var $n=()=>eu("svg",{"aria-hidden":"true",className:"icon",fill:"currentColor",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[Fn("path",{d:"M5.50756 12.76H7.42756C7.56256 14.215 8.82256 14.71 10.1576 14.71C11.4326 14.71 12.4226 14.14 12.4226 13.06C12.4226 12.28 11.9576 11.845 10.6676 11.605L8.70256 11.245C7.12756 10.96 5.85256 10.21 5.85256 8.335C5.85256 6.43 7.53256 5.11 9.87256 5.11C12.4226 5.11 13.9526 6.22 14.1626 8.23H12.2876C12.1526 7.18 11.2226 6.595 9.88756 6.595C8.59756 6.595 7.78756 7.27 7.78756 8.215C7.78756 9.1 8.34256 9.385 9.49756 9.61L11.5676 10.015C13.3226 10.345 14.3726 11.215 14.3726 12.94C14.3726 14.89 12.5876 16.18 10.2176 16.18C7.66756 16.18 5.70256 15.115 5.50756 12.76Z",fill:"currentColor"}),Fn("path",{d:"M4.99756 11.44H15.0026V12.19H4.99756V11.44Z",fill:"currentColor"})]});var Pn={type:"text-format",format:["strikethrough"],tag:"~~"};var Bn=[ee([{ChildComponent:$n,isActive:({selection:t})=>ou(t)||tu(t)?t.hasFormat("strikethrough"):!1,key:"strikethrough",onSelect:({editor:t})=>{t.dispatchCommand(ru,"strikethrough")},order:4}])],nu=y({enableFormats:["strikethrough"],markdownTransformers:[Pn],toolbarFixed:{groups:Bn},toolbarInline:{groups:Bn}});import{$isTableSelection as iu}from"@lexical/table";import{$isRangeSelection as lu,FORMAT_TEXT_COMMAND as su}from"lexical";import{jsx as Hn}from"react/jsx-runtime";import"react";var jn=()=>Hn("svg",{"aria-hidden":"true",className:"icon",fill:"currentColor",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Hn("path",{d:"M10.167 15L7.45002 11.36L4.73302 15H2.91302L6.55302 10.177L3.23802 5.718H5.20102L7.54102 8.89L9.89402 5.718H11.714L8.43802 10.06L12.13 15H10.167ZM16.7768 13.258C16.7768 14.155 16.1398 14.532 15.2038 15C14.5538 15.325 14.2808 15.546 14.2418 15.78H16.7898V16.82H12.7208V16.339C12.7208 15.286 13.5918 14.675 14.3588 14.233C15.0868 13.83 15.4378 13.635 15.4378 13.232C15.4378 12.894 15.2038 12.686 14.8268 12.686C14.3848 12.686 14.1248 13.024 14.1118 13.427H12.7468C12.8248 12.426 13.5528 11.633 14.8398 11.633C15.9448 11.633 16.7768 12.257 16.7768 13.258Z",fill:"currentColor"})});var Un=[ee([{ChildComponent:jn,isActive:({selection:t})=>lu(t)||iu(t)?t.hasFormat("subscript"):!1,key:"subscript",onSelect:({editor:t})=>{t.dispatchCommand(su,"subscript")},order:5}])],au=y({enableFormats:["subscript"],toolbarFixed:{groups:Un},toolbarInline:{groups:Un}});import{$isTableSelection as cu}from"@lexical/table";import{$isRangeSelection as uu,FORMAT_TEXT_COMMAND as du}from"lexical";import{jsx as Gn}from"react/jsx-runtime";import"react";var Wn=()=>Gn("svg",{"aria-hidden":"true",className:"icon",fill:"currentColor",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Gn("path",{d:"M10.167 15L7.45002 11.36L4.73302 15H2.91302L6.55302 10.177L3.23802 5.718H5.20102L7.54102 8.89L9.89402 5.718H11.714L8.43802 10.06L12.13 15H10.167ZM16.7768 7.252C16.7768 8.149 16.1398 8.526 15.2038 8.994C14.5538 9.319 14.2808 9.54 14.2418 9.774H16.7898V10.814H12.7208V10.333C12.7208 9.28 13.5918 8.669 14.3588 8.227C15.0868 7.824 15.4378 7.629 15.4378 7.226C15.4378 6.888 15.2038 6.68 14.8268 6.68C14.3848 6.68 14.1248 7.018 14.1118 7.421H12.7468C12.8248 6.42 13.5528 5.627 14.8398 5.627C15.9448 5.627 16.7768 6.251 16.7768 7.252Z",fill:"currentColor"})});var Vn=[ee([{ChildComponent:Wn,isActive:({selection:t})=>uu(t)||cu(t)?t.hasFormat("superscript"):!1,key:"superscript",onSelect:({editor:t})=>{t.dispatchCommand(du,"superscript")},order:6}])],mu=y({enableFormats:["superscript"],toolbarFixed:{groups:Vn},toolbarInline:{groups:Vn}});import{$isTableSelection as fu}from"@lexical/table";import{$isRangeSelection as hu,FORMAT_TEXT_COMMAND as gu}from"lexical";import{jsx as Kn,jsxs as pu}from"react/jsx-runtime";import"react";var Jn=()=>pu("svg",{"aria-hidden":"true",className:"icon",fill:"currentColor",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[Kn("path",{d:"M13.9656 11.256C13.9656 13.791 12.5096 15.156 10.0006 15.156C7.50461 15.156 6.03561 13.791 6.03561 11.23V5.718H7.76461V11.243C7.76461 12.868 8.50561 13.778 10.0006 13.778C11.4956 13.778 12.2496 12.868 12.2496 11.243V5.718H13.9656V11.256Z",fill:"currentColor"}),Kn("path",{d:"M5.09961 16.3H14.9016V16.95H5.09961V16.3Z",fill:"currentColor"})]});var Xn=[ee([{ChildComponent:Jn,isActive:({selection:t})=>hu(t)||fu(t)?t.hasFormat("underline"):!1,key:"underline",onSelect:({editor:t})=>{t.dispatchCommand(gu,"underline")},order:3}])],Cu=y({enableFormats:["underline"],toolbarFixed:{groups:Xn},toolbarInline:{groups:Xn}});import{$createHeadingNode as Tu,$isHeadingNode as ai,HeadingNode as wu}from"@lexical/rich-text";import{$setBlocksType as ku}from"@lexical/selection";import{$getSelection as Eu,$isRangeSelection as Nu}from"lexical";import{jsx as zn}from"react/jsx-runtime";import"react";var Zn=()=>zn("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:zn("path",{d:"M4.639 13.5V7.074H6.196V9.648H9.076V7.074H10.642V13.5H9.076V10.836H6.196V13.5H4.639ZM11.5656 9.045V8.019C12.6636 8.019 13.1316 7.731 13.2846 7.065H14.4006V13.5H12.8436V9.045H11.5656Z",fill:"currentColor"})});import{jsx as Yn}from"react/jsx-runtime";import"react";var qn=()=>Yn("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Yn("path",{d:"M4.139 13.5V7.074H5.696V9.648H8.576V7.074H10.142V13.5H8.576V10.836H5.696V13.5H4.139ZM15.9796 8.973C15.9796 10.116 15.1696 10.656 14.0356 11.232C13.2256 11.646 12.8206 11.943 12.7846 12.294H15.9886V13.5H11.0566V12.951C11.0566 11.601 12.1636 10.845 13.1176 10.287C14.0356 9.756 14.5126 9.486 14.5126 8.946C14.5126 8.46 14.2156 8.145 13.6306 8.145C13.0186 8.145 12.6586 8.613 12.6226 9.198H11.1196C11.2186 7.947 12.1006 6.966 13.6396 6.966C15.0346 6.966 15.9796 7.785 15.9796 8.973Z",fill:"currentColor"})});import{jsx as Qn}from"react/jsx-runtime";import"react";var ei=()=>Qn("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Qn("path",{d:"M4.139 13.5V7.074H5.696V9.648H8.576V7.074H10.142V13.5H8.576V10.836H5.696V13.5H4.139ZM16.1146 11.745C16.1146 12.744 15.2236 13.608 13.6126 13.608C12.0736 13.608 11.0926 12.762 10.9846 11.547H12.4696C12.5146 12.114 13.0006 12.456 13.6126 12.456C14.2876 12.456 14.6746 12.132 14.6746 11.619C14.6746 11.061 14.2426 10.836 13.6216 10.836H12.9826V9.738H13.6036C14.1526 9.738 14.5486 9.486 14.5486 8.937C14.5486 8.46 14.2156 8.127 13.6486 8.127C13.0366 8.127 12.6586 8.514 12.6226 9.045H11.1916C11.2726 7.929 12.1276 6.966 13.6666 6.966C15.1876 6.966 15.9706 7.848 15.9706 8.865C15.9706 9.603 15.5026 10.143 14.8186 10.269C15.6196 10.404 16.1146 10.971 16.1146 11.745Z",fill:"currentColor"})});import{jsx as ti}from"react/jsx-runtime";import"react";var oi=()=>ti("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:ti("path",{d:"M3.639 13.5V7.074H5.196V9.648H8.076V7.074H9.642V13.5H8.076V10.836H5.196V13.5H3.639ZM15.1736 7.074V10.854H16.3706V12.033H15.1736V13.5H13.6796V12.033H10.5116V10.845L13.4996 7.074H15.1736ZM13.6796 8.46L11.8256 10.854H13.6796V8.46Z",fill:"currentColor"})});import{jsx as ri}from"react/jsx-runtime";import"react";var ni=()=>ri("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:ri("path",{d:"M3.639 13.5V7.074H5.196V9.648H8.076V7.074H9.642V13.5H8.076V10.836H5.196V13.5H3.639ZM13.1576 10.269C12.6896 10.269 12.3746 10.494 12.2216 10.737H10.8176L11.1956 7.074H15.2546V8.28H12.3206L12.1856 9.549C12.4016 9.351 12.8516 9.126 13.4636 9.126C14.7866 9.126 15.6596 10.053 15.6596 11.358C15.6596 12.609 14.7326 13.608 13.1756 13.608C11.5826 13.608 10.6556 12.753 10.5566 11.511H12.1136C12.1586 12.06 12.5456 12.465 13.1576 12.465C13.8236 12.465 14.1746 11.97 14.1746 11.376C14.1746 10.764 13.8416 10.269 13.1576 10.269Z",fill:"currentColor"})});import{jsx as ii}from"react/jsx-runtime";import"react";var li=()=>ii("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:ii("path",{d:"M3.639 13.5V7.074H5.196V9.648H8.076V7.074H9.642V13.5H8.076V10.836H5.196V13.5H3.639ZM13.3646 8.127C12.5456 8.127 12.0416 8.937 12.0416 9.999C12.3296 9.54 12.8246 9.207 13.5536 9.207C14.8586 9.207 15.8036 10.134 15.8036 11.376C15.8036 12.645 14.8226 13.608 13.3196 13.608C11.7266 13.608 10.6196 12.393 10.6196 10.395C10.6196 8.316 11.7716 6.966 13.4186 6.966C14.7056 6.966 15.5786 7.749 15.7316 8.829H14.3186C14.2016 8.415 13.9226 8.127 13.3646 8.127ZM13.3106 12.51C13.9586 12.51 14.3816 12.042 14.3816 11.385C14.3816 10.737 13.9586 10.278 13.3106 10.278C12.6536 10.278 12.2126 10.737 12.2126 11.385C12.2126 12.042 12.6536 12.51 13.3106 12.51Z",fill:"currentColor"})});import{$createHeadingNode as xu,$isHeadingNode as bu,HeadingNode as _u}from"@lexical/rich-text";var $o=t=>(e,o,r)=>{let n=t(r);n&&(n.append(...o),e.replace(n),n.select(0,0))};var si=t=>{let o=`^(${t.map(n=>Number(n.slice(1))).map(n=>`#{${n}}`).join("|")})\\s`,r=new RegExp(o);return{type:"element",dependencies:[_u],export:(n,i)=>{if(!bu(n))return null;let l=Number(n.getTag().slice(1));return"#".repeat(l)+" "+i(n)},regExp:r,replace:$o(n=>{let i="h"+n[1]?.length;return xu(i)})}};var ci=t=>{let e=Eu();ku(e,()=>Tu(t))},ui={h1:Zn,h2:qn,h3:ei,h4:oi,h5:ni,h6:li},Lu=y(({props:t})=>{let{enabledHeadingSizes:e=["h1","h2","h3","h4","h5","h6"]}=t,o=[ne(e.map((r,n)=>({ChildComponent:ui[r],isActive:({selection:i})=>{if(!Nu(i))return!1;for(let l of i.getNodes()){if(ai(l)&&l.getTag()===r)continue;let s=l.getParent();if(!(ai(s)&&s.getTag()===r))return!1}return!0},key:r,label:({i18n:i})=>i.t("lexical:heading:label",{headingLevel:r.charAt(1)}),onSelect:({editor:i})=>{i.update(()=>{ci(r)})},order:n+2})))];return{markdownTransformers:[si(e)],nodes:[wu],sanitizedClientFeatureProps:t,slashMenu:{groups:e?.length?[Q(e.map(r=>({Icon:ui[r],key:`heading-${r.charAt(1)}`,keywords:["heading",r],label:({i18n:n})=>n.t("lexical:heading:label",{headingLevel:r.charAt(1)}),onSelect:({editor:n})=>{n.update(()=>{ci(r)})}})))]:[]},toolbarFixed:{groups:e?.length?o:[]},toolbarInline:{groups:e?.length?o:[]}}});import{$isNodeSelection as Uu}from"lexical";import{jsx as di}from"react/jsx-runtime";import"react";var Po=()=>di("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:di("rect",{fill:"currentColor",height:"1",width:"12",x:"4",y:"9.5"})});import{jsx as mi,jsxs as Su}from"react/jsx-runtime";import"react";var pi=()=>Su("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[mi("path",{d:"M5 10h10",stroke:"currentColor"}),mi("path",{d:"M10 15V5",stroke:"currentColor"})]});var _e=t=>({type:"dropdown",ChildComponent:pi,items:t,key:"add",order:10});import{addClassNamesToElement as Ru}from"@lexical/utils";import{$applyNodeReplacement as Iu,createCommand as yu,DecoratorNode as vu}from"lexical";var ht=yu("INSERT_HORIZONTAL_RULE_COMMAND"),ft=class extends vu{static clone(e){return new this(e.__key)}static getType(){return"horizontalrule"}static importDOM(){return{hr:()=>({conversion:Mu,priority:0})}}static importJSON(e){return fi()}createDOM(e){let o=document.createElement("hr");return Ru(o,e.theme.hr),o}decorate(){return null}exportDOM(){return{element:document.createElement("hr")}}exportJSON(){return{type:"horizontalrule",version:1}}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}};function Mu(){return{node:fi()}}function fi(){return Iu(new ft)}import{$applyNodeReplacement as Au}from"lexical";import"react";var ve=class extends ft{static clone(e){return super.clone(e)}static getType(){return super.getType()}static importJSON(e){return gt()}decorate(){return null}exportJSON(){return super.exportJSON()}};function gt(){return Au(new ve)}function Xt(t){return t instanceof ve}var hi={type:"element",dependencies:[ve],export:(t,e)=>Xt(t)?"---":null,regExp:/^---\s*$/,replace:t=>{let e=gt();e&&t.replace(e)}};import{c as Du}from"react/compiler-runtime";import{useLexicalComposerContext as Ou}from"@lexical/react/LexicalComposerContext.js";import{$insertNodeToNearestRoot as Fu}from"@lexical/utils";import{$getSelection as $u,$isRangeSelection as Pu,COMMAND_PRIORITY_EDITOR as Bu}from"lexical";import{useEffect as Hu}from"react";var gi=()=>{let t=Du(3),[e]=Ou(),o,r;return t[0]!==e?(o=()=>e.registerCommand(ht,ju,Bu),r=[e],t[0]=e,t[1]=o,t[2]=r):(o=t[1],r=t[2]),Hu(o,r),null};function ju(t){let e=$u();if(!Pu(e))return!1;if(e.focus.getNode()!==null){let r=gt();Fu(r)}return!0}var Gu=y({markdownTransformers:[hi],nodes:[ve],plugins:[{Component:gi,position:"normal"}],slashMenu:{groups:[Q([{Icon:Po,key:"horizontalRule",keywords:["hr","horizontal rule","line","separator"],label:({i18n:t})=>t.t("lexical:horizontalRule:label"),onSelect:({editor:t})=>{t.dispatchCommand(ht,void 0)}}])]},toolbarFixed:{groups:[_e([{ChildComponent:Po,isActive:({selection:t})=>{if(!Uu(t)||!t.getNodes().length)return!1;let e=t.getNodes()[0];return Xt(e)},key:"horizontalRule",label:({i18n:t})=>t.t("lexical:horizontalRule:label"),onSelect:({editor:t})=>{t.dispatchCommand(ht,void 0)}}])]}});import{$findMatchingParent as Ei}from"@lexical/utils";import{$isElementNode as nd,$isRangeSelection as id,INDENT_CONTENT_COMMAND as ld,OUTDENT_CONTENT_COMMAND as sd}from"lexical";import{jsx as zt,jsxs as Wu}from"react/jsx-runtime";import"react";var Ci=()=>Wu("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[zt("path",{d:"M2.5 5H10.5",stroke:"currentColor",strokeWidth:"1.5"}),zt("path",{d:"M2.5 10H10.5",stroke:"currentColor",strokeWidth:"1.5"}),zt("path",{d:"M2.5 15H17.5",stroke:"currentColor",strokeWidth:"1.5"}),zt("path",{d:"M12.25 7.25L17.25 3.75V10.75L12.25 7.25Z",fill:"currentColor"})]});import{jsx as Zt,jsxs as Vu}from"react/jsx-runtime";import"react";var xi=()=>Vu("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[Zt("path",{d:"M17.5 5H9.5",stroke:"currentColor",strokeWidth:"1.5"}),Zt("path",{d:"M17.5 10H9.5",stroke:"currentColor",strokeWidth:"1.5"}),Zt("path",{d:"M17.5 15H2.5",stroke:"currentColor",strokeWidth:"1.5"}),Zt("path",{d:"M7.75 7.25L2.75 3.75V10.75L7.75 7.25Z",fill:"currentColor"})]});import{jsx as Ku}from"react/jsx-runtime";import{useLexicalComposerContext as Ju}from"@lexical/react/LexicalComposerContext";import{TabIndentationPlugin as Xu}from"@lexical/react/LexicalTabIndentationPlugin";import{$findMatchingParent as zu,mergeRegister as Zu}from"@lexical/utils";import{$getSelection as Yu,$isElementNode as qu,$isRangeSelection as Qu,COMMAND_PRIORITY_LOW as bi,INDENT_CONTENT_COMMAND as _i,KEY_TAB_COMMAND as ed,OUTDENT_CONTENT_COMMAND as td,TabNode as od}from"lexical";import{useEffect as Ti}from"react";var wi=({clientProps:t})=>{let[e]=Ju(),{disabledNodes:o,disableTabNode:r}=t;return Ti(()=>{if(!(!e||!o?.length))return e.registerCommand(_i,()=>rd(n=>{if(!o.includes(n.getType())){let i=n.getIndent();n.setIndent(i+1)}}),bi)},[e,o]),Ti(()=>{if(!(!e||!r))return Zu(e.registerCommand(ed,n=>(n.preventDefault(),e.dispatchCommand(n.shiftKey?td:_i,void 0)),bi),e.registerNodeTransform(od,n=>{n.remove()}))},[e,r]),Ku(Xu,{})};function rd(t){let e=Yu();if(!Qu(e))return!1;let o=new Set,r=e.getNodes();for(let n=0;n<r.length;n++){let i=r[n],l=i.getKey();if(o.has(l))continue;let s=zu(i,c=>qu(c)&&!c.isInline());if(s===null)continue;let u=s.getKey();s.canIndent()&&!o.has(u)&&(o.add(u),t(s))}return o.size>0}var ki=t=>({type:"buttons",items:t,key:"indent",order:35});var Ni=({disabledNodes:t})=>[ki([{ChildComponent:Ci,isActive:()=>!1,isEnabled:({selection:e})=>{let o=e?.getNodes();if(!o?.length)return!1;let r=!1,n=i=>nd(i)&&i.canIndent();for(let i of o)if(n(i)){if(i.getIndent()<=0)return!1;r=!0}return!r&&cd(e,i=>n(i)&&i.getIndent()>0)?!0:r},key:"indentDecrease",label:({i18n:e})=>e.t("lexical:indent:decreaseLabel"),onSelect:({editor:e})=>{e.dispatchCommand(sd,void 0)},order:1},{ChildComponent:xi,isActive:()=>!1,isEnabled:({selection:e})=>{let o=e?.getNodes();return o?.length?!o.some(r=>t?.includes(r.getType())):!1},key:"indentIncrease",label:({i18n:e})=>e.t("lexical:indent:increaseLabel"),onSelect:({editor:e})=>{e.dispatchCommand(ld,void 0)},order:2}])],ad=y(({props:t})=>{let e=t.disabledNodes??[];return{plugins:[{Component:wi,position:"normal"}],sanitizedClientFeatureProps:t,toolbarFixed:{groups:Ni({disabledNodes:e})},toolbarInline:{groups:Ni({disabledNodes:e})}}});function cd(t,e){return id(t)&&(!!Ei(t.anchor.getNode(),e)||!!Ei(t.focus.getNode(),e))}import{$findMatchingParent as Tm}from"@lexical/utils";import{$getSelection as Jo,$isRangeSelection as ol}from"lexical";import{jsx as Li}from"react/jsx-runtime";import"react";var Si=()=>Li("svg",{"aria-hidden":"true",className:"icon",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:Li("path",{d:"M8.5 11.5L11.5 8.5M8.5 7L9.625 5.875C10.868 4.633 12.882 4.633 14.125 5.875C15.368 7.118 15.368 9.133 14.125 10.375L13 11.5M7 8.5L5.746 9.754C4.56 10.94 4.519 12.85 5.652 14.087C6.814 15.354 8.78 15.449 10.058 14.298L11.5 13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})});import{$isAtNodeEnd as Ri}from"@lexical/selection";function Xe(t){let{anchor:e}=t,{focus:o}=t,r=t.anchor.getNode(),n=t.focus.getNode();return r===n?r:t.isBackward()?Ri(o)?r:n:Ri(e)?r:n}var Bo=t=>({type:"buttons",items:t,key:"features",order:50});import{$createTextNode as _d}from"lexical";import{addClassNamesToElement as ud,isHTMLAnchorElement as dd}from"@lexical/utils";import Uo from"bson-objectid";import{$applyNodeReplacement as md,$createTextNode as Ii,$getSelection as pd,$isElementNode as yi,$isRangeSelection as jo,createCommand as fd,ElementNode as hd}from"lexical";var gd=new Set(["http:","https:","mailto:","sms:","tel:"]),ie=class t extends hd{__fields;__id;constructor({id:e,fields:o={linkType:"custom",newTab:!1},key:r}){super(r),this.__fields=o,this.__id=e}static clone(e){return new t({id:e.__id,fields:e.__fields,key:e.__key})}static getType(){return"link"}static importDOM(){return{a:e=>({conversion:Cd,priority:1})}}static importJSON(e){let o=Te({}).updateFromJSON(e);return e.version===1&&typeof e.fields?.doc?.value=="object"&&e.fields?.doc?.value?.id&&(e.fields.doc.value=e.fields.doc.value.id,e.version=2),e.version===2&&!e.id&&(e.id=new Uo.default().toHexString(),e.version=3),o}canBeEmpty(){return!1}canInsertTextAfter(){return!1}canInsertTextBefore(){return!1}createDOM(e){let o=document.createElement("a");return this.__fields?.linkType==="custom"&&(o.href=this.sanitizeUrl(this.__fields.url??"")),(this.__fields?.newTab??!1)&&(o.target="_blank"),this.__fields?.newTab===!0&&this.__fields?.linkType==="custom"&&(o.rel=Ho(o.rel,"add","noopener")),ud(o,e.theme.link),o}exportJSON(){let e=this.getFields();e?.linkType==="internal"?delete e.url:e?.linkType==="custom"&&delete e.doc;let o={...super.exportJSON(),type:"link",fields:e,version:3},r=this.getID();return r&&(o.id=r),o}extractWithChild(e,o,r){if(!jo(o))return!1;let n=o.anchor.getNode(),i=o.focus.getNode();return this.isParentOf(n)&&this.isParentOf(i)&&o.getTextContent().length>0}getFields(){return this.getLatest().__fields}getID(){return this.getLatest().__id}insertNewAfter(e,o=!0){let r=this.getParentOrThrow().insertNewAfter(e,o);if(yi(r)){let n=Te({fields:this.__fields});return r.append(n),n}return null}isInline(){return!0}sanitizeUrl(e){try{let o=new URL(e);if(!gd.has(o.protocol))return"about:blank"}catch{return"https://"}return e}setFields(e){let o=this.getWritable();return o.__fields=e,o}setID(e){let o=this.getWritable();return o.__id=e,o}updateDOM(e,o,r){let n=this.__fields?.url,i=this.__fields?.newTab;return n!=null&&n!==e.__fields?.url&&this.__fields?.linkType==="custom"&&(o.href=n),this.__fields?.linkType==="internal"&&e.__fields?.linkType==="custom"&&o.removeAttribute("href"),o.rel==null&&(o.rel=""),i!==e.__fields?.newTab&&(i??!1?(o.target="_blank",this.__fields?.linkType==="custom"&&(o.rel=Ho(o.rel,"add","noopener"))):(o.removeAttribute("target"),o.rel=Ho(o.rel,"remove","noopener"))),!1}updateFromJSON(e){return super.updateFromJSON(e).setFields(e.fields).setID(e.id)}};function Cd(t){let e=null;if(dd(t)){let o=t.textContent;o!==null&&o!==""&&(e=Te({id:new Uo.default().toHexString(),fields:{doc:null,linkType:"custom",newTab:t.getAttribute("target")==="_blank",url:t.getAttribute("href")??""}}))}return{node:e}}function Te({id:t,fields:e}){return md(new ie({id:t??new Uo.default().toHexString(),fields:e}))}function Z(t){return t instanceof ie}var he=fd("TOGGLE_LINK_COMMAND");function Go(t){let e=pd();if(!jo(e)&&(t===null||!t.selectedNodes?.length))return;let o=jo(e)?e.extract():t===null?[]:t.selectedNodes;if(t===null){o?.forEach(i=>{let l=i.getParent();Z(l)&&(l.getChildren().forEach(u=>{l.insertBefore(u)}),l.remove())});return}if(o?.length===1){let i=o[0],l=Z(i)?i:xd(i);if(l!==null){l.setFields(t.fields),t.text!=null&&t.text!==l.getTextContent()&&(l.append(Ii(t.text)),l.getChildren().forEach(s=>{s!==l.getLastChild()&&s.remove()}));return}}let r=null,n=null;o?.forEach(i=>{let l=i.getParent();if(!(l===n||l===null||yi(i)&&!i.isInline())){if(Z(l)){n=l,l.setFields(t.fields),t.text!=null&&t.text!==l.getTextContent()&&(l.append(Ii(t.text)),l.getChildren().forEach(s=>{s!==l.getLastChild()&&s.remove()}));return}if(l.is(r)||(r=l,n=Te({fields:t.fields}),Z(l)?i.getPreviousSibling()===null?l.insertBefore(n):l.insertAfter(n):i.insertBefore(n)),Z(i)){if(i.is(n))return;if(n!==null){let s=i.getChildren();n.append(...s)}i.remove();return}n!==null&&n.append(i)}})}function xd(t){return bd(t,e=>Z(e))}function bd(t,e){let o=t;for(;o!==null&&(o=o.getParent(),!(o===null||e(o))););return o}function Ho(t,e,o){let r,n=`${t}`;if(e==="add"){if(n.includes(o)){let i=new RegExp(o,"g");n=n.replace(i,"").trim()}n=n.trim(),r=n.length===0?`${o}`:`${n} ${o}`}else{let i=new RegExp(o,"g");r=n.replace(i,"").trim()}return r}var vi={type:"text-match",dependencies:[ie],export:(t,e)=>{if(!Z(t))return null;let o=t,{url:r}=o.getFields();return`[${e(o)}](${r})`},importRegExp:/\[([^[]+)\]\(([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?\)/,regExp:/\[([^[]+)\]\(([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?\)$/,replace:(t,e)=>{let[,o,r]=e,n=Te({fields:{doc:null,linkType:"custom",newTab:!1,url:r}}),i=_d(o);return i.setFormat(t.getFormat()),n.append(i),t.replace(n),i},trigger:")"};import{$applyNodeReplacement as Td,$isElementNode as wd}from"lexical";var we=class t extends ie{static clone(e){return new t({id:"",fields:e.__fields,key:e.__key})}static getType(){return"autolink"}static importDOM(){return null}static importJSON(e){let o=Ct({}).updateFromJSON(e);return e.version===1&&typeof e.fields?.doc?.value=="object"&&e.fields?.doc?.value?.id&&(e.fields.doc.value=e.fields.doc.value.id,e.version=2),o}exportJSON(){let e=super.exportJSON();return{type:"autolink",children:e.children,direction:e.direction,fields:e.fields,format:e.format,indent:e.indent,version:2}}insertNewAfter(e,o=!0){let r=this.getParentOrThrow().insertNewAfter(e,o);if(wd(r)){let n=Ct({fields:this.__fields});return r.append(n),n}return null}updateFromJSON(e){return super.updateFromJSON(e).setFields(e.fields)}};function Ct({fields:t}){return Td(new we({id:"",fields:t}))}function ke(t){return t instanceof we}import{c as kd}from"react/compiler-runtime";import{useLexicalComposerContext as Ed}from"@lexical/react/LexicalComposerContext.js";import{mergeRegister as Nd}from"@lexical/utils";import{$createTextNode as Mi,$getSelection as Ld,$isElementNode as Di,$isLineBreakNode as Oi,$isNodeSelection as Sd,$isRangeSelection as Rd,$isTextNode as xt,TextNode as Id}from"lexical";import{useEffect as yd}from"react";function Ai(t,e=o=>o){return o=>{let r=t.exec(o);return r===null?null:{index:r.index,length:r[0].length,text:r[0],url:e(r[0])}}}function Fi(t,e){for(let o of e){let r=o(t);if(r!=null)return r}return null}var vd=/[.,;\s]/;function qt(t){return t!==void 0&&vd.test(t)}function $i(t){return qt(t[t.length-1])}function Vo(t){return qt(t[0])}function Md(t,e){return e?/^\.[a-z]{2,}/i.test(t):/^\.[a-z0-9]+/i.test(t)}function Pi(t){let e=t.getPreviousSibling();return Di(e)&&(e=e.getLastDescendant()),e===null||Oi(e)||xt(e)&&$i(e.getTextContent())}function Bi(t){let e=t.getNextSibling();return Di(e)&&(e=e.getFirstDescendant()),e===null||Oi(e)||xt(e)&&Vo(e.getTextContent())}function Ad(t,e,o,r){return(t>0?qt(o[t-1]):Pi(r[0]))?e<o.length?qt(o[e]):Bi(r[r.length-1]):!1}function Dd(t,e,o){let r=[],n=[],i=[],l=0,s=0,u=[...t];for(;u.length>0;){let c=u[0],a=c.getTextContent().length,p=s;s+a<=e?(r.push(c),l+=a):p>=o?i.push(c):n.push(c),s+=a,u.shift()}return[l,r,n,i]}function Od(t,e,o,r){let n={linkType:"custom",url:r.url,...r.fields},i=Ct({fields:n});if(t.length===1){let l=t[0],s;if(e===0?[s]=l.splitText(o):[,s]=l.splitText(e,o),s){let u=Mi(r.text);u.setFormat(s.getFormat()),u.setDetail(s.getDetail()),u.setStyle(s.getStyle()),i.append(u),s.replace(i)}return l}else if(t.length>1){let l=t[0],s=l.getTextContent().length,u;e===0?u=l:[,u]=l.splitText(e);let c=[],d;if(t.forEach(a=>{let m=a.getTextContent().length,f=s,h=s+m;if(f<o)if(h<=o)c.push(a);else{let[C,_]=a.splitText(o-f);C&&c.push(C),d=_}s+=m}),u){let a=Ld(),p=a?a.getNodes().find(xt):void 0,m=Mi(u.getTextContent());return m.setFormat(u.getFormat()),m.setDetail(u.getDetail()),m.setStyle(u.getStyle()),i.append(m,...c),p&&p===u&&(Rd(a)?m.select(a.anchor.offset,a.focus.offset):Sd(a)&&m.select(0,m.getTextContent().length)),u.replace(i),d}}}function Fd(t,e,o){let r=[...t],n=r.map(u=>u.getTextContent()).join(""),i=n,l,s=0;for(;(l=Fi(i,e))!=null&&l!==null;){let u=l.index,c=l.length,d=u+c;if(Ad(s+u,s+d,n,r)){let[p,,m,f]=Dd(r,s+u,s+d),h=s+u-p,C=s+d-p,_=Od(m,h,C,l);r=_?[_,...f]:f,o(l.url,null),s=0}else s+=d;i=i.substring(d)}}function Wo(t,e,o){let r=t.getChildren(),n=r.length;for(let u=0;u<n;u++){let c=r[u];if(!xt(c)||!c.isSimpleText()){Yt(t),o(null,t.getFields()?.url??null);return}}let i=t.getTextContent(),l=Fi(i,e);if(l===null||l.text!==i){Yt(t),o(null,t.getFields()?.url??null);return}if(!Pi(t)||!Bi(t)){Yt(t),o(null,t.getFields()?.url??null);return}let s=t.getFields()?.url;if(s!==l?.url){let u=t.getFields();u.url=l?.url,t.setFields(u),o(l.url,s??null)}}function $d(t,e,o){let r=t.getPreviousSibling(),n=t.getNextSibling(),i=t.getTextContent();if(ke(r)){let l=r.getFields()?.url?r.getFields()?.url?.startsWith("mailto:")??!1:!1;(!Vo(i)||Md(i,l))&&(r.append(t),Wo(r,e,o),o(null,r.getFields()?.url??null))}ke(n)&&!$i(i)&&(Yt(n),Wo(n,e,o),o(null,n.getFields()?.url??null))}function Yt(t){let e=t.getChildren(),o=e.length;for(let r=o-1;r>=0;r--)t.insertAfter(e[r]);return t.remove(),e.map(r=>r.getLatest())}function Pd(t){let e=[t],o=t.getNextSibling();for(;o!==null&&xt(o)&&o.isSimpleText()&&(e.push(o),!/\s/.test(o.getTextContent()));)o=o.getNextSibling();return e}function Bd(t,e,o){let r=kd(5),n,i;r[0]!==t||r[1]!==e||r[2]!==o?(n=()=>{if(!t.hasNodes([we]))throw new Error("LexicalAutoLinkPlugin: AutoLinkNode not registered on editor");let l=(s,u)=>{o?.(s,u)};return Nd(t.registerNodeTransform(Id,s=>{let u=s.getParentOrThrow(),c=s.getPreviousSibling();if(ke(u))Wo(u,e,l);else if(!Z(u)){if(s.isSimpleText()&&(Vo(s.getTextContent())||!ke(c))){let d=Pd(s);Fd(d,e,l)}$d(s,e,l)}}))},i=[t,e,o],r[0]=t,r[1]=e,r[2]=o,r[3]=n,r[4]=i):(n=r[3],i=r[4]),yd(n,i)}var Hd=/((https?:\/\/(www\.)?)|(www\.))[-\w@:%.+~#=]{1,256}\.[a-zA-Z\d()]{1,6}\b([-\w()@:%+.~#?&/=]*)(?<![-.+():%])/,jd=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\])|(([a-z\-\d]+\.)+[a-z]{2,}))/i,Ud=[Ai(Hd,t=>t.startsWith("http")?t:`https://${t}`),Ai(jd,t=>`mailto:${t}`)],Hi=()=>{let[t]=Ed();return Bd(t,Ud),null};import{jsx as Gd}from"react/jsx-runtime";import{ClickableLinkPlugin as Wd}from"@lexical/react/LexicalClickableLinkPlugin.js";import"react";var ji=()=>Gd(Wd,{});import{jsx as am}from"react/jsx-runtime";import"react";import{createPortal as cm}from"react-dom";import{jsx as Ee,jsxs as bt,Fragment as Kd}from"react/jsx-runtime";import{useLexicalComposerContext as Jd}from"@lexical/react/LexicalComposerContext.js";import{$findMatchingParent as Ui,mergeRegister as Gi}from"@lexical/utils";import{getTranslation as Ko}from"@payloadcms/translations";import{CloseMenuIcon as Xd,EditIcon as zd,ExternalLinkIcon as Wi,formatDrawerSlug as Zd,useConfig as Yd,useEditDepth as qd,useLocale as Qd,useTranslation as em}from"@payloadcms/ui";import{requests as tm}from"@payloadcms/ui/shared";import{$getSelection as Vi,$isLineBreakNode as om,$isRangeSelection as Ki,COMMAND_PRIORITY_HIGH as rm,COMMAND_PRIORITY_LOW as Ji,getDOMSelection as nm,KEY_ESCAPE_COMMAND as im,SELECTION_CHANGE_COMMAND as lm}from"lexical";import Xi,{useCallback as zi,useEffect as to,useRef as sm,useState as Pe}from"react";function Qt(t,e,o,r=10,n=5){let i=o.parentElement;if(t===null||i==null){e.style.opacity="0",e.style.transform="translate(-10000px, -10000px)";return}let l=e.getBoundingClientRect(),s=o.getBoundingClientRect(),u=i.getBoundingClientRect(),c=t.top-r,d=t.left-n;c<u.top&&(c+=l.height+t.height+r*2),d+l.width>u.right&&(d=u.right-l.width-n),c-=s.top,d-=s.left,e.style.opacity="1",e.style.transform=`translate(${d}px, ${c}px)`}import{createCommand as Vd}from"lexical";var eo=Vd("TOGGLE_LINK_WITH_MODAL_COMMAND");function Zi(t){t.preventDefault()}function Yi({anchorElem:t}){let[e]=Jd(),[o,r]=Pe(),n=sm(null),[i,l]=Pe(null),[s,u]=Pe(null),{fieldProps:{schemaPath:c},uuid:d}=j(),{config:a,getEntityConfig:p}=Yd(),{i18n:m,t:f}=em(),[h,C]=Pe(),_=qd(),[R,A]=Pe(!1),[b,T]=Pe([]),g=Qd(),[k,M]=Pe(!1),D=Zd({slug:"lexical-rich-text-link-"+d,depth:_}),{toggleDrawer:P}=Ce(D),v=zi(()=>{A(!1),n&&n.current&&(n.current.style.opacity="0",n.current.style.transform="translate(-10000px, -10000px)"),M(!1),l(null),u(null),T([]),C(void 0)},[A,l,u,T]),N=zi(()=>{let x=Vi(),E;if(!Ki(x)||!x){v();return}let S=Xe(x);E=e.getElementByKey(S.getKey())?.getBoundingClientRect();let L=Ui(S,Z),I=x.getNodes().filter(H=>!om(H)).find(H=>{let W=Ui(H,Z);return L&&!L.is(W)||W&&!W.is(L)});if(L==null||I){v();return}r(L);let w=L.getFields(),F={...w,id:L.getID(),text:L.getTextContent()};if(w?.linkType==="custom")l(w?.url??null),u(null);else{l(`${a.routes.admin==="/"?"":a.routes.admin}/collections/${w?.doc?.relationTo}/${w?.doc?.value}`);let H=w?.doc?.relationTo?p({collectionSlug:w?.doc?.relationTo}):void 0;if(!H)u(w?.label?String(w?.label):null),l(w?.url?String(w?.url):null);else{let W=typeof w.doc?.value=="object"?w.doc.value.id:w.doc?.value,te=w.doc?.relationTo;if(!W||!te)throw new Error("Focus link parent is missing doc.value or doc.relationTo");let ce=f("fields:linkedTo",{label:`${Ko(H.labels.singular,m)} - ${f("lexical:link:loadingWithEllipsis",m)}`}).replace(/<[^>]*>?/g,"");u(ce),tm.get(`${a.serverURL}${a.routes.api}/${te}/${W}`,{headers:{"Accept-Language":m.language},params:{depth:0,locale:g?.code}}).then(async Y=>{if(!Y.ok)throw new Error(`HTTP error! Status: ${Y.status}`);let K=await Y.json(),oe=H?.admin?.useAsTitle||"id",re=K[oe],le=f("fields:linkedTo",{label:`${Ko(H.labels.singular,m)} - ${re}`}).replace(/<[^>]*>?/g,"");u(le)}).catch(()=>{let Y=f("fields:linkedTo",{label:`${Ko(H.labels.singular,m)} - ${f("general:untitled",m)} - ID: ${W}`}).replace(/<[^>]*>?/g,"");u(Y)})}}C(F),A(!0),T(x?x?.getNodes():[]),ke(L)?M(!0):M(!1);let $=n.current,U=nm(e._window),{activeElement:V}=document;if($===null)return;let pe=e.getRootElement();return U!==null&&pe!==null&&pe.contains(U.anchorNode)?(E||(E=U.getRangeAt(0).getBoundingClientRect()),E!=null&&(E.y+=40,Qt(E,$,t))):(V==null||V.className!=="link-input")&&(pe!==null&&Qt(null,$,t),l(null),u(null)),!0},[e,v,a.routes.admin,a.routes.api,a.serverURL,p,f,m,g?.code,t]);return to(()=>Gi(e.registerCommand(eo,x=>(e.dispatchCommand(he,x),N(),P(),!0),Ji)),[e,N,P,D]),to(()=>{let x=t.parentElement,E=()=>{e.getEditorState().read(()=>{N()})};return window.addEventListener("resize",E),x?.addEventListener("scroll",E),()=>{window.removeEventListener("resize",E),x?.removeEventListener("scroll",E)}},[t.parentElement,e,N]),to(()=>Gi(e.registerUpdateListener(({editorState:x})=>{x.read(()=>{N()})}),e.registerCommand(lm,()=>(N(),!0),Ji),e.registerCommand(im,()=>R?(v(),!0):!1,rm)),[e,N,R,v]),to(()=>{e.getEditorState().read(()=>{N()})},[e,N]),bt(Xi.Fragment,{children:[Ee("div",{className:"link-editor",ref:n,children:bt("div",{className:"link-input",children:[i&&i.length>0?bt("a",{href:i,rel:"noopener noreferrer",target:"_blank",children:[o?.__fields.newTab?Ee(Wi,{}):null,s!=null&&s.length>0?s:i]}):s!=null&&s.length>0?bt(Kd,{children:[o?.__fields.newTab?Ee(Wi,{}):null,Ee("span",{className:"link-input__label-pure",children:s})]}):null,e.isEditable()&&bt(Xi.Fragment,{children:[Ee("button",{"aria-label":"Edit link",className:"link-edit",onClick:x=>{x.preventDefault(),P()},onMouseDown:Zi,tabIndex:0,type:"button",children:Ee(zd,{})}),!k&&Ee("button",{"aria-label":"Remove link",className:"link-trash",onClick:()=>{e.dispatchCommand(he,null)},onMouseDown:Zi,tabIndex:0,type:"button",children:Ee(Xd,{})})]})]})}),Ee(lt,{className:"lexical-link-edit-drawer",data:h,drawerSlug:D,drawerTitle:f("fields:editLink"),featureKey:"link",handleDrawerSubmit:(x,E)=>{let S=E,L={...S};delete L.text,e.update(()=>{let I=Vi(),w=null;if(Ki(I)?w=Xe(I).getParent():b.length&&(w=b[0]?.getParent()??null),w&&ke(w)){let F=Te({fields:L});w.replace(F,!0)}}),e.dispatchCommand(he,{fields:L,selectedNodes:b,text:S.text})},schemaPath:c,schemaPathSuffix:"fields"})]})}var qi=t=>{let{anchorElem:e=document.body}=t;return cm(am(Yi,{anchorElem:e}),e)};import{c as mm}from"react/compiler-runtime";import{useLexicalComposerContext as pm}from"@lexical/react/LexicalComposerContext.js";import{mergeRegister as fm}from"@lexical/utils";import{$getSelection as hm,$isElementNode as gm,$isRangeSelection as Cm,COMMAND_PRIORITY_LOW as el,PASTE_COMMAND as xm}from"lexical";import{useEffect as bm}from"react";var um=/^(?:[a-zA-Z][a-zA-Z\d+.-]*:(?:\/\/)?(?:[-;:&=+$,\w]+@)?[A-Za-z\d]+(?:\.[A-Za-z\d]+)+|www\.[A-Za-z\d]+(?:\.[A-Za-z\d]+)+|(?:tel|mailto):[\w+.-]+)(?:\/[+~%/\w-]*)?(?:\?[-;&=%\w]*)?(?:#\w+)?$/,dm=/^(?:\/[\w\-./]*(?:#\w[\w-]*)?|#[\w\-]+)$/;function Qi(t){if(!t)return!1;if(t==="https://"||um.test(t)||dm.test(t))return!0;try{return new URL(t),!0}catch{}return!1}var tl=t=>{let e=mm(5),{clientProps:o}=t,[r]=pm(),n,i;return e[0]!==o.defaultLinkType||e[1]!==o.defaultLinkURL||e[2]!==r?(n=()=>{if(!r.hasNodes([ie]))throw new Error("LinkPlugin: LinkNode not registered on editor");return fm(r.registerCommand(he,l=>l===null?(Go(null),!0):(l.fields?.linkType||(l.fields.linkType=o.defaultLinkType),l.fields?.url||(l.fields.url=o.defaultLinkURL),Go(l),!0),el),r.registerCommand(xm,l=>{let s=hm();if(!Cm(s)||s.isCollapsed()||!(l instanceof ClipboardEvent)||l.clipboardData==null)return!1;let u=l.clipboardData.getData("text");if(!Qi(u))return!1;if(!s.getNodes().some(_m)){let c={doc:null,linkType:"custom",newTab:!1,url:u};return r.dispatchCommand(he,{fields:c,text:null}),l.preventDefault(),!0}return!1},el))},i=[o.defaultLinkType,o.defaultLinkURL,r],e[0]=o.defaultLinkType,e[1]=o.defaultLinkURL,e[2]=r,e[3]=n,e[4]=i):(n=e[3],i=e[4]),bm(n,i),null};function _m(t){return gm(t)}var rl=[Bo([{ChildComponent:Si,isActive:({selection:t})=>{if(ol(t)){let e=Xe(t);return Tm(e,Z)!=null}return!1},isEnabled:({selection:t})=>!!(ol(t)&&Jo()?.getTextContent()?.length),key:"link",label:({i18n:t})=>t.t("lexical:link:label"),onSelect:({editor:t,isActive:e})=>{if(e)t.dispatchCommand(he,null);else{let o,r=[];if(t.getEditorState().read(()=>{o=Jo()?.getTextContent(),r=Jo()?.getNodes()??[]}),!o?.length)return;let n={doc:null,newTab:!1};t.dispatchCommand(eo,{fields:n,selectedNodes:r,text:o})}},order:1}])],wm=y(({props:t})=>({markdownTransformers:[vi],nodes:[ie,t?.disableAutoLinks===!0?null:we].filter(Boolean),plugins:[{Component:tl,position:"normal"},t?.disableAutoLinks===!0||t?.disableAutoLinks==="creationOnly"?null:{Component:Hi,position:"normal"},{Component:ji,position:"normal"},{Component:qi,position:"floatingAnchorElem"}].filter(Boolean),sanitizedClientFeatureProps:t,toolbarFixed:{groups:rl},toolbarInline:{groups:rl}}));import{$isListNode as Zo,INSERT_CHECK_LIST_COMMAND as cl,ListItemNode as Dm,ListNode as Om}from"@lexical/list";import{$isRangeSelection as Fm}from"lexical";import{jsx as nl,jsxs as km}from"react/jsx-runtime";import"react";var Xo=()=>km("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[nl("rect",{height:"13",rx:"1.5",stroke:"currentColor",width:"13",x:"3.5",y:"3.5"}),nl("path",{d:"M7 10L9 12.5L13 7.5",stroke:"currentColor",strokeWidth:"1.5"})]});import{jsx as Em}from"react/jsx-runtime";import{ListPlugin as Nm}from"@lexical/react/LexicalListPlugin.js";import"react";var ze=()=>Em(Nm,{});function Ze(t){return{items:t,key:"lists",label:({i18n:e})=>e.t("lexical:general:slashMenuListGroupLabel")}}import{$isListNode as Im,ListItemNode as ym,ListNode as vm}from"@lexical/list";import{$createListItemNode as Lm,$createListNode as Sm,$isListItemNode as Rm,$isListNode as zo}from"@lexical/list";var il=4,Ye=t=>(e,o,r)=>{let n=e.getPreviousSibling(),i=e.getNextSibling(),l=Lm(t==="check"?r[3]==="x":void 0);if(zo(i)&&i.getListType()===t){let u=i.getFirstChild();u!==null?u.insertBefore(l):i.append(l),e.remove()}else if(zo(n)&&n.getListType()===t)n.append(l),e.remove();else{let u=Sm(t,t==="number"?Number(r[2]):void 0);u.append(l),e.replace(u)}l.append(...o),l.select(0,0);let s=Math.floor(r[1].length/il);s&&l.setIndent(s)},Be=(t,e,o)=>{let r=[],n=t.getChildren(),i=0;for(let l of n)if(Rm(l)){if(l.getChildrenSize()===1){let d=l.getFirstChild();if(zo(d)){r.push(Be(d,e,o+1));continue}}let s=" ".repeat(o*il),u=t.getListType(),c=u==="number"?`${t.getStart()+i}. `:u==="check"?`- [${l.getChecked()?"x":" "}] `:"- ";r.push(s+c+e(l)),i++}return r.join(`
`)};var ll={type:"element",dependencies:[vm,ym],export:(t,e)=>Im(t)?Be(t,e,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:Ye("check")};import{jsx as Mm}from"react/jsx-runtime";import{CheckListPlugin as Am}from"@lexical/react/LexicalCheckListPlugin.js";import"react";var sl=()=>Mm(Am,{});var al=[ne([{ChildComponent:Xo,isActive:({selection:t})=>{if(!Fm(t))return!1;for(let e of t.getNodes()){if(Zo(e)&&e.getListType()==="check")continue;let o=e.getParent();if(Zo(o)&&o.getListType()==="check")continue;let r=o?.getParent();if(!(Zo(r)&&r.getListType()==="check"))return!1}return!0},key:"checklist",label:({i18n:t})=>t.t("lexical:checklist:label"),onSelect:({editor:t})=>{t.dispatchCommand(cl,void 0)},order:12}])],$m=y(({featureProviderMap:t})=>{let e=[{Component:sl,position:"normal"}];return!t.has("unorderedList")&&!t.has("orderedList")&&e.push({Component:ze,position:"normal"}),{markdownTransformers:[ll],nodes:t.has("unorderedList")||t.has("orderedList")?[]:[Om,Dm],plugins:e,slashMenu:{groups:[Ze([{Icon:Xo,key:"checklist",keywords:["check list","check","checklist","cl"],label:({i18n:o})=>o.t("lexical:checklist:label"),onSelect:({editor:o})=>{o.dispatchCommand(cl,void 0)}}])]},toolbarFixed:{groups:al},toolbarInline:{groups:al}}});import{$isListNode as qo,INSERT_ORDERED_LIST_COMMAND as ml,ListItemNode as Um,ListNode as Gm}from"@lexical/list";import{$isRangeSelection as Wm}from"lexical";import{jsx as _t,jsxs as Pm}from"react/jsx-runtime";import"react";var Yo=()=>Pm("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[_t("path",{d:"M5.89284 12.479C5.89284 13.368 5.26284 13.788 4.38084 14.236C3.75084 14.558 3.43584 14.789 3.40784 15.062H5.89984V16H2.06384V15.573C2.06384 14.523 2.92484 13.935 3.66684 13.501C4.38084 13.088 4.75184 12.878 4.75184 12.458C4.75184 12.08 4.52084 11.835 4.06584 11.835C3.58984 11.835 3.30984 12.199 3.28184 12.654H2.11284C2.18984 11.681 2.87584 10.918 4.07284 10.918C5.15784 10.918 5.89284 11.555 5.89284 12.479Z",fill:"currentColor"}),_t("path",{d:"M2.68608 4.535V3.737C3.54008 3.737 3.90408 3.513 4.02308 2.995H4.89108V8H3.68008L3.68008 4.535H2.68608Z",fill:"currentColor"}),_t("path",{d:"M8 15L17 15",stroke:"currentColor",strokeWidth:"1.5"}),_t("path",{d:"M8 10L17 10",stroke:"currentColor",strokeWidth:"1.5"}),_t("path",{d:"M8 5L17 5",stroke:"currentColor",strokeWidth:"1.5"})]});import{$isListNode as Bm,ListItemNode as Hm,ListNode as jm}from"@lexical/list";var ul={type:"element",dependencies:[jm,Hm],export:(t,e)=>Bm(t)?Be(t,e,0):null,regExp:/^(\s*)(\d+)\.\s/,replace:Ye("number")};var dl=[ne([{ChildComponent:Yo,isActive:({selection:t})=>{if(!Wm(t))return!1;for(let e of t.getNodes()){if(qo(e)&&e.getListType()==="number")continue;let o=e.getParent();if(qo(o)&&o.getListType()==="number")continue;let r=o?.getParent();if(!(qo(r)&&r.getListType()==="number"))return!1}return!0},key:"orderedList",label:({i18n:t})=>t.t("lexical:orderedList:label"),onSelect:({editor:t})=>{t.dispatchCommand(ml,void 0)},order:10}])],Vm=y(({featureProviderMap:t})=>({markdownTransformers:[ul],nodes:t.has("orderedList")?[]:[Gm,Um],plugins:t.has("orderedList")?[]:[{Component:ze,position:"normal"}],slashMenu:{groups:[Ze([{Icon:Yo,key:"orderedList",keywords:["ordered list","ol"],label:({i18n:e})=>e.t("lexical:orderedList:label"),onSelect:({editor:e})=>{e.dispatchCommand(ml,void 0)}}])]},toolbarFixed:{groups:dl},toolbarInline:{groups:dl}}));import{$isListNode as er,INSERT_UNORDERED_LIST_COMMAND as hl,ListItemNode as Zm,ListNode as Ym}from"@lexical/list";import{$isRangeSelection as qm}from"lexical";import{jsx as qe,jsxs as Km}from"react/jsx-runtime";import"react";var Qo=()=>Km("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[qe("circle",{cx:"4",cy:"5",fill:"currentColor",r:"1.15",stroke:"currentColor",strokeWidth:"0.3"}),qe("circle",{cx:"4",cy:"10",fill:"currentColor",r:"1.15",stroke:"currentColor",strokeWidth:"0.3"}),qe("circle",{cx:"4",cy:"15",fill:"currentColor",r:"1.15",stroke:"currentColor",strokeWidth:"0.3"}),qe("path",{d:"M17 5H7",stroke:"currentColor",strokeWidth:"1.5"}),qe("path",{d:"M17 10H7",stroke:"currentColor",strokeWidth:"1.5"}),qe("path",{d:"M17 15H7",stroke:"currentColor",strokeWidth:"1.5"})]});import{$isListNode as Jm,ListItemNode as Xm,ListNode as zm}from"@lexical/list";var pl={type:"element",dependencies:[zm,Xm],export:(t,e)=>Jm(t)?Be(t,e,0):null,regExp:/^(\s*)[-*+]\s/,replace:Ye("bullet")};var fl=[ne([{ChildComponent:Qo,isActive:({selection:t})=>{if(!qm(t))return!1;for(let e of t.getNodes()){if(er(e)&&e.getListType()==="bullet")continue;let o=e.getParent();if(er(o)&&o.getListType()==="bullet")continue;let r=o?.getParent();if(!(er(r)&&r.getListType()==="bullet"))return!1}return!0},key:"unorderedList",label:({i18n:t})=>t.t("lexical:unorderedList:label"),onSelect:({editor:t})=>{t.dispatchCommand(hl,void 0)},order:11}])],Qm=y({markdownTransformers:[pl],nodes:[Ym,Zm],plugins:[{Component:ze,position:"normal"}],slashMenu:{groups:[Ze([{Icon:Qo,key:"unorderedList",keywords:["unordered list","ul"],label:({i18n:t})=>t.t("lexical:unorderedList:label"),onSelect:({editor:t})=>{t.dispatchCommand(hl,void 0)}}])]},toolbarFixed:{groups:fl},toolbarInline:{groups:fl}});import{jsx as ep}from"react/jsx-runtime";import{addClassNamesToElement as tp}from"@lexical/utils";import{DecoratorNode as op}from"lexical";import*as gl from"react";var rp=gl.lazy(()=>import("./Component-MBLHTKDK.js").then(t=>({default:t.UnknownConvertedNodeComponent}))),Tt=class t extends op{__data;constructor({data:e,key:o}){super(o),this.__data=e}static clone(e){return new t({data:e.__data,key:e.__key})}static getType(){return"unknownConverted"}static importJSON(e){return np({data:e.data})}canInsertTextAfter(){return!0}canInsertTextBefore(){return!0}createDOM(e){let o=document.createElement("span");return tp(o,"unknownConverted"),o}decorate(){return ep(rp,{data:this.__data})}exportJSON(){return{type:this.getType(),data:this.__data,version:1}}isInline(){return!0}updateDOM(e,o){return!1}};function np({data:t}){return new Tt({data:t})}var ip=y(()=>({nodes:[Tt]}));import{jsx as lp}from"react/jsx-runtime";import{addClassNamesToElement as sp}from"@lexical/utils";import{DecoratorNode as ap}from"lexical";import*as Cl from"react";var cp=Cl.lazy(()=>import("./Component-DOSSWC76.js").then(t=>({default:t.UnknownConvertedNodeComponent}))),wt=class t extends ap{__data;constructor({data:e,key:o}){super(o),this.__data=e}static clone(e){return new t({data:e.__data,key:e.__key})}static getType(){return"unknownConverted"}static importJSON(e){return up({data:e.data})}canInsertTextAfter(){return!0}canInsertTextBefore(){return!0}createDOM(e){let o=document.createElement("span");return sp(o,"unknownConverted"),o}decorate(){return lp(cp,{data:this.__data})}exportJSON(){return{type:this.getType(),data:this.__data,version:1}}isInline(){return!0}updateDOM(e,o){return!1}};function up({data:t}){return new wt({data:t})}var dp=y(()=>({nodes:[wt]}));import{$setBlocksType as _l}from"@lexical/selection";import{$createParagraphNode as Tl,$getSelection as wl,$isParagraphNode as xl,$isRangeSelection as mp}from"lexical";var bl=[ne([{ChildComponent:at,isActive:({selection:t})=>{if(!mp(t))return!1;for(let e of t.getNodes())if(!xl(e)&&!xl(e.getParent()))return!1;return!0},key:"paragraph",label:({i18n:t})=>t.t("lexical:paragraph:label2"),onSelect:({editor:t})=>{t.update(()=>{let e=wl();_l(e,()=>Tl())})},order:1}])],pp=y({slashMenu:{groups:[Q([{Icon:at,key:"paragraph",keywords:["normal","paragraph","p","text"],label:({i18n:t})=>t.t("lexical:paragraph:label"),onSelect:({editor:t})=>{t.update(()=>{let e=wl();_l(e,()=>Tl())})}}])]},toolbarFixed:{groups:bl},toolbarInline:{groups:bl}});import{c as Dp}from"react/compiler-runtime";import{jsx as Op}from"react/jsx-runtime";import{useLexicalComposerContext as Fp}from"@lexical/react/LexicalComposerContext";import{useEffect as $p,useState as Pp}from"react";import{jsx as jl,Fragment as Ap}from"react/jsx-runtime";import"react";import{jsx as fp}from"react/jsx-runtime";var kl={quote:({node:t,nodesToJSX:e})=>{let o=e({nodes:t.children});return fp("blockquote",{children:o})}};import{jsx as hp}from"react/jsx-runtime";var El={heading:({node:t,nodesToJSX:e})=>{let o=e({nodes:t.children}),r=t.tag;return hp(r,{children:o})}};import{jsx as gp}from"react/jsx-runtime";var Nl={horizontalrule:gp("hr",{})};import{jsx as Cp}from"react/jsx-runtime";var Ll={linebreak:Cp("br",{})};import{jsx as Sl}from"react/jsx-runtime";var Rl=({internalDocToHref:t})=>({autolink:({node:e,nodesToJSX:o})=>{let r=o({nodes:e.children}),n=e.fields.newTab?"noopener noreferrer":void 0,i=e.fields.newTab?"_blank":void 0;return Sl("a",{href:e.fields.url,rel:n,target:i,children:r})},link:({node:e,nodesToJSX:o})=>{let r=o({nodes:e.children}),n=e.fields.newTab?"noopener noreferrer":void 0,i=e.fields.newTab?"_blank":void 0,l=e.fields.url??"";return e.fields.linkType==="internal"&&(t?l=t({linkNode:e}):(console.error("Lexical => JSX converter: Link converter: found internal link, but internalDocToHref is not provided"),l="#")),Sl("a",{href:l,rel:n,target:i,children:r})}});import{jsx as Qe,jsxs as xp,Fragment as bp}from"react/jsx-runtime";import{v4 as _p}from"uuid";var Il={list:({node:t,nodesToJSX:e})=>{let o=e({nodes:t.children}),r=t.tag;return Qe(r,{className:`list-${t?.listType}`,children:o})},listitem:({node:t,nodesToJSX:e,parent:o})=>{let r=t.children.some(i=>i.type==="list"),n=e({nodes:t.children});if("listType"in o&&o?.listType==="check"){let i=_p();return Qe("li",{"aria-checked":t.checked?"true":"false",className:`list-item-checkbox${t.checked?" list-item-checkbox-checked":" list-item-checkbox-unchecked"}${r?" nestedListItem":""}`,role:"checkbox",style:{listStyleType:"none"},tabIndex:-1,value:t?.value,children:r?n:xp(bp,{children:[Qe("input",{checked:t.checked,id:i,readOnly:!0,type:"checkbox"}),Qe("label",{htmlFor:i,children:n}),Qe("br",{})]})})}else return Qe("li",{className:`${r?"nestedListItem":""}`,style:r?{listStyleType:"none"}:void 0,value:t?.value,children:n})}};import{jsx as tr}from"react/jsx-runtime";var yl={paragraph:({node:t,nodesToJSX:e})=>{let o=e({nodes:t.children});return o?.length?tr("p",{children:o}):tr("p",{children:tr("br",{})})}};var vl={tab:"	"};import{jsx as kt}from"react/jsx-runtime";var Ml={table:({node:t,nodesToJSX:e})=>{let o=e({nodes:t.children});return kt("div",{className:"lexical-table-container",children:kt("table",{className:"lexical-table",style:{borderCollapse:"collapse"},children:kt("tbody",{children:o})})})},tablecell:({node:t,nodesToJSX:e})=>{let o=e({nodes:t.children}),r=t.headerState>0?"th":"td",n=`lexical-table-cell-header-${t.headerState}`,i={backgroundColor:t.backgroundColor||void 0,border:"1px solid #ccc",padding:"8px"},l=t.colSpan&&t.colSpan>1?t.colSpan:void 0,s=t.rowSpan&&t.rowSpan>1?t.rowSpan:void 0;return kt(r,{className:`lexical-table-cell ${n}`,colSpan:l,rowSpan:s,style:i,children:o})},tablerow:({node:t,nodesToJSX:e})=>{let o=e({nodes:t.children});return kt("tr",{className:"lexical-table-row",children:o})}};import{jsx as He}from"react/jsx-runtime";import"react";var O={DOM_ELEMENT_TYPE:1,DOM_TEXT_TYPE:3,NO_DIRTY_NODES:0,HAS_DIRTY_NODES:1,FULL_RECONCILE:2,IS_NORMAL:0,IS_TOKEN:1,IS_SEGMENTED:2,IS_INERT:3,IS_BOLD:1,IS_ITALIC:2,IS_STRIKETHROUGH:4,IS_UNDERLINE:8,IS_CODE:16,IS_SUBSCRIPT:32,IS_SUPERSCRIPT:64,IS_HIGHLIGHT:128,IS_DIRECTIONLESS:1,IS_UNMERGEABLE:2,IS_ALIGN_LEFT:1,IS_ALIGN_CENTER:2,IS_ALIGN_RIGHT:3,IS_ALIGN_JUSTIFY:4,IS_ALIGN_START:5,IS_ALIGN_END:6},Tp=O.IS_BOLD|O.IS_ITALIC|O.IS_STRIKETHROUGH|O.IS_UNDERLINE|O.IS_CODE|O.IS_SUBSCRIPT|O.IS_SUPERSCRIPT|O.IS_HIGHLIGHT,wp="\xA0",kp=`

`,Al="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",Dl="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",Ep=new RegExp("^[^"+Dl+"]*["+Al+"]"),Np=new RegExp("^[^"+Al+"]*["+Dl+"]"),Lp={bold:O.IS_BOLD,code:O.IS_CODE,highlight:O.IS_HIGHLIGHT,italic:O.IS_ITALIC,strikethrough:O.IS_STRIKETHROUGH,subscript:O.IS_SUBSCRIPT,superscript:O.IS_SUPERSCRIPT,underline:O.IS_UNDERLINE},Sp={directionless:O.IS_DIRECTIONLESS,unmergeable:O.IS_UNMERGEABLE},Rp={center:O.IS_ALIGN_CENTER,end:O.IS_ALIGN_END,justify:O.IS_ALIGN_JUSTIFY,left:O.IS_ALIGN_LEFT,right:O.IS_ALIGN_RIGHT,start:O.IS_ALIGN_START},Ip={[O.IS_ALIGN_CENTER]:"center",[O.IS_ALIGN_END]:"end",[O.IS_ALIGN_JUSTIFY]:"justify",[O.IS_ALIGN_LEFT]:"left",[O.IS_ALIGN_RIGHT]:"right",[O.IS_ALIGN_START]:"start"},yp={normal:O.IS_NORMAL,segmented:O.IS_SEGMENTED,token:O.IS_TOKEN},vp={[O.IS_NORMAL]:"normal",[O.IS_SEGMENTED]:"segmented",[O.IS_TOKEN]:"token"};var Ol={text:({node:t})=>{let e=t.text;return t.format&O.IS_BOLD&&(e=He("strong",{children:e})),t.format&O.IS_ITALIC&&(e=He("em",{children:e})),t.format&O.IS_STRIKETHROUGH&&(e=He("span",{style:{textDecoration:"line-through"},children:e})),t.format&O.IS_UNDERLINE&&(e=He("span",{style:{textDecoration:"underline"},children:e})),t.format&O.IS_CODE&&(e=He("code",{children:e})),t.format&O.IS_SUBSCRIPT&&(e=He("sub",{children:e})),t.format&O.IS_SUPERSCRIPT&&(e=He("sup",{children:e})),e}};import{jsx as Et}from"react/jsx-runtime";var Fl={upload:({node:t})=>{let e=t;if(typeof e.value!="object")return null;let o=e.value,r=o.url;if(!o.mimeType.startsWith("image"))return Et("a",{href:r,rel:"noopener noreferrer",children:o.filename});if(!o.sizes||!Object.keys(o.sizes).length)return Et("img",{alt:o.filename,height:o.height,src:r,width:o.width});let n=[];for(let i in o.sizes){let l=o.sizes[i];if(!l||!l.width||!l.height||!l.mimeType||!l.filesize||!l.filename||!l.url)continue;let s=l?.url;n.push(Et("source",{media:`(max-width: ${l.width}px)`,srcSet:s,type:l.mimeType},i))}return n.push(Et("img",{alt:o?.filename,height:o?.height,src:r,width:o?.width},"image")),Et("picture",{children:n})}};var et={...yl,...Ol,...Ll,...kl,...Ml,...El,...Nl,...Il,...Rl({}),...Fl,...vl};import{jsx as Pl,Fragment as Mp}from"react/jsx-runtime";import or from"react";function $l(t){let e=!!t?.root?.children?.length,o=!1;if(t?.root?.children?.length===1&&t?.root?.children[0]?.type==="paragraph"){let r=t?.root?.children[0];if(!r?.children||r?.children?.length===0)o=!0;else if(r?.children?.length===1){let n=r?.children[0];n?.type==="text"&&(n?.text?.length||(o=!0))}}return!(!e||o)}function Bl({converters:t,data:e,disableIndent:o,disableTextAlign:r}){return $l(e)?Hl({converters:t,disableIndent:o,disableTextAlign:r,nodes:e?.root?.children,parent:e?.root}):Pl(Mp,{})}function Hl({converters:t,disableIndent:e,disableTextAlign:o,nodes:r,parent:n}){let i=t.unknown;return r.map((s,u)=>{let c;s.type==="block"?(c=t?.blocks?.[s?.fields?.blockType],!c&&!i&&console.error(`Lexical => JSX converter: Blocks converter: found ${s?.fields?.blockType} block, but no converter is provided`)):s.type==="inlineBlock"?(c=t?.inlineBlocks?.[s?.fields?.blockType],!c&&!i&&console.error(`Lexical => JSX converter: Inline Blocks converter: found ${s?.fields?.blockType} inline block, but no converter is provided`)):c=t[s.type];try{!c&&i&&(c=i);let d;c?d=typeof c=="function"?c({childIndex:u,converters:t,node:s,nodesToJSX:m=>Hl({converters:m.converters??t,disableIndent:m.disableIndent??e,disableTextAlign:m.disableTextAlign??o,nodes:m.nodes,parent:m.parent??{...s,parent:n}}),parent:n}):c:d=Pl("span",{children:"unknown node"},u);let a={};if(!o&&(!Array.isArray(o)||!o?.includes(s.type))&&"format"in s&&s.format)switch(s.format){case"center":a.textAlign="center";break;case"end":a.textAlign="right";break;case"justify":a.textAlign="justify";break;case"left":break;case"right":a.textAlign="right";break;case"start":a.textAlign="left";break}if(!e&&(!Array.isArray(e)||!e?.includes(s.type))&&"indent"in s&&s.indent&&s.type!=="listitem"&&(a.paddingInlineStart=`${Number(s.indent)*2}em`),or.isValidElement(d)){if(a.textAlign||a.paddingInlineStart){let p={...a,...d?.props?.style??{}};return or.cloneElement(d,{key:u,style:p})}return or.cloneElement(d,{key:u})}return d}catch(d){return console.error("Error converting lexical node to JSX:",d,"node:",s),null}}).filter(Boolean)}var rr=({className:t,converters:e,data:o,disableContainer:r,disableIndent:n,disableTextAlign:i})=>{if(!o)return null;let l={};e?typeof e=="function"?l=e({defaultConverters:et}):l=e:l=et;let s=o&&!Array.isArray(o)&&typeof o=="object"&&"root"in o&&Bl({converters:l,data:o,disableIndent:n,disableTextAlign:i});return r?jl(Ap,{children:s}):jl("div",{className:t??"payload-richtext",children:s})};function Ul(){let t=Dp(7),[e]=Fp(),o;t[0]!==e?(o=e.getEditorState().toJSON(),t[0]=e,t[1]=o):o=t[1];let[r,n]=Pp(o),i,l;t[2]!==e?(i=()=>e.registerUpdateListener(u=>{let{editorState:c}=u;n(c.toJSON())}),l=[e],t[2]=e,t[3]=i,t[4]=l):(i=t[3],l=t[4]),$p(i,l);let s;return t[5]!==r?(s=Op(rr,{converters:et,data:r}),t[5]=r,t[6]=s):s=t[6],s}var Bp=y({plugins:[{Component:Ul,position:"bottom"}]});import{$isNodeSelection as Ef}from"lexical";import{jsx as Nt,jsxs as Hp}from"react/jsx-runtime";import"react";var nr=()=>Hp("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[Nt("g",{clipPath:"url(#clip0_4397_10817)",children:Nt("path",{d:"M7.75 12.25L15.25 4.75M15.25 4.75H11.5M15.25 4.75V8.5M13 11.5V13.75C13 14.5784 12.3284 15.25 11.5 15.25H6.25C5.42157 15.25 4.75 14.5784 4.75 13.75V8.5C4.75 7.67157 5.42157 7 6.25 7H8.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),Nt("defs",{children:Nt("clipPath",{id:"clip0_4397_10817",children:Nt("rect",{fill:"currentColor",height:"12",transform:"translate(4 4)",width:"12"})})})]});import{jsx as Gp}from"react/jsx-runtime";import*as Wl from"react";import{DecoratorBlockNode as jp}from"@lexical/react/LexicalDecoratorBlockNode.js";function Up(t){let e=t.getAttribute("data-lexical-relationship-id"),o=t.getAttribute("data-lexical-relationship-relationTo");return e!=null&&o!=null?{node:Gl({relationTo:o,value:e})}:null}var Lt=class extends jp{__data;constructor({data:e,format:o,key:r}){super(o,r),this.__data=e}static clone(e){return new this({data:e.__data,format:e.__format,key:e.__key})}static getType(){return"relationship"}static importDOM(){return{div:e=>!e.hasAttribute("data-lexical-relationship-relationTo")||!e.hasAttribute("data-lexical-relationship-id")?null:{conversion:Up,priority:2}}}static importJSON(e){e.version===1&&e?.value?.id&&(e.value=e.value.id);let o={relationTo:e.relationTo,value:e.value},r=Gl(o);return r.setFormat(e.format),r}static isInline(){return!1}decorate(e,o){return null}exportDOM(){let e=document.createElement("div");e.setAttribute("data-lexical-relationship-id",String(typeof this.__data?.value=="object"?this.__data?.value?.id:this.__data?.value)),e.setAttribute("data-lexical-relationship-relationTo",this.__data?.relationTo);let o=document.createTextNode(this.getTextContent());return e.append(o),{element:e}}exportJSON(){return{...super.exportJSON(),...this.getData(),type:"relationship",version:2}}getData(){return this.getLatest().__data}getTextContent(){return`${this.__data?.relationTo} relation to ${typeof this.__data?.value=="object"?this.__data?.value?.id:this.__data?.value}`}setData(e){let o=this.getWritable();o.__data=e}};function Gl(t){return new Lt({data:t})}var Wp=Wl.lazy(()=>import("./RelationshipComponent-APF3CN47.js").then(t=>({default:t.RelationshipComponent})));function Vp(t){let e=t.getAttribute("data-lexical-relationship-id"),o=t.getAttribute("data-lexical-relationship-relationTo");return e!=null&&o!=null?{node:je({relationTo:o,value:e})}:null}var Ne=class extends Lt{static clone(e){return super.clone(e)}static getType(){return super.getType()}static importDOM(){return{div:e=>!e.hasAttribute("data-lexical-relationship-relationTo")||!e.hasAttribute("data-lexical-relationship-id")?null:{conversion:Vp,priority:2}}}static importJSON(e){e.version===1&&e?.value?.id&&(e.value=e.value.id);let o={relationTo:e.relationTo,value:e.value},r=je(o);return r.setFormat(e.format),r}decorate(e,o){return Gp(Wp,{className:o.theme.relationship??"LexicalEditorTheme__relationship",data:this.__data,format:this.__format,nodeKey:this.getKey()})}exportJSON(){return super.exportJSON()}};function je(t){return new Ne({data:t})}function ir(t){return t instanceof Ne}import{c as uf}from"react/compiler-runtime";import{jsx as df}from"react/jsx-runtime";import{useLexicalComposerContext as mf}from"@lexical/react/LexicalComposerContext.js";import{$insertNodeToNearestRoot as pf}from"@lexical/utils";import{useConfig as ff}from"@payloadcms/ui";import{$getPreviousSelection as hf,$getSelection as gf,$isParagraphNode as Zl,$isRangeSelection as Cf,COMMAND_PRIORITY_EDITOR as xf,createCommand as bf}from"lexical";import{useEffect as _f}from"react";import{c as rf}from"react/compiler-runtime";import{jsx as oo}from"react/jsx-runtime";import{useLexicalComposerContext as nf}from"@lexical/react/LexicalComposerContext.js";import{$getNodeByKey as lf,COMMAND_PRIORITY_EDITOR as sf}from"lexical";import{useEffect as af,useState as Jl}from"react";import{c as Kp}from"react/compiler-runtime";import{jsx as Jp}from"react/jsx-runtime";import{useLexicalComposerContext as Xp}from"@lexical/react/LexicalComposerContext";import{useListDrawer as zp,useModal as Zp}from"@payloadcms/ui";import{$getNodeByKey as Vl,$getPreviousSelection as Yp,$getRoot as qp,$getSelection as Qp,$isRangeSelection as ef,$setSelection as tf}from"lexical";import{useEffect as of,useState as Kl}from"react";var St=t=>{let e=Kp(23),[o]=Xp(),[r,n]=Kl(null),[i,l]=Kl(!1),[s,u,c]=zp(t),{closeDrawer:d,drawerSlug:a,isDrawerOpen:p,openDrawer:m}=c,{modalState:f}=Zp(),h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{let P=Qp()??Yp();n(P)},e[0]=h):h=e[0];let C=h,_;e[1]!==o||e[2]!==r?(_=()=>{r&&o.update(()=>{if(ef(r)){let{anchor:P,focus:v}=r;Vl(P.key)&&Vl(v.key)&&tf(r.clone())}else qp().selectEnd()},{discrete:!0,skipTransforms:!0})},e[1]=o,e[2]=r,e[3]=_):_=e[3];let R=_,A;e[4]!==d?(A=()=>{d()},e[4]=d,e[5]=A):A=e[5];let b=A,T,g;e[6]!==a||e[7]!==f||e[8]!==R||e[9]!==i?(T=()=>{if(!i)return;let P=f[a];P&&!P?.isOpen&&(l(!1),setTimeout(()=>{R()},1))},g=[f,a,R,i],e[6]=a,e[7]=f,e[8]=R,e[9]=i,e[10]=T,e[11]=g):(T=e[10],g=e[11]),of(T,g);let k;e[12]!==u?(k=P=>Jp(u,{...P,onClick:()=>{C()}}),e[12]=u,e[13]=k):k=e[13];let M;e[14]!==m?(M=()=>{C(),m(),l(!0)},e[14]=m,e[15]=M):M=e[15];let D;return e[16]!==s||e[17]!==b||e[18]!==p||e[19]!==a||e[20]!==k||e[21]!==M?(D={closeListDrawer:b,isListDrawerOpen:p,ListDrawer:s,listDrawerSlug:a,ListDrawerToggler:k,openListDrawer:M},e[16]=s,e[17]=b,e[18]=p,e[19]=a,e[20]=k,e[21]=M,e[22]=D):D=e[22],D};var cf=({editor:t,relationTo:e,replaceNodeKey:o,value:r})=>{o?t.update(()=>{let n=lf(o);n&&n.replace(je({relationTo:e,value:r}))}):t.dispatchCommand(lr,{relationTo:e,value:r})},Xl=t=>{let e=rf(16),{enabledCollectionSlugs:o}=t,[r]=nf(),n;e[0]!==o?.[0]?(n=()=>o?.[0],e[0]=o?.[0],e[1]=n):n=e[1];let[i]=Jl(n),[l,s]=Jl(null),u=o||void 0,c;e[2]!==i||e[3]!==u?(c={collectionSlugs:u,selectedCollection:i},e[2]=i,e[3]=u,e[4]=c):c=e[4];let{closeListDrawer:d,ListDrawer:a,openListDrawer:p}=St(c),m,f;e[5]!==r||e[6]!==p?(m=()=>r.registerCommand(st,R=>(s(R?.replace?R?.replace.nodeKey:null),p(),!0),sf),f=[r,p],e[5]=r,e[6]=p,e[7]=m,e[8]=f):(m=e[7],f=e[8]),af(m,f);let h;e[9]!==d||e[10]!==r||e[11]!==l?(h=R=>{let{collectionSlug:A,doc:b}=R;cf({editor:r,relationTo:A,replaceNodeKey:l,value:b.id}),d()},e[9]=d,e[10]=r,e[11]=l,e[12]=h):h=e[12];let C=h,_;return e[13]!==a||e[14]!==C?(_=oo(a,{onSelect:C}),e[13]=a,e[14]=C,e[15]=_):_=e[15],_},zl=t=>(t?.enabledCollectionSlugs?.length??-1)>0?oo(Xl,{...t}):oo(Ot,{...t,children:oo(Xl,{...t})});var lr=bf("INSERT_RELATIONSHIP_COMMAND"),Yl=t=>{let e=uf(10),{clientProps:o}=t,[r]=mf(),{config:n}=ff(),{collections:i}=n,l=null;if(o?.enabledCollections)l=o?.enabledCollections;else if(o?.disabledCollections){let d;if(e[0]!==o?.disabledCollections||e[1]!==i){let a;e[3]!==o?.disabledCollections?(a=p=>{let{slug:m}=p;return!o?.disabledCollections?.includes(m)},e[3]=o?.disabledCollections,e[4]=a):a=e[4],d=i.filter(a).map(Tf),e[0]=o?.disabledCollections,e[1]=i,e[2]=d}else d=e[2];l=d}let s,u;e[5]!==r?(s=()=>{if(!r.hasNodes([Ne]))throw new Error("RelationshipPlugin: RelationshipNode not registered on editor");return r.registerCommand(lr,kf,xf)},u=[r],e[5]=r,e[6]=s,e[7]=u):(s=e[6],u=e[7]),_f(s,u);let c;return e[8]!==l?(c=df(zl,{enabledCollectionSlugs:l}),e[8]=l,e[9]=c):c=e[9],c};function Tf(t){let{slug:e}=t;return e}function wf(t){return Zl(t)}function kf(t){let e=gf()||hf();if(Cf(e)){let o=je(t);pf(o);let{focus:r}=e,n=r.getNode();Zl(n)&&n.getTextContentSize()===0&&n.getParentOrThrow().getChildren().filter(wf).length>1&&n.remove()}return!0}var Nf=y({nodes:[Ne],plugins:[{Component:Yl,position:"normal"}],slashMenu:{groups:[Q([{Icon:nr,key:"relationship",keywords:["relationship","relation","rel"],label:({i18n:t})=>t.t("lexical:relationship:label"),onSelect:({editor:t})=>{t.dispatchCommand(st,{replace:!1})}}])]},toolbarFixed:{groups:[_e([{ChildComponent:nr,isActive:({selection:t})=>{if(!Ef(t)||!t.getNodes().length)return!1;let e=t.getNodes()[0];return ir(e)},key:"relationship",label:({i18n:t})=>t.t("lexical:relationship:label"),onSelect:({editor:t})=>{t.dispatchCommand(st,{replace:!1})}}])]}});import{c as ns}from"react/compiler-runtime";import{jsx as de,jsxs as Wf}from"react/jsx-runtime";import{useLexicalComposerContext as Vf}from"@lexical/react/LexicalComposerContext.js";import{useScrollInfo as Kf,useThrottledEffect as Jf,useTranslation as Xf}from"@payloadcms/ui";import*as Le from"react";import{useMemo as zf}from"react";import{c as Lf}from"react/compiler-runtime";import{jsx as Sf}from"react/jsx-runtime";import{mergeRegister as Rf}from"@lexical/utils";import{$addUpdateTag as If,$getSelection as yf}from"lexical";import{useEffect as ro,useState as sr}from"react";var ar="toolbar-popup__button",Rt=t=>{let e=Lf(34),{children:o,editor:r,item:n}=t,[i,l]=sr(!0),[s,u]=sr(!1),[c,d]=sr(ar),a=j(),p;e[0]!==s||e[1]!==r||e[2]!==a||e[3]!==i||e[4]!==n?(p=()=>{r.getEditorState().read(()=>{let M=yf();if(M){if(n.isActive){let D=n.isActive({editor:r,editorConfigContext:a,selection:M});s!==D&&u(D)}if(n.isEnabled){let D=n.isEnabled({editor:r,editorConfigContext:a,selection:M});i!==D&&l(D)}}})},e[0]=s,e[1]=r,e[2]=a,e[3]=i,e[4]=n,e[5]=p):p=e[5];let m=p,f,h;e[6]!==m?(f=()=>{m()},h=[m],e[6]=m,e[7]=f,e[8]=h):(f=e[7],h=e[8]),ro(f,h);let C,_;e[9]!==m?(C=()=>(document.addEventListener("mouseup",m),()=>{document.removeEventListener("mouseup",m)}),_=[m],e[9]=m,e[10]=C,e[11]=_):(C=e[10],_=e[11]),ro(C,_);let R,A;e[12]!==r||e[13]!==m?(R=()=>Rf(r.registerUpdateListener(()=>{m()})),A=[r,m],e[12]=r,e[13]=m,e[14]=R,e[15]=A):(R=e[14],A=e[15]),ro(R,A);let b;e[16]!==s||e[17]!==i||e[18]!==n.key?(b=()=>{d([ar,i===!1?"disabled":"",s?"active":"",n?.key?`${ar}-`+n.key:""].filter(Boolean).join(" "))},e[16]=s,e[17]=i,e[18]=n.key,e[19]=b):b=e[19];let T;e[20]!==s||e[21]!==c||e[22]!==i||e[23]!==n.key?(T=[i,s,c,n.key],e[20]=s,e[21]=c,e[22]=i,e[23]=n.key,e[24]=T):T=e[24],ro(b,T);let g;e[25]!==s||e[26]!==r||e[27]!==i||e[28]!==n?(g=()=>{if(i!==!1)return r.focus(()=>{r.update(vf),n.onSelect?.({editor:r,isActive:s})}),!0},e[25]=s,e[26]=r,e[27]=i,e[28]=n,e[29]=g):g=e[29];let k;return e[30]!==o||e[31]!==c||e[32]!==g?(k=Sf("button",{className:c,onClick:g,onMouseDown:Mf,type:"button",children:o}),e[30]=o,e[31]=c,e[32]=g,e[33]=k):k=e[33],k};function vf(){If("toolbar")}function Mf(t){t.preventDefault()}import{c as rs}from"react/compiler-runtime";import{jsx as tt}from"react/jsx-runtime";import dr,{useEffect as os}from"react";import{mergeRegister as Hf}from"@lexical/utils";import{useTranslation as jf}from"@payloadcms/ui";import{$getSelection as Uf}from"lexical";import{jsx as Me,jsxs as ql}from"react/jsx-runtime";import{Button as Af}from"@payloadcms/ui";import{$addUpdateTag as Df,isDOMNode as Of}from"lexical";import no,{useCallback as Ff,useEffect as It,useMemo as $f,useRef as ur,useState as io}from"react";import{createPortal as Pf}from"react-dom";var cr="toolbar-popup__dropdown-item",Ql=no.createContext(null);function es({active:t,children:e,editor:o,enabled:r,Icon:n,item:i,tooltip:l}){let[s,u]=io(cr);It(()=>{u([cr,r===!1?"disabled":"",t?"active":"",i?.key?`${cr}-${i.key}`:""].filter(Boolean).join(" "))},[r,t,s,i.key]);let c=ur(null),d=no.use(Ql);if(d===null)throw new Error("DropDownItem must be used within a DropDown");let{registerItem:a}=d;return It(()=>{c?.current!=null&&a(c)},[c,a]),Me(Af,{"aria-label":l,buttonStyle:"none",className:s,disabled:r===!1,icon:n,iconPosition:"left",iconStyle:"none",onClick:()=>{r!==!1&&o.focus(()=>{o.update(()=>{Df("toolbar")}),i.onSelect?.({editor:o,isActive:t})})},onMouseDown:p=>{p.preventDefault()},ref:c,tooltip:l,type:"button",children:e})}function Bf({children:t,dropDownRef:e,itemsContainerClassNames:o,onClose:r}){let[n,i]=io(),[l,s]=io(),u=Ff(a=>{i(p=>p!=null?[...p,a]:[a])},[i]),c=a=>{if(n==null)return;let{key:p}=a;["ArrowDown","ArrowUp","Escape","Tab"].includes(p)&&a.preventDefault(),p==="Escape"||p==="Tab"?r():p==="ArrowUp"?s(m=>{if(m==null)return n[0];let f=n.indexOf(m)-1;return n[f===-1?n.length-1:f]}):p==="ArrowDown"&&s(m=>m==null?n[0]:n[n.indexOf(m)+1])},d=$f(()=>({registerItem:u}),[u]);return It(()=>{n!=null&&l==null&&s(n[0]),l!=null&&l?.current!=null&&l.current.focus()},[n,l]),Me(Ql,{value:d,children:Me("div",{className:(o??["toolbar-popup__dropdown-items"]).join(" "),onKeyDown:c,ref:e,children:t})})}function ts({buttonAriaLabel:t,buttonClassName:e,children:o,disabled:r=!1,Icon:n,itemsContainerClassNames:i,label:l,stopCloseOnClickSelf:s}){let u=ur(null),c=ur(null),[d,a]=io(!1),p=()=>{a(!1),c?.current!=null&&c.current.focus()};It(()=>{let f=c.current,h=u.current;if(d&&f!==null&&h!==null){let{left:C,top:_}=f.getBoundingClientRect(),R=window.scrollY||document.documentElement.scrollTop;h.style.top=`${_+R+f.offsetHeight+5}px`,h.style.left=`${Math.min(C-5,window.innerWidth-h.offsetWidth-20)}px`}},[u,c,d]),It(()=>{let f=c.current;if(f!==null&&d){let h=C=>{let _=C.target;Of(_)&&(s&&u.current&&u.current.contains(_)||f.contains(_)||a(!1))};return document.addEventListener("click",h),()=>{document.removeEventListener("click",h)}}},[u,c,d,s]);let m=Pf(Me(Bf,{dropDownRef:u,itemsContainerClassNames:i,onClose:p,children:o}),document.body);return ql(no.Fragment,{children:[ql("button",{"aria-label":t,className:e+(d?" active":""),disabled:r,onClick:f=>{f.preventDefault(),a(!d)},onMouseDown:f=>{f.preventDefault()},ref:c,type:"button",children:[n&&Me(n,{}),l&&Me("span",{className:"toolbar-popup__dropdown-label",children:l}),Me("i",{className:"toolbar-popup__dropdown-caret"})]}),d&&Me(no.Fragment,{children:m})]})}var mr="toolbar-popup__dropdown",Gf=t=>{let e=rs(18),{active:o,anchorElem:r,editor:n,enabled:i,item:l}=t,{i18n:s}=jf(),{fieldProps:u}=j(),{featureClientSchemaMap:c,schemaPath:d}=u;if(l.Component){let f;return e[0]!==o||e[1]!==r||e[2]!==n||e[3]!==i||e[4]!==l?(f=l?.Component&&tt(l.Component,{active:o,anchorElem:r,editor:n,enabled:i,item:l},l.key),e[0]=o,e[1]=r,e[2]=n,e[3]=i,e[4]=l,e[5]=f):f=e[5],f}let a=l.key,p;if(l.label){let f;e[6]!==c||e[7]!==s||e[8]!==l||e[9]!==d?(f=typeof l.label=="function"?l.label({featureClientSchemaMap:c,i18n:s,schemaPath:d}):l.label,e[6]=c,e[7]=s,e[8]=l,e[9]=d,e[10]=f):f=e[10],a=f}a.length>25?p=a.substring(0,25)+"...":p=a;let m;return e[11]!==o||e[12]!==p||e[13]!==n||e[14]!==i||e[15]!==l||e[16]!==a?(m=tt(es,{active:o,editor:n,enabled:i,Icon:l?.ChildComponent?tt(l.ChildComponent,{}):void 0,item:l,tooltip:a,children:tt("span",{className:"text",children:p})},l.key),e[11]=o,e[12]=p,e[13]=n,e[14]=i,e[15]=l,e[16]=a,e[17]=m):m=e[17],m},Ue=t=>{let e=rs(36),{anchorElem:o,classNames:r,editor:n,group:i,Icon:l,itemsContainerClassNames:s,label:u,maxActiveItems:c,onActiveChange:d}=t,a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[0]=a):a=e[0];let[p,m]=dr.useState(a),f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f=[],e[1]=f):f=e[1];let[h,C]=dr.useState(f),[_,R]=dr.useState(!0),A=j(),{items:b,key:T}=i,g;e[2]!==n||e[3]!==A||e[4]!==i||e[5]!==b||e[6]!==c||e[7]!==d?(g=()=>{n.getEditorState().read(()=>{let $=Uf();if(!$)return;let U=[],V=[],pe=[];for(let H of b)H.isActive&&(!c||U.length<c)&&H.isActive({editor:n,editorConfigContext:A,selection:$})&&(U.push(H.key),V.push(H)),H.isEnabled?H.isEnabled({editor:n,editorConfigContext:A,selection:$})&&pe.push(H.key):pe.push(H.key);i.isEnabled&&R(i.isEnabled({editor:n,editorConfigContext:A,selection:$})),m(U),C(pe),d&&d({activeItems:V})})},e[2]=n,e[3]=A,e[4]=i,e[5]=b,e[6]=c,e[7]=d,e[8]=g):g=e[8];let k=g,M,D;e[9]!==k?(M=()=>{k()},D=[k],e[9]=k,e[10]=M,e[11]=D):(M=e[10],D=e[11]),os(M,D);let P,v;e[12]!==n||e[13]!==k?(P=()=>Hf(n.registerUpdateListener(()=>{k()})),v=[n,k],e[12]=n,e[13]=k,e[14]=P,e[15]=v):(P=e[14],v=e[15]),os(P,v);let N=`${T} dropdown`,x=`${mr}-${T}`,E;e[16]!==r?(E=r||[],e[16]=r,e[17]=E):E=e[17];let S;e[18]!==E||e[19]!==x?(S=[mr,x,...E].filter(Boolean),e[18]=E,e[19]=x,e[20]=S):S=e[20];let L=S.join(" "),I=!_,w;e[21]!==s?(w=s||[],e[21]=s,e[22]=w):w=e[22];let F;return e[23]!==l||e[24]!==p||e[25]!==o||e[26]!==n||e[27]!==h||e[28]!==T||e[29]!==b||e[30]!==u||e[31]!==L||e[32]!==I||e[33]!==w||e[34]!==N?(F=tt(ts,{buttonAriaLabel:N,buttonClassName:L,disabled:I,Icon:l,itemsContainerClassNames:[`${mr}-items`,...w],label:u,children:b.length?b.map($=>tt(Gf,{active:p.includes($.key),anchorElem:o,editor:n,enabled:h.includes($.key),item:$},$.key)):null},T),e[23]=l,e[24]=p,e[25]=o,e[26]=n,e[27]=h,e[28]=T,e[29]=b,e[30]=u,e[31]=L,e[32]=I,e[33]=w,e[34]=N,e[35]=F):F=e[35],F};function Zf({anchorElem:t,editor:e,item:o}){return o.Component?o?.Component&&de(o.Component,{anchorElem:t,editor:e,item:o},o.key):o.ChildComponent?de(Rt,{editor:e,item:o,children:de(o.ChildComponent,{})},o.key):null}function Yf(t){let e=ns(23),{anchorElem:o,editor:r,editorConfig:n,group:i,index:l}=t,{i18n:s}=Xf(),{fieldProps:u}=j(),{featureClientSchemaMap:c,schemaPath:d}=u,[a,p]=Le.useState(void 0),[m,f]=Le.useState(void 0),h;e[0]!==i.ChildComponent||e[1]!==i.items||e[2]!==i.type?(h=()=>{i?.type==="dropdown"&&i.items.length&&i.ChildComponent?f(()=>i.ChildComponent):f(void 0)},e[0]=i.ChildComponent,e[1]=i.items,e[2]=i.type,e[3]=h):h=e[3];let C;e[4]!==i?(C=[i],e[4]=i,e[5]=C):C=e[5],Le.useEffect(h,C);let _;e[6]!==c||e[7]!==i.ChildComponent||e[8]!==i.items||e[9]!==i.type||e[10]!==s||e[11]!==d?(_=T=>{let{activeItems:g}=T;if(!g.length){i?.type==="dropdown"&&i.items.length&&i.ChildComponent?(f(()=>i.ChildComponent),p(void 0)):(f(void 0),p(void 0));return}let k=g[0],M=k.key;k.label&&(M=typeof k.label=="function"?k.label({featureClientSchemaMap:c,i18n:s,schemaPath:d}):k.label),M.length>25&&(M=M.substring(0,25)+"..."),g.length===1?(p(M),f(()=>k.ChildComponent)):(p(s.t("lexical:general:toolbarItemsActive",{count:g.length})),i?.type==="dropdown"&&i.items.length&&i.ChildComponent?f(()=>i.ChildComponent):f(void 0))},e[6]=c,e[7]=i.ChildComponent,e[8]=i.items,e[9]=i.type,e[10]=s,e[11]=d,e[12]=_):_=e[12];let R=_,A=`fixed-toolbar__group fixed-toolbar__group-${i.key}`,b;return e[13]!==m||e[14]!==o||e[15]!==a||e[16]!==r||e[17]!==n.features.toolbarFixed?.groups.length||e[18]!==i||e[19]!==l||e[20]!==R||e[21]!==A?(b=Wf("div",{className:A,children:[i.type==="dropdown"&&i.items.length?m?de(Ue,{anchorElem:o,editor:r,group:i,Icon:m,itemsContainerClassNames:["fixed-toolbar__dropdown-items"],label:a,maxActiveItems:i.maxActiveItems??1,onActiveChange:R}):de(Ue,{anchorElem:o,editor:r,group:i,itemsContainerClassNames:["fixed-toolbar__dropdown-items"],label:a,maxActiveItems:i.maxActiveItems??1,onActiveChange:R}):null,i.type==="buttons"&&i.items.length?i.items.map(T=>de(Zf,{anchorElem:o,editor:r,item:T},T.key)):null,l<n.features.toolbarFixed?.groups.length-1&&de("div",{className:"divider"})]},i.key),e[13]=m,e[14]=o,e[15]=a,e[16]=r,e[17]=n.features.toolbarFixed?.groups.length,e[18]=i,e[19]=l,e[20]=R,e[21]=A,e[22]=b):b=e[22],b}function qf({anchorElem:t,clientProps:e,editor:o,editorConfig:r,parentWithFixedToolbar:n}){let i=Le.useRef(null),{y:l}=Kf(),s=zf(()=>{if(!n||e?.disableIfParentHasFixedToolbar)return null;let c=n.editorContainerRef.current.previousElementSibling;for(;c;){if(c.classList.contains("fixed-toolbar"))return c;c=c.previousElementSibling}return null},[e?.disableIfParentHasFixedToolbar,n]);return Jf(()=>{if(!s)return;let u=i.current;if(!u)return;let c=u.getBoundingClientRect(),d=s.getBoundingClientRect();if(!(c.bottom<d.top||c.top>d.bottom))u.classList.remove("fixed-toolbar"),u.classList.add("fixed-toolbar","fixed-toolbar--overlapping"),s.classList.remove("fixed-toolbar"),s.classList.add("fixed-toolbar","fixed-toolbar--hide");else{if(!u.classList.contains("fixed-toolbar--overlapping"))return;u.classList.remove("fixed-toolbar--overlapping"),u.classList.add("fixed-toolbar"),s.classList.remove("fixed-toolbar--hide"),s.classList.add("fixed-toolbar")}},50,[i,s,l]),de("div",{className:"fixed-toolbar",onFocus:u=>{u.stopPropagation()},ref:i,children:o.isEditable()&&de(Le.Fragment,{children:r?.features&&r.features?.toolbarFixed?.groups.map((u,c)=>de(Yf,{anchorElem:t,editor:o,editorConfig:r,group:u,index:c},u.key))})})}var is=t=>{if(t.parentEditor?.editorConfig){if(t.parentEditor?.editorConfig.resolvedFeatureMap.has("toolbarFixed"))return t.parentEditor;if(t.parentEditor)return is(t.parentEditor)}return!1},ls=t=>{let e=ns(6),{clientProps:o}=t,[r]=Vf(),n=j(),{editorConfig:i}=n,l=o.applyToFocusedEditor&&n.focusedEditor?.editor||r,s=o.applyToFocusedEditor&&n.focusedEditor?.editorConfig||i,u,c;if(e[0]!==o.disableIfParentHasFixedToolbar||e[1]!==l||e[2]!==s||e[3]!==n){c=Symbol.for("react.early_return_sentinel");e:{let d=is(n);if(o?.disableIfParentHasFixedToolbar&&d){c=null;break e}if(!s?.features?.toolbarFixed?.groups?.length){c=null;break e}u=de(qf,{anchorElem:document.body,editor:l,editorConfig:s,parentWithFixedToolbar:d})}e[0]=o.disableIfParentHasFixedToolbar,e[1]=l,e[2]=s,e[3]=n,e[4]=u,e[5]=c}else u=e[4],c=e[5];return c!==Symbol.for("react.early_return_sentinel")?c:u};var Qf=y({plugins:[{Component:ls,position:"aboveContainer"}]});import{c as cs}from"react/compiler-runtime";import{jsx as ge,jsxs as us}from"react/jsx-runtime";import{useLexicalComposerContext as e1}from"@lexical/react/LexicalComposerContext.js";import{mergeRegister as ds}from"@lexical/utils";import{$getSelection as ms,$isRangeSelection as ss,$isTextNode as t1,COMMAND_PRIORITY_LOW as o1,getDOMSelection as ps,SELECTION_CHANGE_COMMAND as r1}from"lexical";import{useCallback as so,useEffect as yt,useRef as as,useState as n1}from"react";import*as ao from"react";import{createPortal as i1}from"react-dom";function pr(t,e){let o=t.getRangeAt(0),r;if(t.anchorNode===e){let n=e;for(;n.firstElementChild!=null;)n=n.firstElementChild;r=n.getBoundingClientRect()}else r=o.getBoundingClientRect();return r}function lo(t){let{alwaysDisplayOnTop:e=!1,anchorElem:o,anchorFlippedOffset:r=0,floatingElem:n,horizontalOffset:i=32,horizontalPosition:l="left",specialHandlingForCaret:s=!1,targetRect:u,verticalGap:c=10}=t,d=o.parentElement;if(u===null||d==null){n.style.opacity="0",n.style.transform="translate(-10000px, -10000px)";return}let a=n.getBoundingClientRect(),p=o.getBoundingClientRect(),m=d.getBoundingClientRect(),f=u.top-a.height-c,h=u.left-i;l==="center"&&(h=u.left+u.width/2-a.width/2);let C=0;return!e&&f<m.top&&!s&&(C=a.height+u.height+c*2,f+=C),l==="center"?h+a.width>m.right?h=m.right-a.width-i:h<m.left&&(h=m.left+i):h+a.width>m.right&&(h=m.right-a.width-i),h-=p.left,n.style.opacity="1",s&&r!==0?(f-=p.bottom-r+a.height-3,n.style.transform=`translate(${h}px, ${f}px) rotate(180deg)`):(f-=p.top,n.style.transform=`translate(${h}px, ${f}px)`),C}function l1({anchorElem:t,editor:e,item:o}){return o.Component?o?.Component&&ge(o.Component,{anchorElem:t,editor:e,item:o},o.key):o.ChildComponent?ge(Rt,{editor:e,item:o,children:ge(o.ChildComponent,{})},o.key):null}function s1(t){let e=cs(19),{anchorElem:o,editor:r,group:n,index:i}=t,{editorConfig:l}=j(),[s,u]=ao.useState(),c;e[0]!==n.ChildComponent||e[1]!==n.items||e[2]!==n.type?(c=()=>{n?.type==="dropdown"&&n.items.length&&n.ChildComponent?u(()=>n.ChildComponent):u(void 0)},e[0]=n.ChildComponent,e[1]=n.items,e[2]=n.type,e[3]=c):c=e[3];let d;e[4]!==n?(d=[n],e[4]=n,e[5]=d):d=e[5],ao.useEffect(c,d);let a;e[6]!==n.ChildComponent||e[7]!==n.items||e[8]!==n.type?(a=h=>{let{activeItems:C}=h;if(!C.length){n?.type==="dropdown"&&n.items.length&&n.ChildComponent?u(()=>n.ChildComponent):u(void 0);return}let _=C[0];u(()=>_?.ChildComponent)},e[6]=n.ChildComponent,e[7]=n.items,e[8]=n.type,e[9]=a):a=e[9];let p=a,m=`inline-toolbar-popup__group inline-toolbar-popup__group-${n.key}`,f;return e[10]!==s||e[11]!==o||e[12]!==r||e[13]!==l.features.toolbarInline?.groups.length||e[14]!==n||e[15]!==i||e[16]!==p||e[17]!==m?(f=us("div",{className:m,children:[n.type==="dropdown"&&n.items.length?s?ge(Ue,{anchorElem:o,editor:r,group:n,Icon:s,maxActiveItems:n.maxActiveItems??1,onActiveChange:p}):ge(Ue,{anchorElem:o,editor:r,group:n,maxActiveItems:n.maxActiveItems??1,onActiveChange:p}):null,n.type==="buttons"&&n.items.length?n.items.map(h=>ge(l1,{anchorElem:o,editor:r,item:h},h.key)):null,i<l.features.toolbarInline?.groups.length-1&&ge("div",{className:"divider"})]},n.key),e[10]=s,e[11]=o,e[12]=r,e[13]=l.features.toolbarInline?.groups.length,e[14]=n,e[15]=i,e[16]=p,e[17]=m,e[18]=f):f=e[18],f}function a1({anchorElem:t,editor:e}){let o=as(null),r=as(null),{editorConfig:n}=j(),i=so(()=>{if(o?.current){let c=o.current.style.opacity==="0",d=o.current.style.pointerEvents==="none";c||(o.current.style.opacity="0"),d||(o.current.style.pointerEvents="none")}},[o]),l=so(c=>{if(o?.current&&(c.buttons===1||c.buttons===3)){let d=o.current.style.opacity==="0",a=o.current.style.pointerEvents==="none";if(!d||!a){let p=c.clientX,m=c.clientY,f=document.elementFromPoint(p,m);o.current.contains(f)||i()}}},[i]),s=so(()=>{o?.current&&(o.current.style.opacity!=="1"&&(o.current.style.opacity="1"),o.current.style.pointerEvents!=="auto"&&(o.current.style.pointerEvents="auto"))},[]);yt(()=>(document.addEventListener("mousemove",l),document.addEventListener("mouseup",s),()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",s)}),[o,l,s]);let u=so(()=>{let c=ms(),d=ps(e._window);if(o.current===null)return;let a=t.querySelector(":scope > .link-editor"),p=a!==null&&"style"in a&&a?.style?.opacity==="1",m=e.getRootElement();if(c!==null&&d!==null&&!d.isCollapsed&&m!==null&&m.contains(d.anchorNode)){let f=pr(d,m),h=lo({alwaysDisplayOnTop:p,anchorElem:t,floatingElem:o.current,horizontalPosition:"center",targetRect:f});r.current&&lo({anchorElem:o.current,anchorFlippedOffset:h,floatingElem:r.current,horizontalOffset:5,horizontalPosition:"center",specialHandlingForCaret:!0,targetRect:f,verticalGap:8})}else i()},[e,i,t]);return yt(()=>{let c=t.parentElement,d=()=>{e.getEditorState().read(()=>{u()})};return window.addEventListener("resize",d),c&&c.addEventListener("scroll",d),()=>{window.removeEventListener("resize",d),c&&c.removeEventListener("scroll",d)}},[e,u,t]),yt(()=>(e.getEditorState().read(()=>{u()}),ds(e.registerUpdateListener(({editorState:c})=>{c.read(()=>{u()})}),e.registerCommand(r1,()=>(u(),!1),o1))),[e,u]),us("div",{className:"inline-toolbar-popup",ref:o,children:[ge("div",{className:"caret",ref:r}),n?.features&&n.features?.toolbarInline?.groups.map((c,d)=>ge(s1,{anchorElem:t,editor:e,group:c,index:d},c.key))]})}function c1(t,e){let o=cs(12),[r,n]=n1(!1),i;o[0]!==t?(i=()=>{t.getEditorState().read(()=>{if(t.isComposing())return;let p=ms(),m=ps(t._window),f=t.getRootElement();if(m!==null&&(!ss(p)||f===null||!f.contains(m.anchorNode))){n(!1);return}if(!ss(p))return;if(p.getTextContent()!==""){let C=p.getNodes(),_=!1;for(let R of C)if(t1(R)){n(!0),_=!0;break}_||n(!1)}else n(!1);let h=p.getTextContent().replace(/\n/g,"");if(!p.isCollapsed()&&h===""){n(!1);return}})},o[0]=t,o[1]=i):i=o[1];let l=i,s,u;o[2]!==l?(s=()=>(document.addEventListener("selectionchange",l),document.addEventListener("mouseup",l),()=>{document.removeEventListener("selectionchange",l),document.removeEventListener("mouseup",l)}),u=[l],o[2]=l,o[3]=s,o[4]=u):(s=o[3],u=o[4]),yt(s,u);let c,d;if(o[5]!==t||o[6]!==l?(c=()=>ds(t.registerUpdateListener(()=>{l()}),t.registerRootListener(()=>{t.getRootElement()===null&&n(!1)})),d=[t,l],o[5]=t,o[6]=l,o[7]=c,o[8]=d):(c=o[7],d=o[8]),yt(c,d),!r||!t.isEditable())return null;let a;return o[9]!==e||o[10]!==t?(a=i1(ge(a1,{anchorElem:e,editor:t}),e),o[9]=e,o[10]=t,o[11]=a):a=o[11],a}var fs=t=>{let{anchorElem:e}=t,[o]=e1();return c1(o,e)};var u1=y({plugins:[{Component:fs,position:"floatingAnchorElem"}]});import{TableCellNode as eg,TableNode as tg,TableRowNode as og}from"@lexical/table";import{jsx as hs}from"react/jsx-runtime";import"react";var fr=()=>hs("svg",{className:"icon",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:hs("path",{clipRule:"evenodd",d:"M5.33333 4.5C4.8731 4.5 4.5 4.8731 4.5 5.33333V7.5H9.5V4.5H5.33333ZM5.33333 3.5C4.32081 3.5 3.5 4.32081 3.5 5.33333V14.6667C3.5 15.6792 4.32081 16.5 5.33333 16.5H14.6667C15.6792 16.5 16.5 15.6792 16.5 14.6667V5.33333C16.5 4.32081 15.6792 3.5 14.6667 3.5H5.33333ZM10.5 4.5V7.5H15.5V5.33333C15.5 4.8731 15.1269 4.5 14.6667 4.5H10.5ZM15.5 8.5H10.5V11.5H15.5V8.5ZM15.5 12.5H10.5V15.5H14.6667C15.1269 15.5 15.5 15.1269 15.5 14.6667V12.5ZM9.5 15.5V12.5H4.5V14.6667C4.5 15.1269 4.8731 15.5 5.33333 15.5H9.5ZM4.5 11.5H9.5V8.5H4.5V11.5Z",fill:"currentColor",fillRule:"evenodd"})});import{$createTableCellNode as d1,$createTableNode as m1,$createTableRowNode as p1,$isTableCellNode as gs,$isTableNode as hr,$isTableRowNode as gr,TableCellHeaderStates as co,TableCellNode as f1,TableNode as h1,TableRowNode as g1}from"@lexical/table";import{$isParagraphNode as C1,$isTextNode as x1}from"lexical";var xs=/^\|(.+)\|\s?$/,b1=/^(\| ?:?-*:? ?)+\|\s?$/,bs=({allTransformers:t})=>({type:"element",dependencies:[h1,g1,f1],export:e=>{if(!hr(e))return null;let o=[];for(let r of e.getChildren()){let n=[];if(!gr(r))continue;let i=!1;for(let l of r.getChildren())gs(l)&&(n.push(Br(t,l).replace(/\n/g,"\\n").trim()),l.__headerState===co.ROW&&(i=!0));o.push(`| ${n.join(" | ")} |`),i&&o.push(`| ${n.map(l=>"---").join(" | ")} |`)}return o.join(`
`)},regExp:xs,replace:(e,o,r)=>{let n=r[0];if(!n)return;if(b1.test(n)){let a=e.getPreviousSibling();if(!a||!hr(a))return;let p=a.getChildren(),m=p[p.length-1];if(!m||!gr(m))return;m.getChildren().forEach(f=>{gs(f)&&f.setHeaderStyles(co.ROW,co.ROW)}),e.remove();return}let i=Cs(n,t);if(i==null)return;let l=[i],s=e.getPreviousSibling(),u=i.length;for(;s&&!(!C1(s)||s.getChildrenSize()!==1);){let a=s.getFirstChild();if(!x1(a))break;let p=Cs(a.getTextContent(),t);if(p==null)break;u=Math.max(u,p.length),l.unshift(p);let m=s.getPreviousSibling();s.remove(),s=m}let c=m1();for(let a of l){let p=p1();c.append(p);for(let m=0;m<u;m++)p.append(m<a.length?a[m]:_s("",t))}let d=e.getPreviousSibling();hr(d)&&_1(d)===u?(d.append(...c.getChildren()),e.remove()):e.replace(c),c.selectEnd()}});function _1(t){let e=t.getFirstChild();return gr(e)?e.getChildrenSize():0}var _s=(t,e)=>{t=t.replace(/\\n/g,`
`);let o=d1(co.NO_STATUS);return Pr(t,e,o),o},Cs=(t,e)=>{let o=t.match(xs);return!o||!o[1]?null:o[1].split("|").map(r=>_s(r,e))};import{c as w1}from"react/compiler-runtime";import{jsx as B,jsxs as Se}from"react/jsx-runtime";import{useLexicalComposerContext as Es}from"@lexical/react/LexicalComposerContext";import{useLexicalEditable as k1}from"@lexical/react/useLexicalEditable";import{$computeTableMapSkipCellCheck as xr,$deleteTableColumn__EXPERIMENTAL as E1,$deleteTableRow__EXPERIMENTAL as N1,$getNodeTriplet as L1,$getTableCellNodeFromLexicalNode as ws,$getTableColumnIndexFromTableCellNode as S1,$getTableNodeFromLexicalNodeOrThrow as Re,$getTableRowIndexFromTableCellNode as R1,$insertTableColumn__EXPERIMENTAL as I1,$insertTableRow__EXPERIMENTAL as y1,$isTableCellNode as Ns,$isTableSelection as vt,$unmergeCell as v1,getTableElement as br,getTableObserverFromTableElement as _r,TableCellHeaderStates as Ae,TableCellNode as M1}from"@lexical/table";import{mergeRegister as A1}from"@lexical/utils";import{useScrollInfo as D1}from"@payloadcms/ui";import{$createParagraphNode as O1,$getSelection as mo,$isElementNode as F1,$isParagraphNode as $1,$isRangeSelection as Tr,$isTextNode as P1,$setSelection as B1,COMMAND_PRIORITY_CRITICAL as H1,getDOMSelection as j1,isDOMNode as U1,SELECTION_CHANGE_COMMAND as G1}from"lexical";import*as wr from"react";import{useCallback as me,useEffect as ot,useRef as uo,useState as rt}from"react";import{createPortal as Ls}from"react-dom";import{jsx as Cr,jsxs as T1}from"react/jsx-runtime";import"react";var Ts=()=>T1("svg",{fill:"none",height:"18",viewBox:"0 0 20 20",width:"18",xmlns:"http://www.w3.org/2000/svg",children:[Cr("path",{d:"M5 11C5.55228 11 6 10.5523 6 10C6 9.44772 5.55228 9 5 9C4.44772 9 4 9.44772 4 10C4 10.5523 4.44772 11 5 11Z",fill:"currentColor"}),Cr("path",{d:"M10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}),Cr("path",{d:"M15 11C15.5523 11 16 10.5523 16 10C16 9.44772 15.5523 9 15 9C14.4477 9 14 9.44772 14 10C14 10.5523 14.4477 11 15 11Z",fill:"currentColor"})]});function ks(t){let e=t.getShape();return{columns:e.toX-e.fromX+1,rows:e.toY-e.fromY+1}}function W1(){let t=mo();if(Tr(t)&&!t.isCollapsed()||vt(t)&&!t.anchor.is(t.focus)||!Tr(t)&&!vt(t))return!1;let[e]=L1(t.anchor);return e.__colSpan>1||e.__rowSpan>1}function V1(t){if(t.getChildrenSize()!==1)return!1;let e=t.getFirstChildOrThrow();return!(!$1(e)||!e.isEmpty())}function K1(t){let e=t.getLastDescendant();P1(e)?e.select():F1(e)?e.selectEnd():e!==null&&e.selectNext()}function J1({cellMerge:t,contextRef:e,onClose:o,setIsMenuOpen:r,tableCellNode:n}){let[i]=Es(),l=uo(null),[s,u]=rt(n),[c,d]=rt({columns:1,rows:1}),[a,p]=rt(!1),[m,f]=rt(!1),{y:h}=D1();ot(()=>i.registerMutationListener(M1,x=>{x.get(s.getKey())==="updated"&&i.getEditorState().read(()=>{u(s.getLatest())})},{skipInitialization:!0}),[i,s]),ot(()=>{i.getEditorState().read(()=>{let x=mo();if(vt(x)){let E=ks(x);d(ks(x)),p(E.columns>1||E.rows>1)}f(W1())})},[i]),ot(()=>{let x=e.current,E=l.current,S=i.getRootElement();if(x!=null&&E!=null&&S!=null){let L=S.getBoundingClientRect(),I=x.getBoundingClientRect();E.style.opacity="1";let w=E.getBoundingClientRect(),F=5,$=I.right+F;if($+w.width>window.innerWidth||$+w.width>L.right){let V=I.left-w.width-F;$=(V<0?F:V)+window.pageXOffset}E.style.left=`${$+window.pageXOffset}px`;let U=I.top;if(U+w.height>window.innerHeight){let V=I.bottom-w.height;U=V<0?F:V}E.style.top=`${U}px`}},[e,l,i,h]),ot(()=>{function x(E){l.current!=null&&e.current!=null&&U1(E.target)&&!l.current.contains(E.target)&&!e.current.contains(E.target)&&r(!1)}return window.addEventListener("click",x),()=>window.removeEventListener("click",x)},[r,e]);let C=me(()=>{i.update(()=>{if(s.isAttached()){let x=Re(s),E=br(x,i.getElementByKey(x.getKey()));if(E===null)throw new Error("Expected to find tableElement in DOM");let S=_r(E);S!==null&&S.$clearHighlight(),x.markDirty(),u(s.getLatest())}B1(null)})},[i,s]),_=()=>{i.update(()=>{let x=mo();if(vt(x)){let S=x.getNodes().filter(Ns);if(S.length===0)return;let L=Re(S[0]),[I]=xr(L,null,null),w=1/0,F=-1/0,$=1/0,U=-1/0,V=new Set;for(let Y of I)for(let K of Y){if(!K||!K.cell)continue;let oe=K.cell.getKey();if(!V.has(oe)&&S.some(re=>re.is(K.cell))){V.add(oe);let re=K.startRow,le=K.startColumn,De=K.cell.__rowSpan||1,it=K.cell.__colSpan||1;w=Math.min(w,re),F=Math.max(F,re+De-1),$=Math.min($,le),U=Math.max(U,le+it-1)}}if(w===1/0||$===1/0)return;let pe=F-w+1,H=U-$+1,W=I?.[w]?.[$];if(!W?.cell)return;let te=W.cell;te.setColSpan(H),te.setRowSpan(pe);let ce=new Set([te.getKey()]);for(let Y=w;Y<=F;Y++)for(let K=$;K<=U;K++){let oe=I?.[Y]?.[K];if(!oe?.cell)continue;let re=oe.cell,le=re.getKey();ce.has(le)||(ce.add(le),V1(re)||te.append(...re.getChildren()),re.remove())}te.getChildrenSize()===0&&te.append(O1()),K1(te),o()}})},R=()=>{i.update(()=>{v1()})},A=me(x=>{i.update(()=>{for(let E=0;E<c.rows;E++)y1(x);o()})},[i,o,c.rows]),b=me(x=>{i.update(()=>{for(let E=0;E<c.columns;E++)I1(x);o()})},[i,o,c.columns]),T=me(()=>{i.update(()=>{N1(),o()})},[i,o]),g=me(()=>{i.update(()=>{Re(s).remove(),C(),o()})},[i,s,C,o]),k=me(()=>{i.update(()=>{E1(),o()})},[i,o]),M=me(()=>{i.update(()=>{let x=Re(s),E=R1(s),[S]=xr(x,null,null),L=new Set,I=s.getHeaderStyles()^Ae.ROW;if(S[E])for(let w=0;w<S[E].length;w++){let F=S[E][w];F?.cell&&(L.has(F.cell)||(L.add(F.cell),F.cell.setHeaderStyles(I,Ae.ROW)))}C(),o()})},[i,s,C,o]),D=me(()=>{i.update(()=>{let x=Re(s),E=S1(s),[S]=xr(x,null,null),L=new Set,I=s.getHeaderStyles()^Ae.COLUMN;if(S)for(let w=0;w<S.length;w++){let F=S?.[w]?.[E];F?.cell&&(L.has(F.cell)||(L.add(F.cell),F.cell.setHeaderStyles(I,Ae.COLUMN)))}C(),o()})},[i,s,C,o]),P=me(()=>{i.update(()=>{if(s.isAttached()){let x=Re(s);x&&x.setRowStriping(!x.getRowStriping())}C(),o()})},[i,s,C,o]),v=me(()=>{i.update(()=>{if(s.isAttached()){let x=Re(s);x&&x.setFrozenColumns(x.getFrozenColumns()===0?1:0)}C(),o()})},[i,s,C,o]),N=null;return t&&(a?N=B("button",{className:"item","data-test-id":"table-merge-cells",onClick:()=>_(),type:"button",children:B("span",{className:"text",children:"Merge cells"})}):m&&(N=B("button",{className:"item","data-test-id":"table-unmerge-cells",onClick:()=>R(),type:"button",children:B("span",{className:"text",children:"Unmerge cells"})}))),Ls(Se("div",{className:"table-action-menu-dropdown",onClick:x=>{x.stopPropagation()},ref:l,children:[N?Se(wr.Fragment,{children:[N,B("hr",{})]}):null,B("button",{className:"item","data-test-id":"table-row-striping",onClick:()=>P(),type:"button",children:B("span",{className:"text",children:"Toggle Row Striping"})}),B("button",{className:"item","data-test-id":"table-freeze-first-column",onClick:()=>v(),type:"button",children:B("span",{className:"text",children:"Toggle First Column Freeze"})}),B("button",{className:"item","data-test-id":"table-insert-row-above",onClick:()=>A(!1),type:"button",children:Se("span",{className:"text",children:["Insert ",c.rows===1?"row":`${c.rows} rows`," above"]})}),B("button",{className:"item","data-test-id":"table-insert-row-below",onClick:()=>A(!0),type:"button",children:Se("span",{className:"text",children:["Insert ",c.rows===1?"row":`${c.rows} rows`," below"]})}),B("hr",{}),B("button",{className:"item","data-test-id":"table-insert-column-before",onClick:()=>b(!1),type:"button",children:Se("span",{className:"text",children:["Insert ",c.columns===1?"column":`${c.columns} columns`," ","left"]})}),B("button",{className:"item","data-test-id":"table-insert-column-after",onClick:()=>b(!0),type:"button",children:Se("span",{className:"text",children:["Insert ",c.columns===1?"column":`${c.columns} columns`," ","right"]})}),B("hr",{}),B("button",{className:"item","data-test-id":"table-delete-columns",onClick:()=>k(),type:"button",children:B("span",{className:"text",children:"Delete column"})}),B("button",{className:"item","data-test-id":"table-delete-rows",onClick:()=>T(),type:"button",children:B("span",{className:"text",children:"Delete row"})}),B("button",{className:"item","data-test-id":"table-delete",onClick:()=>g(),type:"button",children:B("span",{className:"text",children:"Delete table"})}),B("hr",{}),B("button",{className:"item","data-test-id":"table-row-header",onClick:()=>M(),type:"button",children:Se("span",{className:"text",children:[(s.__headerState&Ae.ROW)===Ae.ROW?"Remove":"Add"," ","row header"]})}),B("button",{className:"item","data-test-id":"table-column-header",onClick:()=>D(),type:"button",children:Se("span",{className:"text",children:[(s.__headerState&Ae.COLUMN)===Ae.COLUMN?"Remove":"Add"," ","column header"]})})]}),document.body)}function X1({anchorElem:t,cellMerge:e}){let[o]=Es(),r=uo(null),n=uo(null),[i,l]=rt(!1),[s,u]=rt(null),c=me(()=>{let a=r.current,p=mo(),m=j1(o._window),f=document.activeElement;function h(){a&&(a.classList.remove("table-cell-action-button-container--active"),a.classList.add("table-cell-action-button-container--inactive")),u(null)}if(p==null||a==null)return h();let C=o.getRootElement(),_=null,R=null;if(Tr(p)&&C!==null&&m!==null&&C.contains(m.anchorNode)){let b=ws(p.anchor.getNode());if(b==null||(R=o.getElementByKey(b.getKey()),R==null||!b.isAttached()))return h();let T=Re(b),g=br(T,o.getElementByKey(T.getKey()));if(g===null)throw new Error("TableActionMenu: Expected to find tableElement in DOM");_=_r(g),u(b)}else if(vt(p)){let b=ws(p.anchor.getNode());if(!Ns(b))throw new Error("TableSelection anchorNode must be a TableCellNode");let T=Re(b),g=br(T,o.getElementByKey(T.getKey()));if(g===null)throw new Error("TableActionMenu: Expected to find tableElement in DOM");_=_r(g),R=o.getElementByKey(b.getKey())}else if(!f)return h();if(_===null||R===null)return h();let A=!_||!_.isSelecting;if(a.classList.toggle("table-cell-action-button-container--active",A),a.classList.toggle("table-cell-action-button-container--inactive",!A),A){let b=R.getBoundingClientRect(),T=t.getBoundingClientRect(),g=b.top-T.top,k=b.right-T.left;a.style.transform=`translate(${k}px, ${g}px)`}},[o,t]);ot(()=>{let a,p=()=>{a=void 0,o.getEditorState().read(c)},m=()=>(a===void 0&&(a=setTimeout(p,0)),!1);return A1(o.registerUpdateListener(m),o.registerCommand(G1,m,H1),o.registerRootListener((f,h)=>{h&&h.removeEventListener("pointerup",m),f&&(f.addEventListener("pointerup",m),m())}),()=>clearTimeout(a))});let d=uo(s);return ot(()=>{d.current!==s&&l(!1),d.current=s},[d,s]),B("div",{className:"table-cell-action-button-container",ref:r,children:s!=null&&Se(wr.Fragment,{children:[B("button",{className:"table-cell-action-button",onClick:a=>{a.stopPropagation(),l(!i)},ref:n,type:"button",children:B(Ts,{})}),i&&B(J1,{cellMerge:e,contextRef:n,onClose:()=>l(!1),setIsMenuOpen:l,tableCellNode:s})]})})}var Ss=t=>{let e=w1(3),{anchorElem:o}=t,r=k1(),n;return e[0]!==o||e[1]!==r?(n=Ls(r?B(X1,{anchorElem:o??document.body,cellMerge:!0}):null,o??document.body),e[0]=o,e[1]=r,e[2]=n):n=e[2],n};import{c as z1}from"react/compiler-runtime";import{jsx as fo,jsxs as Z1}from"react/jsx-runtime";import{useLexicalComposerContext as Y1}from"@lexical/react/LexicalComposerContext";import{useLexicalEditable as q1}from"@lexical/react/useLexicalEditable";import{$computeTableMapSkipCellCheck as Q1,$getTableNodeFromLexicalNodeOrThrow as kr,$getTableRowIndexFromTableCellNode as eh,$isTableCellNode as Rs,$isTableRowNode as th,getDOMCellFromTarget as oh,getTableElement as rh,TableNode as Is}from"@lexical/table";import{calculateZoomLevel as ys,mergeRegister as nh}from"@lexical/utils";import{$getNearestNodeFromDOMNode as Er,isHTMLElement as ih}from"lexical";import*as Ms from"react";import{useCallback as Mt,useEffect as Nr,useRef as po,useState as nt}from"react";import{createPortal as lh}from"react-dom";var sh=33,vs=92;function ah({editor:t}){let e=po(null),o=po(null),r=po(null),[n,i]=nt(!1),l=j(),s=po(null),[u,c]=nt(null),[d,a]=nt(null),[p,m]=nt(!1),[f,h]=nt(null),C=Mt(()=>{a(null),e.current=null,h(null),s.current=null,r.current=null},[]),_=v=>(v.buttons&1)===1;Nr(()=>{let v=new Set;return nh(t.registerMutationListener(Is,N=>{for(let[x,E]of N)E==="destroyed"?v.delete(x):v.add(x);i(v.size>0)}),t.registerNodeTransform(Is,N=>{if(N.getColWidths())return N;let x=N.getColumnCount(),E=vs;return N.setColWidths(Array(x).fill(E)),N}))},[t]),Nr(()=>{if(!n)return;let v=S=>{let L=S.target;if(ih(L)){if(f){c({x:S.clientX,y:S.clientY});return}if(m(_(S)),!(o.current&&o.current.contains(L))&&e.current!==L){e.current=L;let I=oh(L);I&&d!==I?t.getEditorState().read(()=>{let w=Er(I.elem);if(!w)throw new Error("TableCellResizer: Table cell node not found.");let F=kr(w),$=rh(F,t.getElementByKey(F.getKey()));if(!$)throw new Error("TableCellResizer: Table element not found.");e.current=L,r.current=$.getBoundingClientRect(),a(I)},{editor:t}):I==null&&C()}}},N=S=>{m(!0)},x=S=>{m(!1)},E=t.registerRootListener((S,L)=>{L?.removeEventListener("mousemove",v),L?.removeEventListener("mousedown",N),L?.removeEventListener("mouseup",x),S?.addEventListener("mousemove",v),S?.addEventListener("mousedown",N),S?.addEventListener("mouseup",x)});return()=>{E()}},[d,f,t,n,C]);let R=v=>v==="bottom",A=Mt(v=>{if(!d)throw new Error("TableCellResizer: Expected active cell.");t.update(()=>{let N=Er(d.elem);if(!Rs(N))throw new Error("TableCellResizer: Table cell node not found.");let x=kr(N),E=eh(N),S=x.getChildren(),I=N.getColSpan()===x.getColumnCount()?E:E+N.getRowSpan()-1;if(I>=S.length||I<0)throw new Error("Expected table cell to be inside of table row.");let w=S[I];if(!th(w))throw new Error("Expected table row");let F=w.getHeight();if(F===void 0){let U=w.getChildren();F=Math.min(...U.map(V=>b(V,t)??1/0))}let $=Math.max(F+v,sh);w.setHeight($)},{tag:"skip-scroll-into-view"})},[d,t]),b=(v,N)=>N.getElementByKey(v.getKey())?.clientHeight,T=(v,N)=>{let x;return N.forEach(E=>{E.forEach((S,L)=>{S.cell===v&&(x=L)})}),x},g=Mt(v=>{if(!d)throw new Error("TableCellResizer: Expected active cell.");t.update(()=>{let N=Er(d.elem);if(!Rs(N))throw new Error("TableCellResizer: Table cell node not found.");let x=kr(N),[E]=Q1(x,null,null),S=T(N,E);if(S===void 0)throw new Error("TableCellResizer: Table column not found.");let L=x.getColWidths();if(!L)return;let I=L[S];if(I===void 0)return;let w=[...L],F=Math.max(I+v,vs);w[S]=F,x.setColWidths(w)},{tag:"skip-scroll-into-view"})},[d,t]),k=Mt(v=>{let N=x=>{if(x.preventDefault(),x.stopPropagation(),!d)throw new Error("TableCellResizer: Expected active cell.");if(s.current){let{x:E,y:S}=s.current;if(d===null)return;let L=ys(x.target);if(R(v)){let I=(x.clientY-S)/L;A(I)}else{let I=(x.clientX-E)/L;g(I)}C(),document.removeEventListener("mouseup",N)}};return N},[d,C,g,A]),M=Mt(v=>N=>{if(N.preventDefault(),N.stopPropagation(),!d)throw new Error("TableCellResizer: Expected active cell.");s.current={x:N.clientX,y:N.clientY},c(s.current),h(v),document.addEventListener("mouseup",k(v))},[d,k]),[D,P]=nt({bottom:null,left:null,right:null,top:null});return Nr(()=>{if(d){let{height:v,left:N,top:x,width:E}=d.elem.getBoundingClientRect(),S=ys(d.elem),L=10,I={bottom:{backgroundColor:"none",cursor:"row-resize",height:`${L}px`,left:`${window.scrollX+N}px`,top:`${window.scrollY+x+v-L/2}px`,width:`${E}px`},right:{backgroundColor:"none",cursor:"col-resize",height:`${v}px`,left:`${window.scrollX+N+E-L/2}px`,top:`${window.scrollY+x}px`,width:`${L}px`}},w=r.current;f&&u&&w&&(R(f)?(I[f].left=`${window.scrollX+w.left}px`,I[f].top=`${window.scrollY+u.y/S}px`,I[f].height="3px",I[f].width=`${w.width}px`):(I[f].top=`${window.scrollY+w.top}px`,I[f].left=`${window.scrollX+u.x/S}px`,I[f].width="3px",I[f].height=`${w.height}px`),I[f].backgroundColor="#adf"),P(I)}else P({bottom:null,left:null,right:null,top:null})},[d,f,u]),fo("div",{ref:o,children:d!=null&&!p&&Z1(Ms.Fragment,{children:[fo("div",{className:`${l.editorConfig.lexical.theme.tableCellResizer} TableCellResizer__ui`,onMouseDown:M("right"),style:D.right||void 0}),fo("div",{className:`${l.editorConfig.lexical.theme.tableCellResizer} TableCellResizer__ui`,onMouseDown:M("bottom"),style:D.bottom||void 0})]})})}var As=()=>{let t=z1(3),[e]=Y1(),o=q1(),r,n;return t[0]!==e||t[1]!==o?(n=o?lh(fo(ah,{editor:e}),document.body):null,t[0]=e,t[1]=o,t[2]=n):n=t[2],r=n,r};import{c as gh}from"react/compiler-runtime";import{jsx as Lr,jsxs as Ch,Fragment as xh}from"react/jsx-runtime";import{useLexicalComposerContext as js}from"@lexical/react/LexicalComposerContext";import{$getTableAndElementByKey as bh,$getTableColumnIndexFromTableCellNode as _h,$getTableRowIndexFromTableCellNode as Th,$insertTableColumn__EXPERIMENTAL as wh,$insertTableRow__EXPERIMENTAL as kh,$isTableCellNode as Eh,$isTableNode as Fs,getTableElement as Nh,TableNode as Lh}from"@lexical/table";import{$findMatchingParent as Sh,mergeRegister as Rh}from"@lexical/utils";import{$getNearestNodeFromDOMNode as $s,isHTMLElement as Ih}from"lexical";import{useEffect as Ps,useMemo as yh,useRef as Bs,useState as ho}from"react";import"react";import{createPortal as vh}from"react-dom";import{c as ph}from"react/compiler-runtime";import{useEffect as fh,useRef as hh}from"react";var ch="Expected a function",uh=Math.max,dh=Math.min;function mh(t,e,o){let r,n,i=0,l,s=!1,u=!1,c,d,a,p=!0;if(typeof t!="function")throw new TypeError(ch);e=e||0,typeof o=="object"&&(s=!!o.leading,u="maxWait"in o,c=u?uh(o.maxWait||0,e):c,p="trailing"in o?!!o.trailing:p);function m(g){let k=r,M=l;return r=l=void 0,i=g,d=t.apply(M,k),d}function f(g){return i=g,a=setTimeout(_,e),s?m(g):d}function h(g){let k=g-n,M=g-i,D=e-k;return u?dh(D,c-M):D}function C(g){let k=g-n,M=g-i;return n===void 0||k>=e||k<0||u&&M>=c}function _(){let g=Date.now();if(C(g))return R(g);a=setTimeout(_,h(g))}function R(g){return a=void 0,p&&r?m(g):(r=l=void 0,d)}function A(){a!==void 0&&clearTimeout(a),i=0,r=n=l=a=void 0}function b(){return a===void 0?d:R(Date.now())}function T(){let g=Date.now(),k=C(g);if(r=arguments,l=this,n=g,k){if(a===void 0)return f(n);if(u)return clearTimeout(a),a=setTimeout(_,e),m(n)}return a===void 0&&(a=setTimeout(_,e)),d}return T.cancel=A,T.flush=b,T}var Ds=mh;function Os(t,e,o){let r=ph(6),n=hh(null),i,l;r[0]!==t||r[1]!==o||r[2]!==e?(i=()=>(n.current=Ds(t,e,{maxWait:o}),()=>{n.current?.cancel()}),l=[t,e,o],r[0]=t,r[1]=o,r[2]=e,r[3]=i,r[4]=l):(i=r[3],l=r[4]),fh(i,l);let s;return r[5]===Symbol.for("react.memo_cache_sentinel")?(s=(...c)=>{let d=c;n.current&&n.current(...d)},r[5]=s):s=r[5],s}var Hs=20;function Mh({anchorElem:t}){let[e]=js(),o=j(),[r,n]=ho(!1),[i,l]=ho(!1),[s,u]=ho(!1),[c,d]=ho({}),a=Bs(new Set),p=Bs(null),m=Os(C=>{let{isOutside:_,tableDOMNode:R}=Ah(C,o.editorConfig?.lexical);if(_){n(!1),l(!1);return}if(!R)return;p.current=R;let A=null,b=null,T=null;if(e.getEditorState().read(()=>{let L=$s(R);if(Eh(L)){let I=Sh(L,w=>Fs(w));if(!Fs(I))return;if(T=Nh(I,e.getElementByKey(I.getKey())),T){let w=I.getChildrenSize(),F=I.getChildAtIndex(0)?.getChildrenSize(),$=Th(L),U=_h(L);$===w-1?A=L:U===F-1&&(b=L)}}},{editor:e}),!T)return;let g=T.parentElement;if(!g)return;let{bottom:k,height:M,left:D,right:P,width:v,y:N}=T.getBoundingClientRect(),x=!1;g&&g.classList.contains("LexicalEditorTheme__tableScrollableWrapper")&&(x=g.scrollWidth>g.clientWidth);let{left:E,y:S}=t.getBoundingClientRect();A?(l(!1),n(!0),d({height:Hs,left:x&&g?g.offsetLeft:D-E,top:k-S+5,width:x&&g?g.offsetWidth:v})):b&&(l(!0),n(!1),d({height:M,left:P-E+5,top:N-S,width:Hs}))},50,250),f=yh(()=>new ResizeObserver(()=>{n(!1),l(!1)}),[]);Ps(()=>{if(s)return document.addEventListener("mousemove",m),()=>{n(!1),l(!1),document.removeEventListener("mousemove",m)}},[s,m]),Ps(()=>Rh(e.registerMutationListener(Lh,C=>{e.getEditorState().read(()=>{let _=!1;for(let[R,A]of C)switch(A){case"created":{a.current.add(R),_=!0;break}case"destroyed":{a.current.delete(R),_=!0;break}default:break}if(_){f.disconnect();for(let R of a.current){let{tableElement:A}=bh(R);f.observe(A)}u(a.current.size>0)}},{editor:e})},{skipInitialization:!1})),[e,f]);let h=C=>{e.update(()=>{p.current&&($s(p.current)?.selectEnd(),C?(kh(),n(!1)):(wh(),l(!1)))})};return e?.isEditable()?Ch(xh,{children:[r&&Lr("button",{"aria-label":"Add Row",className:o.editorConfig.lexical.theme.tableAddRows,onClick:()=>h(!0),style:{...c},type:"button"}),i&&Lr("button",{"aria-label":"Add Column",className:o.editorConfig.lexical.theme.tableAddColumns,onClick:()=>h(!1),style:{...c},type:"button"})]}):null}function Ah(t,e){let o=t.target;if(Ih(o)){let r=o.closest(`td.${e.theme.tableCell}, th.${e.theme.tableCell}`);return{isOutside:!(r||o.closest(`button.${e.theme.tableAddRows}`)||o.closest(`button.${e.theme.tableAddColumns}`)||o.closest(`div.${e.theme.tableCellResizer}`)),tableDOMNode:r}}else return{isOutside:!0,tableDOMNode:null}}function Us(t){let e=gh(2),{anchorElem:o}=t,r=o===void 0?document.body:o,[n]=js();if(!n?.isEditable())return null;let i;return e[0]!==r?(i=vh(Lr(Mh,{anchorElem:r}),r),e[0]=r,e[1]=i):i=e[1],i}import{c as Dh}from"react/compiler-runtime";import{jsx as Sr,jsxs as Oh}from"react/jsx-runtime";import{useLexicalComposerContext as Fh}from"@lexical/react/LexicalComposerContext";import{TablePlugin as $h}from"@lexical/react/LexicalTablePlugin";import{INSERT_TABLE_COMMAND as Ph,TableCellNode as Bh,TableNode as Hh,TableRowNode as jh}from"@lexical/table";import{mergeRegister as Uh}from"@lexical/utils";import{formatDrawerSlug as Gh,useEditDepth as Wh}from"@payloadcms/ui";import{$getSelection as Vh,$isRangeSelection as Kh,COMMAND_PRIORITY_EDITOR as Jh,createCommand as Xh}from"lexical";import{createContext as zh,use as Zh,useEffect as Yh,useMemo as qh,useState as Qh}from"react";import*as Gs from"react";var go=Xh("OPEN_EMBED_DRAWER_COMMAND"),Ws=zh({cellEditorConfig:null,cellEditorPlugins:null,set:()=>{}});function Vs({children:t}){let[e,o]=Qh({cellEditorConfig:null,cellEditorPlugins:null});return Sr(Ws,{value:qh(()=>({cellEditorConfig:e.cellEditorConfig,cellEditorPlugins:e.cellEditorPlugins,set:(r,n)=>{o({cellEditorConfig:r,cellEditorPlugins:n})}}),[e.cellEditorConfig,e.cellEditorPlugins]),children:t})}var Ks=()=>{let t=Dh(16),[e]=Fh(),o=Zh(Ws),r=Wh(),{fieldProps:n,uuid:i}=j(),{schemaPath:l}=n,s="lexical-table-create-"+i,u;t[0]!==r||t[1]!==s?(u=Gh({slug:s,depth:r}),t[0]=r,t[1]=s,t[2]=u):u=t[2];let c=u,{toggleDrawer:d}=Ce(c,!0),a;t[3]!==e||t[4]!==d?(a=()=>{if(!e.hasNodes([Hh,jh,Bh]))throw new Error("TablePlugin: TableNode, TableRowNode, or TableCellNode is not registered on editor");return Uh(e.registerCommand(go,()=>{let h;return h=null,e.getEditorState().read(()=>{let C=Vh();Kh(C)&&(h=C)}),h&&d(),!0},Jh))},t[3]=e,t[4]=d,t[5]=a):a=t[5];let p;t[6]!==o||t[7]!==e||t[8]!==d?(p=[o,e,d],t[6]=o,t[7]=e,t[8]=d,t[9]=p):p=t[9],Yh(a,p);let m;t[10]!==e?(m=(h,C)=>{!C.columns||!C.rows||e.dispatchCommand(Ph,{columns:String(C.columns),rows:String(C.rows)})},t[10]=e,t[11]=m):m=t[11];let f;return t[12]!==c||t[13]!==l||t[14]!==m?(f=Oh(Gs.Fragment,{children:[Sr(lt,{drawerSlug:c,drawerTitle:"Create Table",featureKey:"experimental_table",handleDrawerSubmit:m,schemaPath:l,schemaPathSuffix:"fields"}),Sr($h,{hasCellBackgroundColor:!1,hasCellMerge:!0,hasHorizontalScroll:!0})]}),t[12]=c,t[13]=l,t[14]=m,t[15]=f):f=t[15],f};var rg=y({markdownTransformers:[bs],nodes:[tg,eg,og],plugins:[{Component:Ks,position:"normal"},{Component:As,position:"normal"},{Component:Ss,position:"floatingAnchorElem"},{Component:Us,position:"floatingAnchorElem"}],providers:[Vs],slashMenu:{groups:[Q([{Icon:fr,key:"table",keywords:["table"],label:"Table",onSelect:({editor:t})=>{t.dispatchCommand(go,{})}}])]},toolbarFixed:{groups:[_e([{ChildComponent:fr,key:"table",label:"Table",onSelect:({editor:t})=>{t.dispatchCommand(go,{})}}])]}});import{$isNodeSelection as Dg}from"lexical";import{jsx as Rr,jsxs as ng}from"react/jsx-runtime";import"react";var Ir=()=>ng("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[Rr("path",{d:"M14.6667 4H5.33333C4.59695 4 4 4.59695 4 5.33333V14.6667C4 15.403 4.59695 16 5.33333 16H14.6667C15.403 16 16 15.403 16 14.6667V5.33333C16 4.59695 15.403 4 14.6667 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),Rr("path",{d:"M7.99984 9.33366C8.73622 9.33366 9.33317 8.73671 9.33317 8.00033C9.33317 7.26395 8.73622 6.66699 7.99984 6.66699C7.26346 6.66699 6.6665 7.26395 6.6665 8.00033C6.6665 8.73671 7.26346 9.33366 7.99984 9.33366Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),Rr("path",{d:"M16 11.9995L13.9427 9.94214C13.6926 9.69218 13.3536 9.55176 13 9.55176C12.6464 9.55176 12.3074 9.69218 12.0573 9.94214L6 15.9995",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]});import{jsx as cg}from"react/jsx-runtime";import zs from"bson-objectid";import{$applyNodeReplacement as ug}from"lexical";import*as Zs from"react";import{jsx as ig}from"react/jsx-runtime";import{DecoratorBlockNode as lg}from"@lexical/react/LexicalDecoratorBlockNode.js";import Js from"bson-objectid";import{$applyNodeReplacement as sg}from"lexical";import"react";function yr(t){return t.parentElement!=null&&t.parentElement.tagName==="LI"&&t.previousSibling===null&&t.getAttribute("aria-roledescription")==="checkbox"}function ag(t){if(t.hasAttribute("data-lexical-upload-relation-to")&&t.hasAttribute("data-lexical-upload-id")){let o=t.getAttribute("data-lexical-upload-id"),r=t.getAttribute("data-lexical-upload-relation-to");if(o!=null&&r!=null)return{node:Xs({data:{fields:{},relationTo:r,value:o}})}}let e=t;return e.src.startsWith("file:///")||yr(e),null}var At=class extends lg{__data;constructor({data:e,format:o,key:r}){super(o,r),this.__data=e}static clone(e){return new this({data:e.__data,format:e.__format,key:e.__key})}static getType(){return"upload"}static importDOM(){return{img:e=>({conversion:ag,priority:0})}}static importJSON(e){e.version===1&&e?.value?.id&&(e.value=e.value.id),e.version===2&&!e?.id&&(e.id=new Js.default().toHexString(),e.version=3);let o={id:e.id,fields:e.fields,relationTo:e.relationTo,value:e.value},r=Xs({data:o});return r.setFormat(e.format),r}static isInline(){return!1}decorate(){return ig(RawUploadComponent,{data:this.__data,format:this.__format,nodeKey:this.getKey()})}exportDOM(){let e=document.createElement("img");return e.setAttribute("data-lexical-upload-id",String(this.__data?.value)),e.setAttribute("data-lexical-upload-relation-to",this.__data?.relationTo),{element:e}}exportJSON(){return{...super.exportJSON(),...this.getData(),type:"upload",version:3}}getData(){return this.getLatest().__data}setData(e){let o=this.getWritable();o.__data=e}updateDOM(){return!1}};function Xs({data:t}){return t?.id||(t.id=new Js.default().toHexString()),sg(new At({data:t}))}var dg=Zs.lazy(()=>import("./component-NNKG7K3O.js").then(t=>({default:t.UploadComponent})));function mg(t){if(t.hasAttribute("data-lexical-upload-relation-to")&&t.hasAttribute("data-lexical-upload-id")){let o=t.getAttribute("data-lexical-upload-id"),r=t.getAttribute("data-lexical-upload-relation-to");if(o!=null&&r!=null)return{node:Ge({data:{fields:{},relationTo:r,value:o}})}}let e=t;return e.src.startsWith("file:///")||yr(e),null}var Ie=class extends At{static clone(e){return super.clone(e)}static getType(){return super.getType()}static importDOM(){return{img:e=>({conversion:mg,priority:0})}}static importJSON(e){e.version===1&&e?.value?.id&&(e.value=e.value.id),e.version===2&&!e?.id&&(e.id=new zs.default().toHexString(),e.version=3);let o={id:e.id,fields:e.fields,relationTo:e.relationTo,value:e.value},r=Ge({data:o});return r.setFormat(e.format),r}decorate(){return cg(dg,{data:this.__data,nodeKey:this.getKey()})}exportJSON(){return super.exportJSON()}};function Ge({data:t}){return t?.id||(t.id=new zs.default().toHexString()),ug(new Ie({data:t}))}function vr(t){return t instanceof Ie}import{c as _g}from"react/compiler-runtime";import{jsx as Tg}from"react/jsx-runtime";import{useLexicalComposerContext as wg}from"@lexical/react/LexicalComposerContext.js";import{$insertNodeToNearestRoot as kg,mergeRegister as Eg}from"@lexical/utils";import{useConfig as Ng}from"@payloadcms/ui";import{$getPreviousSelection as Lg,$getSelection as Sg,$isParagraphNode as Rg,$isRangeSelection as Ig,COMMAND_PRIORITY_EDITOR as yg,createCommand as vg}from"lexical";import{useEffect as Mg}from"react";import{c as Ys}from"react/compiler-runtime";import{jsx as Mr}from"react/jsx-runtime";import{useLexicalComposerContext as qs}from"@lexical/react/LexicalComposerContext.js";import{toast as pg}from"@payloadcms/ui";import{$getNodeByKey as fg,COMMAND_PRIORITY_EDITOR as Qs}from"lexical";import{useEffect as ea,useState as hg}from"react";var gg=({editor:t,relationTo:e,replaceNodeKey:o,value:r})=>{o?t.update(()=>{let n=fg(o);n&&n.replace(Ge({data:{fields:null,relationTo:e,value:r}}))}):t.dispatchCommand(Ar,{fields:null,relationTo:e,value:r})},Cg=t=>{let e=Ys(13),{enabledCollectionSlugs:o}=t,[r]=qs(),[n,i]=hg(null),l;e[0]!==o?(l={collectionSlugs:o,uploads:!0},e[0]=o,e[1]=l):l=e[1];let{closeListDrawer:s,ListDrawer:u,openListDrawer:c}=St(l),d,a;e[2]!==r||e[3]!==c?(d=()=>r.registerCommand(Ve,h=>(i(h?.replace?h?.replace.nodeKey:null),c(),!0),Qs),a=[r,c],e[2]=r,e[3]=c,e[4]=d,e[5]=a):(d=e[4],a=e[5]),ea(d,a);let p;e[6]!==s||e[7]!==r||e[8]!==n?(p=h=>{let{collectionSlug:C,doc:_}=h;s(),gg({editor:r,relationTo:C,replaceNodeKey:n,value:_.id})},e[6]=s,e[7]=r,e[8]=n,e[9]=p):p=e[9];let m=p,f;return e[10]!==u||e[11]!==m?(f=Mr(u,{onSelect:m}),e[10]=u,e[11]=m,e[12]=f):f=e[12],f},xg=()=>{let t=Ys(3),[e]=qs(),o,r;return t[0]!==e?(o=()=>e.registerCommand(Ve,bg,Qs),r=[e],t[0]=e,t[1]=o,t[2]=r):(o=t[1],r=t[2]),ea(o,r),null},ta=t=>Mr(Ot,{...t,FallbackComponent:xg,uploads:!0,children:Mr(Cg,{...t})});function bg(){return pg.error("No upload collections enabled"),!0}var Ar=vg("INSERT_UPLOAD_COMMAND"),oa=t=>{let e=_g(5),[o]=wg(),{config:r}=Ng(),{collections:n}=r,i,l;e[0]!==o?(i=()=>{if(!o.hasNodes([Ie]))throw new Error("UploadPlugin: UploadNode not registered on editor");return Eg(o.registerCommand(Ar,u=>(o.update(()=>{let c=Sg()||Lg();if(Ig(c)){let d=Ge({data:{id:u.id,fields:u.fields,relationTo:u.relationTo,value:u.value}});kg(d);let{focus:a}=c,p=a.getNode();Rg(p)&&!p.__first&&(p.__prev||p.__next)&&p.remove()}}),!0),yg))},l=[o],e[0]=o,e[1]=i,e[2]=l):(i=e[1],l=e[2]),Mg(i,l);let s;return e[3]!==n?(s=Tg(ta,{enabledCollectionSlugs:n.map(Ag)}),e[3]=n,e[4]=s):s=e[4],s};function Ag(t){let{slug:e}=t;return e}var Og=y({nodes:[Ie],plugins:[{Component:oa,position:"normal"}],slashMenu:{groups:[Q([{Icon:Ir,key:"upload",keywords:["upload","image","file","img","picture","photo","media"],label:({i18n:t})=>t.t("lexical:upload:label"),onSelect:({editor:t})=>{t.dispatchCommand(Ve,{replace:!1})}}])]},toolbarFixed:{groups:[_e([{ChildComponent:Ir,isActive:({selection:t})=>{if(!Dg(t)||!t.getNodes().length)return!1;let e=t.getNodes()[0];return vr(e)},key:"upload",label:({i18n:t})=>t.t("lexical:upload:label"),onSelect:({editor:t})=>{t.dispatchCommand(Ve,{replace:!1})}}])]}});import{c as Fg}from"react/compiler-runtime";import{jsx as Or}from"react/jsx-runtime";import{ShimmerEffect as $g,useConfig as Pg}from"@payloadcms/ui";import{lazy as Bg,Suspense as Hg,useEffect as jg,useState as Ug}from"react";var ra={block:"LexicalEditorTheme__block",blockCursor:"LexicalEditorTheme__blockCursor",characterLimit:"LexicalEditorTheme__characterLimit",code:"LexicalEditorTheme__code",codeHighlight:{atrule:"LexicalEditorTheme__tokenAttr",attr:"LexicalEditorTheme__tokenAttr",boolean:"LexicalEditorTheme__tokenProperty",builtin:"LexicalEditorTheme__tokenSelector",cdata:"LexicalEditorTheme__tokenComment",char:"LexicalEditorTheme__tokenSelector",class:"LexicalEditorTheme__tokenFunction","class-name":"LexicalEditorTheme__tokenFunction",comment:"LexicalEditorTheme__tokenComment",constant:"LexicalEditorTheme__tokenProperty",deleted:"LexicalEditorTheme__tokenProperty",doctype:"LexicalEditorTheme__tokenComment",entity:"LexicalEditorTheme__tokenOperator",function:"LexicalEditorTheme__tokenFunction",important:"LexicalEditorTheme__tokenVariable",inserted:"LexicalEditorTheme__tokenSelector",keyword:"LexicalEditorTheme__tokenAttr",namespace:"LexicalEditorTheme__tokenVariable",number:"LexicalEditorTheme__tokenProperty",operator:"LexicalEditorTheme__tokenOperator",prolog:"LexicalEditorTheme__tokenComment",property:"LexicalEditorTheme__tokenProperty",punctuation:"LexicalEditorTheme__tokenPunctuation",regex:"LexicalEditorTheme__tokenVariable",selector:"LexicalEditorTheme__tokenSelector",string:"LexicalEditorTheme__tokenSelector",symbol:"LexicalEditorTheme__tokenProperty",tag:"LexicalEditorTheme__tokenProperty",url:"LexicalEditorTheme__tokenOperator",variable:"LexicalEditorTheme__tokenVariable"},embedBlock:{base:"LexicalEditorTheme__embedBlock",focus:"LexicalEditorTheme__embedBlockFocus"},hashtag:"LexicalEditorTheme__hashtag",heading:{h1:"LexicalEditorTheme__h1",h2:"LexicalEditorTheme__h2",h3:"LexicalEditorTheme__h3",h4:"LexicalEditorTheme__h4",h5:"LexicalEditorTheme__h5",h6:"LexicalEditorTheme__h6"},hr:"LexicalEditorTheme__hr",hrSelected:"LexicalEditorTheme__hrSelected",indent:"LexicalEditorTheme__indent",inlineImage:"LexicalEditor__inline-image",link:"LexicalEditorTheme__link",list:{checklist:"LexicalEditorTheme__checklist",listitem:"LexicalEditorTheme__listItem",listitemChecked:"LexicalEditorTheme__listItemChecked",listitemUnchecked:"LexicalEditorTheme__listItemUnchecked",nested:{listitem:"LexicalEditorTheme__nestedListItem"},olDepth:["LexicalEditorTheme__ol1","LexicalEditorTheme__ol2","LexicalEditorTheme__ol3","LexicalEditorTheme__ol4","LexicalEditorTheme__ol5"],ul:"LexicalEditorTheme__ul"},ltr:"LexicalEditorTheme__ltr",mark:"LexicalEditorTheme__mark",markOverlap:"LexicalEditorTheme__markOverlap",paragraph:"LexicalEditorTheme__paragraph",quote:"LexicalEditorTheme__quote",relationship:"LexicalEditorTheme__relationship",rtl:"LexicalEditorTheme__rtl",tab:"LexicalEditorTheme__tabNode",table:"LexicalEditorTheme__table",tableAddColumns:"LexicalEditorTheme__tableAddColumns",tableAddRows:"LexicalEditorTheme__tableAddRows",tableAlignment:{center:"LexicalEditorTheme__tableAlignmentCenter",right:"LexicalEditorTheme__tableAlignmentRight"},tableCell:"LexicalEditorTheme__tableCell",tableCellActionButton:"LexicalEditorTheme__tableCellActionButton",tableCellActionButtonContainer:"LexicalEditorTheme__tableCellActionButtonContainer",tableCellHeader:"LexicalEditorTheme__tableCellHeader",tableCellResizer:"LexicalEditorTheme__tableCellResizer",tableCellSelected:"LexicalEditorTheme__tableCellSelected",tableFrozenColumn:"LexicalEditorTheme__tableFrozenColumn",tableRowStriping:"LexicalEditorTheme__tableRowStriping",tableScrollableWrapper:"LexicalEditorTheme__tableScrollableWrapper",tableSelected:"LexicalEditorTheme__tableSelected",tableSelection:"LexicalEditorTheme__tableSelection",text:{bold:"LexicalEditorTheme__textBold",code:"LexicalEditorTheme__textCode",italic:"LexicalEditorTheme__textItalic",strikethrough:"LexicalEditorTheme__textStrikethrough",subscript:"LexicalEditorTheme__textSubscript",superscript:"LexicalEditorTheme__textSuperscript",underline:"LexicalEditorTheme__textUnderline",underlineStrikethrough:"LexicalEditorTheme__textUnderlineStrikethrough"},upload:"editor-upload"};var Co={namespace:"lexical",theme:ra};function na({config:t,featureClientImportMap:e,featureClientSchemaMap:o,field:r,schemaPath:n,unSanitizedEditorConfig:i}){for(let c of i.features)if(!c?.clientFeatureProps?.featureKey||c?.clientFeatureProps?.order===void 0||c?.clientFeatureProps?.order===null)throw new Error("A Feature you have installed does not return the client props as clientFeatureProps. Please make sure to always return those props, even if they are null, as other important props like order and featureKey are later on injected.");i.features=i.features.sort((c,d)=>c.clientFeatureProps.order-d.clientFeatureProps.order);let l=new Map;for(let c of i.features)l.set(c.clientFeatureProps.featureKey,c);let s=new Map,u=0;for(let c of i.features){let d=typeof c.feature=="function"?c.feature({config:t,featureClientImportMap:e,featureClientSchemaMap:o,featureProviderMap:l,field:r,resolvedFeatures:s,schemaPath:n,unSanitizedEditorConfig:i}):c.feature;d.key=c.clientFeatureProps.featureKey,d.order=u,s.set(c.clientFeatureProps.featureKey,d),u++}return s}var ia=t=>{let e={enabledFeatures:[],enabledFormats:[],markdownTransformers:[],nodes:[],plugins:[],providers:[],slashMenu:{dynamicGroups:[],groups:[]},toolbarFixed:{groups:[]},toolbarInline:{groups:[]}};if(!t?.size)return e;t.forEach(o=>{if(o.providers?.length&&(e.providers=e.providers.concat(o.providers)),o.enableFormats?.length&&e.enabledFormats.push(...o.enableFormats),o.nodes?.length)for(let r of o.nodes)e.nodes.push(r);if(o.plugins?.length&&o.plugins.forEach((r,n)=>{e.plugins?.push({clientProps:o.sanitizedClientFeatureProps,Component:r.Component,key:o.key+n,position:r.position})}),o.toolbarInline?.groups?.length)for(let r of o.toolbarInline.groups){let n=e.toolbarInline.groups.find(i=>i.key===r.key);n?e.toolbarInline.groups=e.toolbarInline.groups.filter(i=>i.key!==r.key):n={...r,items:[]},r?.items?.length&&(n.items=n.items.concat(r.items)),e.toolbarInline?.groups.push(n)}if(o.toolbarFixed?.groups?.length)for(let r of o.toolbarFixed.groups){let n=e.toolbarFixed.groups.find(i=>i.key===r.key);n?e.toolbarFixed.groups=e.toolbarFixed.groups.filter(i=>i.key!==r.key):n={...r,items:[]},r?.items?.length&&(n.items=n.items.concat(r.items)),e.toolbarFixed?.groups.push(n)}if(o.slashMenu?.groups){o.slashMenu.dynamicGroups?.length&&(e.slashMenu.dynamicGroups=e.slashMenu.dynamicGroups.concat(o.slashMenu.dynamicGroups));for(let r of o.slashMenu.groups){let n=e.slashMenu.groups.find(i=>i.key===r.key);n?e.slashMenu.groups=e.slashMenu.groups.filter(i=>i.key!==r.key):n={...r,items:[]},r?.items?.length&&(n.items=n.items.concat(r.items)),e.slashMenu.groups.push(n)}}if(o.markdownTransformers?.length)for(let r of o.markdownTransformers)typeof r=="function"?e.markdownTransformers.push(r({allNodes:e.nodes,allTransformers:e.markdownTransformers})):e.markdownTransformers.push(r);e.enabledFeatures.push(o.key)}),e.toolbarInline.groups.sort((o,r)=>o.order&&r.order?o.order-r.order:o.order?-1:r.order?1:0),e.toolbarFixed.groups.sort((o,r)=>o.order&&r.order?o.order-r.order:o.order?-1:r.order?1:0);for(let o of e.toolbarInline.groups)o.items.sort((r,n)=>r.order&&n.order?r.order-n.order:r.order?-1:n.order?1:0);for(let o of e.toolbarFixed.groups)o.items.sort((r,n)=>r.order&&n.order?r.order-n.order:r.order?-1:n.order?1:0);return e};function Dr(t,e,o){return{admin:o,features:ia(t),lexical:e,resolvedFeatureMap:t}}var Gg=Bg(()=>import("./Field-VKDIZQ73.js").then(t=>({default:t.RichText}))),Wg=t=>{let e=Fg(16),{admin:o,clientFeatures:r,featureClientImportMap:n,featureClientSchemaMap:i,field:l,lexicalEditorConfig:s,schemaPath:u}=t,c;e[0]!==o?(c=o===void 0?{}:o,e[0]=o,e[1]=c):c=e[1];let d=c,a=s===void 0?Co:s,{config:p}=Pg(),[m,f]=Ug(null),h,C;e[2]!==d||e[3]!==r||e[4]!==p||e[5]!==n||e[6]!==i||e[7]!==l||e[8]!==m||e[9]!==a||e[10]!==u?(h=()=>{if(m)return;let R=[];for(let[T,g]of Object.entries(r))g.clientFeatureProvider&&R.push(g.clientFeatureProvider(g.clientFeatureProps));let A=a||Co,b=na({config:p,featureClientImportMap:n,featureClientSchemaMap:i,field:l,schemaPath:u??l.name,unSanitizedEditorConfig:{features:R,lexical:A}});f(Dr(b,A,d))},C=[a,d,m,r,n,i,l,p,u],e[2]=d,e[3]=r,e[4]=p,e[5]=n,e[6]=i,e[7]=l,e[8]=m,e[9]=a,e[10]=u,e[11]=h,e[12]=C):(h=e[11],C=e[12]),jg(h,C);let _;return e[13]!==m||e[14]!==t?(_=Or(Hg,{fallback:Or($g,{height:"35vh"}),children:m&&Or(Gg,{...t,editorConfig:m})}),e[13]=m,e[14]=t,e[15]=_):_=e[15],_};function Vg(t){return t instanceof HTMLElement}function Kg(...t){return t.filter(Boolean).join(" ")}var xo=new WeakMap;function la(t){let e=t.changedTouches[0];return e===void 0?null:[e.clientX,e.clientY]}function bo(t,e){let o=xo.get(t);if(o===void 0){let r=new Set,n=l=>{o!==void 0&&(o.start=la(l))},i=l=>{if(o===void 0)return;let{start:s}=o;if(s===null)return;let u=la(l);for(let c of r)u!==null&&c([u[0]-s[0],u[1]-s[1]],l)};t.addEventListener("touchstart",n),t.addEventListener("touchend",i),o={handleTouchend:i,handleTouchstart:n,listeners:r,start:null},xo.set(t,o)}return o.listeners.add(e),()=>{Jg(t,e)}}function Jg(t,e){let o=xo.get(t);if(o===void 0)return;let{listeners:r}=o;r.delete(e),r.size===0&&(xo.delete(t),t.removeEventListener("touchstart",o.handleTouchstart),t.removeEventListener("touchend",o.handleTouchend))}function Xg(t,e){return bo(t,(o,r)=>{let[n,i]=o;n<0&&-n>Math.abs(i)&&e(n,r)})}function zg(t,e){return bo(t,(o,r)=>{let[n,i]=o;n>0&&n>Math.abs(i)&&e(n,r)})}function Zg(t,e){return bo(t,(o,r)=>{let[n,i]=o;i<0&&-i>Math.abs(n)&&e(n,r)})}function Yg(t,e){return bo(t,(o,r)=>{let[n,i]=o;i>0&&i>Math.abs(n)&&e(n,r)})}import{c as qg}from"react/compiler-runtime";import{jsx as Qg}from"react/jsx-runtime";import"react";var eC=()=>{let t=qg(2),{EditButton:e}=xe(),o;return t[0]!==e?(o=e?Qg(e,{}):null,t[0]=e,t[1]=o):o=t[1],o};import{c as tC}from"react/compiler-runtime";import{jsx as oC}from"react/jsx-runtime";import"react";var rC=()=>{let t=tC(2),{RemoveButton:e}=xe(),o;return t[0]!==e?(o=e?oC(e,{}):null,t[0]=e,t[1]=o):o=t[1],o};import{c as nC}from"react/compiler-runtime";import{jsx as iC}from"react/jsx-runtime";import"react";var lC=()=>{let t=nC(2),{Label:e}=xe(),o;return t[0]!==e?(o=e?iC(e,{}):null,t[0]=e,t[1]=o):o=t[1],o};import{c as sC}from"react/compiler-runtime";import{jsx as aC}from"react/jsx-runtime";import"react";var cC=t=>{let e=sC(3),{children:o}=t,{InlineBlockContainer:r}=xe(),n;return e[0]!==r||e[1]!==o?(n=r?aC(r,{children:o}):null,e[0]=r,e[1]=o,e[2]=n):n=e[2],n};import{c as uC}from"react/compiler-runtime";import{jsx as dC}from"react/jsx-runtime";import"react";var mC=t=>{let e=uC(6),{children:o,editButton:r,Label:n,removeButton:i}=t,{BlockCollapsible:l}=Oe(),s;return e[0]!==l||e[1]!==n||e[2]!==o||e[3]!==r||e[4]!==i?(s=l?dC(l,{editButton:r,Label:n,removeButton:i,children:o}):null,e[0]=l,e[1]=n,e[2]=o,e[3]=r,e[4]=i,e[5]=s):s=e[5],s};import{c as pC}from"react/compiler-runtime";import{jsx as fC}from"react/jsx-runtime";import"react";var hC=()=>{let t=pC(2),{EditButton:e}=Oe(),o;return t[0]!==e?(o=e?fC(e,{}):null,t[0]=e,t[1]=o):o=t[1],o};import{c as gC}from"react/compiler-runtime";import{jsx as CC}from"react/jsx-runtime";import"react";var xC=()=>{let t=gC(2),{RemoveButton:e}=Oe(),o;return t[0]!==e?(o=e?CC(e,{}):null,t[0]=e,t[1]=o):o=t[1],o};import{stringify as bC}from"qs-esm";var _C=({apiURL:t,depth:e,draft:o,locale:r})=>async({id:i,collectionSlug:l,select:s})=>{let u=bC({depth:e??0,draft:o??!1,locale:r,select:s},{addQueryPrefix:!0});return await fetch(`${t}/${l}/${i}${u}`,{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}).then(d=>d.json())};export{Ct as $createAutoLinkNode,Vt as $createBlockNode,To as $createInlineBlockNode,Te as $createLinkNode,je as $createRelationshipNode,Ge as $createUploadNode,ke as $isAutoLinkNode,pt as $isBlockNode,wo as $isInlineBlockNode,Z as $isLinkNode,ir as $isRelationshipNode,vr as $isUploadNode,ba as AlignFeatureClient,we as AutoLinkNode,mC as BlockCollapsible,hC as BlockEditButton,be as BlockNode,xC as BlockRemoveButton,Ea as BlockquoteFeatureClient,Tc as BlocksFeatureClient,Wc as BoldFeatureClient,ae as CAN_USE_DOM,$m as ChecklistFeatureClient,Sp as DETAIL_TYPE_TO_DETAIL,kp as DOUBLE_LINE_BREAK,Bp as DebugJsxConverterFeatureClient,Ip as ELEMENT_FORMAT_TO_TYPE,Rp as ELEMENT_TYPE_TO_FORMAT,ma as ENABLE_SLASH_MENU_COMMAND,aa as EditorConfigProvider,lt as FieldsDrawer,Qf as FixedToolbarFeatureClient,Lu as HeadingFeatureClient,Gu as HorizontalRuleFeatureClient,Ke as INSERT_BLOCK_COMMAND,Je as INSERT_INLINE_BLOCK_COMMAND,Tp as IS_ALL_FORMATTING,ad as IndentFeatureClient,cC as InlineBlockContainer,eC as InlineBlockEditButton,lC as InlineBlockLabel,_o as InlineBlockNode,rC as InlineBlockRemoveButton,zc as InlineCodeFeatureClient,u1 as InlineToolbarFeatureClient,Qc as ItalicFeatureClient,Np as LTR_REGEX,ip as LexicalPluginToLexicalFeatureClient,wm as LinkFeatureClient,ie as LinkNode,wp as NON_BREAKING_SPACE,O as NodeFormat,Vm as OrderedListFeatureClient,pp as ParagraphFeatureClient,ua as Point,Ep as RTL_REGEX,pa as Rect,Nf as RelationshipFeatureClient,Ne as RelationshipNode,Wg as RichTextField,dp as SlateToLexicalFeatureClient,nu as StrikethroughFeatureClient,au as SubscriptFeatureClient,mu as SuperscriptFeatureClient,yp as TEXT_MODE_TO_TYPE,Lp as TEXT_TYPE_TO_FORMAT,vp as TEXT_TYPE_TO_MODE,he as TOGGLE_LINK_COMMAND,rg as TableFeatureClient,Oc as TestRecorderFeatureClient,Rt as ToolbarButton,Ue as ToolbarDropdown,Hc as TreeViewFeatureClient,Cu as UnderlineFeatureClient,Qm as UnorderedListFeatureClient,Og as UploadFeatureClient,Ie as UploadNode,Yg as addSwipeDownListener,Xg as addSwipeLeftListener,zg as addSwipeRightListener,Zg as addSwipeUpListener,$o as createBlockNode,y as createClientFeature,Co as defaultEditorLexicalConfig,pr as getDOMRangeRect,fa as getEnabledNodes,_C as getRestPopulateFn,Xe as getSelectedNode,Vg as isHTMLElement,da as isPoint,Kg as joinClasses,Dr as sanitizeClientEditorConfig,ia as sanitizeClientFeatures,lo as setFloatingElemPosition,Qt as setFloatingElemPositionForLinkEditor,Q as slashMenuBasicGroupWithItems,_e as toolbarAddDropdownGroupWithItems,Bo as toolbarFeatureButtonsGroupWithItems,ee as toolbarFormatGroupWithItems,ne as toolbarTextDropdownGroupWithItems,Oe as useBlockComponentContext,j as useEditorConfigContext,xe as useInlineBlockComponentContext,ca as useLexicalDocumentDrawer,Ce as useLexicalDrawer,St as useLexicalListDrawer};
//# sourceMappingURL=index.js.map
