{"version":3,"sources":["../../src/schema/withDefault.ts"],"sourcesContent":["import type { FieldAffectingData } from 'payload'\n\nimport type { RawColumn } from '../types.js'\n\nexport const withDefault = (column: RawColumn, field: FieldAffectingData): RawColumn => {\n  if (typeof field.defaultValue === 'undefined' || typeof field.defaultValue === 'function') {\n    return column\n  }\n\n  if (typeof field.defaultValue === 'string' && field.defaultValue.includes(\"'\")) {\n    const escapedString = field.defaultValue.replaceAll(\"'\", \"''\")\n    return {\n      ...column,\n      default: escapedString,\n    }\n  }\n\n  return {\n    ...column,\n    default: field.defaultValue,\n  }\n}\n"],"names":["withDefault","column","field","defaultValue","includes","escapedString","replaceAll","default"],"mappings":"AAIA,OAAO,MAAMA,cAAc,CAACC,QAAmBC;IAC7C,IAAI,OAAOA,MAAMC,YAAY,KAAK,eAAe,OAAOD,MAAMC,YAAY,KAAK,YAAY;QACzF,OAAOF;IACT;IAEA,IAAI,OAAOC,MAAMC,YAAY,KAAK,YAAYD,MAAMC,YAAY,CAACC,QAAQ,CAAC,MAAM;QAC9E,MAAMC,gBAAgBH,MAAMC,YAAY,CAACG,UAAU,CAAC,KAAK;QACzD,OAAO;YACL,GAAGL,MAAM;YACTM,SAASF;QACX;IACF;IAEA,OAAO;QACL,GAAGJ,MAAM;QACTM,SAASL,MAAMC,YAAY;IAC7B;AACF,EAAC"}