{"version":3,"sources":["../../../src/transform/read/hasManyNumber.ts"],"sourcesContent":["import type { NumberField } from 'payload'\n\ntype Args = {\n  field: NumberField\n  locale?: string\n  numberRows: Record<string, unknown>[]\n  ref: Record<string, unknown>\n  withinArrayOrBlockLocale?: string\n}\n\nexport const transformHasManyNumber = ({\n  field,\n  locale,\n  numberRows,\n  ref,\n  withinArrayOrBlockLocale,\n}: Args) => {\n  let result: unknown[]\n\n  if (withinArrayOrBlockLocale) {\n    result = numberRows.reduce((acc, { locale, number }) => {\n      if (locale === withinArrayOrBlockLocale) {\n        acc.push(number)\n      }\n\n      return acc\n    }, [])\n  } else {\n    result = numberRows.map(({ number }) => number)\n  }\n\n  if (locale) {\n    ref[field.name][locale] = result\n  } else {\n    ref[field.name] = result\n  }\n}\n"],"names":["transformHasManyNumber","field","locale","numberRows","ref","withinArrayOrBlockLocale","result","reduce","acc","number","push","map","name"],"mappings":"AAUA,OAAO,MAAMA,yBAAyB,CAAC,EACrCC,KAAK,EACLC,MAAM,EACNC,UAAU,EACVC,GAAG,EACHC,wBAAwB,EACnB;IACL,IAAIC;IAEJ,IAAID,0BAA0B;QAC5BC,SAASH,WAAWI,MAAM,CAAC,CAACC,KAAK,EAAEN,MAAM,EAAEO,MAAM,EAAE;YACjD,IAAIP,WAAWG,0BAA0B;gBACvCG,IAAIE,IAAI,CAACD;YACX;YAEA,OAAOD;QACT,GAAG,EAAE;IACP,OAAO;QACLF,SAASH,WAAWQ,GAAG,CAAC,CAAC,EAAEF,MAAM,EAAE,GAAKA;IAC1C;IAEA,IAAIP,QAAQ;QACVE,GAAG,CAACH,MAAMW,IAAI,CAAC,CAACV,OAAO,GAAGI;IAC5B,OAAO;QACLF,GAAG,CAACH,MAAMW,IAAI,CAAC,GAAGN;IACpB;AACF,EAAC"}