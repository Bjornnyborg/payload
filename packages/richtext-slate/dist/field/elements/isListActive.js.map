{"version":3,"sources":["../../../src/field/elements/isListActive.ts"],"sourcesContent":["import { Editor, Element } from 'slate'\n\nimport { getCommonBlock } from './getCommonBlock.js'\n\nexport const isListActive = (editor: Editor, format: string): boolean => {\n  if (!editor.selection) {\n    return false\n  }\n  const [topmostSelectedNode, topmostSelectedNodePath] = getCommonBlock(editor)\n\n  if (Editor.isEditor(topmostSelectedNode)) {\n    return false\n  }\n\n  const [match] = Array.from(\n    Editor.nodes(editor, {\n      at: topmostSelectedNodePath,\n      match: (node, path) => {\n        return (\n          !Editor.isEditor(node) &&\n          Element.isElement(node) &&\n          node.type === format &&\n          path.length >= topmostSelectedNodePath.length - 2\n        )\n      },\n      mode: 'lowest',\n    }),\n  )\n\n  return !!match\n}\n"],"names":["Editor","Element","getCommonBlock","isListActive","editor","format","selection","topmostSelectedNode","topmostSelectedNodePath","isEditor","match","Array","from","nodes","at","node","path","isElement","type","length","mode"],"mappings":"AAAA,SAASA,MAAM,EAAEC,OAAO,QAAQ,QAAO;AAEvC,SAASC,cAAc,QAAQ,sBAAqB;AAEpD,OAAO,MAAMC,eAAe,CAACC,QAAgBC;IAC3C,IAAI,CAACD,OAAOE,SAAS,EAAE;QACrB,OAAO;IACT;IACA,MAAM,CAACC,qBAAqBC,wBAAwB,GAAGN,eAAeE;IAEtE,IAAIJ,OAAOS,QAAQ,CAACF,sBAAsB;QACxC,OAAO;IACT;IAEA,MAAM,CAACG,MAAM,GAAGC,MAAMC,IAAI,CACxBZ,OAAOa,KAAK,CAACT,QAAQ;QACnBU,IAAIN;QACJE,OAAO,CAACK,MAAMC;YACZ,OACE,CAAChB,OAAOS,QAAQ,CAACM,SACjBd,QAAQgB,SAAS,CAACF,SAClBA,KAAKG,IAAI,KAAKb,UACdW,KAAKG,MAAM,IAAIX,wBAAwBW,MAAM,GAAG;QAEpD;QACAC,MAAM;IACR;IAGF,OAAO,CAAC,CAACV;AACX,EAAC"}