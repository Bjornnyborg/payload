{"version":3,"sources":["../../../src/field/elements/toggle.tsx"],"sourcesContent":["'use client'\nimport { Editor, Transforms } from 'slate'\nimport { ReactEditor } from 'slate-react'\n\nimport { isElementActive } from './isActive.js'\nimport { isWithinListItem } from './isWithinListItem.js'\n\nexport const toggleElement = (editor: Editor, format: string, blockType = 'type'): void => {\n  const isActive = isElementActive(editor, format, blockType)\n\n  const formatByBlockType = {\n    [blockType]: format,\n  }\n\n  const isWithinLI = isWithinListItem(editor)\n\n  if (isActive) {\n    formatByBlockType[blockType] = undefined\n  }\n\n  if (!isActive && isWithinLI && blockType !== 'textAlign') {\n    const block = { type: 'li', children: [] }\n    Transforms.wrapNodes(editor, block, {\n      at: Editor.unhangRange(editor, editor.selection),\n    })\n  }\n\n  Transforms.setNodes(\n    editor,\n    { [blockType]: formatByBlockType[blockType] },\n    {\n      at: Editor.unhangRange(editor, editor.selection),\n    },\n  )\n\n  ReactEditor.focus(editor)\n}\n"],"names":["Editor","Transforms","ReactEditor","isElementActive","isWithinListItem","toggleElement","editor","format","blockType","isActive","formatByBlockType","isWithinLI","undefined","block","type","children","wrapNodes","at","unhangRange","selection","setNodes","focus"],"mappings":"AAAA;AACA,SAASA,MAAM,EAAEC,UAAU,QAAQ,QAAO;AAC1C,SAASC,WAAW,QAAQ,cAAa;AAEzC,SAASC,eAAe,QAAQ,gBAAe;AAC/C,SAASC,gBAAgB,QAAQ,wBAAuB;AAExD,OAAO,MAAMC,gBAAgB,CAACC,QAAgBC,QAAgBC,YAAY,MAAM;IAC9E,MAAMC,WAAWN,gBAAgBG,QAAQC,QAAQC;IAEjD,MAAME,oBAAoB;QACxB,CAACF,UAAU,EAAED;IACf;IAEA,MAAMI,aAAaP,iBAAiBE;IAEpC,IAAIG,UAAU;QACZC,iBAAiB,CAACF,UAAU,GAAGI;IACjC;IAEA,IAAI,CAACH,YAAYE,cAAcH,cAAc,aAAa;QACxD,MAAMK,QAAQ;YAAEC,MAAM;YAAMC,UAAU,EAAE;QAAC;QACzCd,WAAWe,SAAS,CAACV,QAAQO,OAAO;YAClCI,IAAIjB,OAAOkB,WAAW,CAACZ,QAAQA,OAAOa,SAAS;QACjD;IACF;IAEAlB,WAAWmB,QAAQ,CACjBd,QACA;QAAE,CAACE,UAAU,EAAEE,iBAAiB,CAACF,UAAU;IAAC,GAC5C;QACES,IAAIjB,OAAOkB,WAAW,CAACZ,QAAQA,OAAOa,SAAS;IACjD;IAGFjB,YAAYmB,KAAK,CAACf;AACpB,EAAC"}